/*
 * @(#) LHeaderContextMenu-min.js
 * 
 * DevOn RUI
 * Build Version : 2.8
 * 
 * Copyright ⓒ LG CNS, Inc. All rights reserved.
 *
 * DevOn RUI의 모든 저작물은 LG CNS 의 지적재산입니다.
 * LG CNS로 부터 허가 받지 않은 경우 사용, 열람, 복사, 수정, 재배포 할 수 없으며 외부로의 유출을 금지합니다.
 * 특히 소스 코드를 수정하는 경우 기술 지원의 대상이 되지 않을 수 있습니다.
 * 자세한 사항은 계약사항에 따릅니다. 기타 사항은 devon@lgcns.com 으로 문의 하십시오.
 *
 * Do Not Erase This Comment!!! (이 주석문을 지우지 말것)
 *
 * rui/license.txt를 반드시 읽어보고 사용하시기 바랍니다. License.txt파일은 절대로 삭제하시면 안됩니다. 
 *
 * 1. 사내 사용시 KAMS를 통해 요청하여 사용허가를 받으셔야 소프트웨어 라이센스 계약서에 동의하는 것으로 간주됩니다.
 * 2. DevOn RUI가 포함된 제품을 판매하실 경우에도 KAMS를 통해 요청하여 사용허가를 받으셔야 합니다.
 * 3. KAMS를 통해 사용허가를 받지 않은 경우 소프트웨어 라이센스 계약을 위반한 것으로 간주됩니다.
 * 4. 별도로 판매될 경우는 LGCNS의 소프트웨어 판매정책을 따릅니다.
 */
Rui.ui.grid.LHeaderContextMenu=function(e){var t=Rui.getMessageManager();this.groups=[{id:"gridMenu",name:t.get("$.ext.msg008")},{id:"columnMenu",name:t.get("$.ext.msg009")},{id:"infoMenu",name:t.get("$.ext.msg010")}],e=Rui.applyIf(e,Rui.getConfig().getFirst("$.ext.headerContextMenu.defaultProperties"));var i=Rui.applyIf(e.headerToolOptions||{},{useSaveExcel:!0,useFreezeColumn:!0,useDataSort:!0,useAutoAllUpdateColumnFit:!0,useAutoUpdateColumnsAutoWidth:!0,useDataFilterClear:!0,useDataFilter:!0,useUpdateColumnFit:!0,useBrowserRecommand:!0,useSearchDialog:!0});this.menuItems=[],i.useSaveExcel&&this.menuItems.push({id:"saveExcel",groupId:"gridMenu",name:t.get("$.ext.msg001"),items:[]}),i.useFreezeColumn&&this.menuItems.push({id:"freezeColumn",groupId:"gridMenu",name:t.get("$.ext.msg002"),items:[]}),this.menuItems.push({id:"noFreezeColumn",groupId:"gridMenu",name:t.get("$.ext.msg002")+" "+t.get("$.base.msg121"),items:[]}),i.useDataSort&&this.menuItems.push({id:"dataSort",groupId:"gridMenu",name:t.get("$.ext.msg003"),items:[]}),i.useAutoAllUpdateColumnFit&&this.menuItems.push({id:"autoAllUpdateColumnFit",groupId:"gridMenu",name:t.get("$.ext.msg011"),items:[]}),i.useAutoUpdateColumnsAutoWidth&&this.menuItems.push({id:"autoUpdateColumnsAutoWidth",groupId:"gridMenu",name:t.get("$.ext.msg015"),items:[]}),i.useDataFilterClear&&this.menuItems.push({id:"dataFilterClear",groupId:"gridMenu",name:t.get("$.ext.msg013"),items:[]}),i.useSearchDialog&&this.menuItems.push({id:"searchDialog",groupId:"gridMenu",name:t.get("$.ext.msg021"),items:[]}),i.useDataFilter&&this.menuItems.push({id:"dataFilter",groupId:"columnMenu",name:t.get("$.ext.msg004"),items:[]}),i.useUpdateColumnFit&&this.menuItems.push({id:"updateColumnFit",groupId:"columnMenu",name:t.get("$.ext.msg012"),items:[]}),i.useBrowserRecommand&&Rui.browser.msie678&&this.menuItems.push({id:"browserRecommand",groupId:"infoMenu",name:"브라우져 권장",items:[]}),Rui.ui.grid.LHeaderContextMenu.superclass.constructor.call(this,e),this.gridView.createEvent("renderMenuRow"),this.sorts=[],this.filters={},this.gridId=this.gridView.gridId},Rui.extend(Rui.ui.grid.LHeaderContextMenu,Rui.ui.LUIComponent,{sorts:null,filters:null,gridId:null,maxFilterCount:30,createTemplate:function(){var e=this.templates||{};e.master||(e.master=new Rui.LTemplate('<a href="#" class="L-header-focus" tabIndex="-1" style="position:absolute;"></a>','<div class="L-header-master-menu" style="{tstyle}">',"{menuBody}","</div>",'<div class="L-header-sub-menu L-hide-display" style="{tstyle}">',"{subMenuBody}","</div>")),e.menuBody||(e.menuBody=new Rui.LTemplate('<ul class="L-header-{type}-menu-body " style="{style}" >',"{menuBodyRows}","</ul>")),e.groupMenuBody||(e.groupMenuBody=new Rui.LTemplate('<li class="L-header-group-menu-row {itemId}" id="{id}" style="{style}" >',"{rowData}","</li>")),e.menuBodyRow||(e.menuBodyRow=new Rui.LTemplate('<li class="L-header-menu-row {itemId}" id="{id}" style="{style}" >',"{rowData}","</li>")),this.templates=e},renderMaster:function(e){var t=this.templates.master.apply({menuBody:e,ostyle:"width:100px"});this.el.html(t),this.el.addClass("L-fixed")},getRenderMenuBody:function(e){for(var t,i=this.templates||{},s="",o=0;o<this.menuItems.length;o++){var d=this.menuItems[o];!1!==this.gridView.fireEvent("renderMenuRow",{target:this.gridView,item:d})&&(t!==d.groupId&&(s+=this.getRenderGroupMenuBody(this.getGroupItem(d.groupId)),t=d.groupId),s+=this.getRenderMenuBodyRow(d))}return i.menuBody.apply({type:e,menuBodyRows:s})},getGroupItem:function(e){for(var t=0,i=this.groups.length;t<i;t++)if(this.groups[t].id===e)return this.groups[t];return null},getRenderGroupMenuBody:function(e){return(this.templates||{}).groupMenuBody.apply({id:Rui.useFixedId()?"LGrid-header-grpmenu-"+this.gridId+"-"+e.id:Rui.id(),itemId:e.id,rowData:e.name})},getRenderMenuBodyRow:function(e){return(this.templates||{}).menuBodyRow.apply({id:Rui.useFixedId()?"LGrid-header-menu-"+this.gridId+"-"+e.id:Rui.id(),itemId:e.id,rowData:e.name})},getRenderSortColumns:function(e){var t=Rui.getMessageManager(),i=this.templates||{},s='<ul class="L-header-menu-rows">',o=this.gridView.columnModel,d=this.gridView.dataSet,r=t.get("$.ext.msg014"),l=t.get("$.ext.msg005"),a=t.get("$.ext.msg006"),n=d.sortDirection||{};this.sorts=[];for(var u=0,h=o.getColumnCount(!0);u<h;u++){(m=o.getColumnAt(u,!0)).field&&m.sortable&&this.sorts.push({id:m.field,dir:n[m.field]||""})}for(u=0,h=this.sorts.length;u<h;u++){var m,g=this.sorts[u],c=n[g.id],f=(m=o.getColumnById(g.id)).label||m.id,p="",C="";c&&("desc"==c?C="checked":"asc"==c&&(p="checked"));var R=Rui.useFixedId()?"LGrid-header-menu-sort-"+this.gridId+"-"+m.id:Rui.id(),y='<span class="L-sort-label">'+f+"</span>";y+='<input type="radio" name="'+R+'" id="'+R+'1" value="" checked class="L-field-'+m.id+'"> <label for="'+R+'1">'+r+"</label>",y+='<input type="radio" name="'+R+'" id="'+R+'2" value="asc" '+p+' class="L-field-'+m.id+'"> <label for="'+R+'2">'+l+"</label>",y+='<input type="radio" name="'+R+'" id="'+R+'3" value="desc" '+C+' class="L-field-'+m.id+'"> <label for="'+R+'3">'+a+"</label>",s+=i.menuBodyRow.apply({id:R,rowData:y})}return s+="</ul>",this.sorts.length||(s+="<p>정렬 가능한 컬럼이 없습니다.</p>"),s},getRenderFilterColumns:function(e){var t=Rui.getMessageManager(),i=this.templates||{},s='<ul class="L-header-menu-rows">',o=this.gridView.columnModel,d=this.gridView.dataSet,r=o.getColumnById(e);if(r){var l=d.getFieldById(r.field),a=d.snapshot&&0<d.snapshot.length?d.snapshot:d.data,n=0,u=Rui.useFixedId()?"LGrid-header-submenu-filter-"+this.gridId+"-"+e+"-"+n++:Rui.id(),h=a.length==d.data.length?"checked":"";s+=i.menuBodyRow.apply({id:u,rowData:'<input type="checkbox" id="'+u+'-chkbox" value="" '+h+' class="L-checked-all"> <label for="'+u+'-chkbox">'+t.get("$.base.msg119")+"</label>"});for(var m=[],g=0,c=a.length;g<c;g++){var f,p,C=a.getAt(g),R=C.get(r.getField()),y=R=R||0===R?R:"";if((r.editor&&r.editor.beforeRenderer||r.renderer)&&(f=C.dataSet.indexOfRecord(C),p=r.columnModel.getIndex(r,!0),y=r.editor&&r.editor.beforeRenderer?r.editor.beforeRenderer(y,{css:[]},C,f,p):r.renderer(y,{css:[]},C,f,p)),"date"===l.type?R=Rui.util.LDate.format(R,{format:"%Y%m%d"}):"number"===l.type&&(y=R=Rui.isEmpty(R)?0:parseFloat(R)),!Rui.util.LArray.contains(m,y)){if(m.push(y),m.length>this.maxFilterCount){s+=i.menuBodyRow.apply({id:"",rowData:t.get("$.ext.msg007",[this.maxFilterCount])});break}var v="checked";if(!h)if(this.filters[r.id])v="number"!==l.type||Rui.isEmpty(R)?Rui.util.LArray.contains(this.filters[r.id],""+R)?"checked":"":Rui.util.LArray.contains(this.filters[r.id],0+R)?"checked":"";else for(var L=0,b=d.data.length;L<b;L++){var I=(I=d.data.getAt(L).get(r.getField()))||"";if("date"===l.type?I=Rui.util.LDate.format(I,{format:"%Y%m%d"}):"number"!==l.type||Rui.isEmpty(I)||(I=parseFloat(R)),R==I){v="checked";break}v=""}u=Rui.useFixedId()?"LGrid-header-submenu-filter-"+this.gridId+"-"+e+"-"+n++:Rui.id(),s+=i.menuBodyRow.apply({id:u,rowData:'<input type="checkbox" id="'+u+'-chkbox" value="'+R+'" '+v+' class="L-checked"> <label for="'+u+'-chkbox">'+y+"</label>"})}}return s+="</ul>",s+='<div class="L-header-sub-menu-buttons"><button id="',s+=Rui.useFixedId()?"LGrid-header-submenu-filter-"+this.gridId+"-btn":Rui.id(),s+='" type="button" name="applyBtn" class="L-filter-btn">'+t.get("$.base.msg120")+"</button></div>"}},doRender:function(e){if(!0!==this.gridView.dataSet.multiSortable)for(var t=0;t<this.menuItems.length;t++)if("dataSort"==this.menuItems[t].id){this.menuItems=Rui.util.LArray.removeAt(this.menuItems,t);break}this.createTemplate(),this.renderMaster(this.getRenderMenuBody("master")),this.el.addClass("L-header-context-menu"),this.el.on("click",this.onClick,this,!0),this.on("show",this.onShow,this,!0),this.on("hide",this.onHide,this,!0),this.doRedoRender(),this.detachEvent(),this.attachEvent()},attachEvent:function(){var e,t,i,s=this.gridView;s&&(e=s.gridPanel,t=s.dataSet,i=e.getSelectionModel(),s.on("bodyScroll",this.onHideHeaderToolEl,this,!0,{system:!0}),s.on("blur",this.onHideHeaderToolEl,this,!0,{system:!0}),s.on("sortField",this.onSortField,this,!0,{system:!0}),s.on("redoRender",this.onRedoRender,this,!0,{system:!0}),this.el.getHeight()>e.getHeight()&&(this.el.setHeight(e.getHeight()-30),this.el.setStyle("overflow-y","scroll")),e.on("click",this.onHideHeaderToolEl,this,!0,{system:!0}),e.on("widthResize",this.onHideHeaderToolEl,this,!0,{system:!0}),t.on("load",this.onLoad,this,!0,{system:!0}),i.on("selectCell",this.onSelectCell,this,!0,{system:!0}))},detachEvent:function(){var e,t,i,s=this.gridView;s&&(e=s.gridPanel,t=s.dataSet,i=e.getSelectionModel(),s.unOn("bodyScroll",this.onHideHeaderToolEl,this),s.unOn("blur",this.onHideHeaderToolEl,this),s.unOn("sortField",this.onSortField,this),s.unOn("redoRender",this.onRedoRender,this),e.unOn("click",this.onHideHeaderToolEl,this),e.unOn("widthResize",this.onHideHeaderToolEl,this),t.unOn("load",this.onLoad,this),i.unOn("selectCell",this.onSelectCell,this))},onClick:function(e){var i,s=Rui.get(e.target);if(s.hasClass("L-header-menu-row")){var t,o,d=Rui.getRootPath(),l=this.gridView,r=l.gridPanel,a=l.columnModel;if(s.hasClass("freezeColumn"))a.setFreezeColumnId(this.currColumnId);else if(s.hasClass("noFreezeColumn"))a.setFreezeColumnId(null);else if(s.hasClass("saveExcel")){void 0===Rui.ui.grid.LGridView&&Rui.includeJs(d+"/plugins/ui/grid/LGridView.js",!0),void 0===Rui.ui.grid.LGridPanel.prototype.saveExcel&&Rui.includeJs(d+"/plugins/ui/grid/LGridPanelExt.js",!0);var n=r.title||"";n&&(n+="_"+Rui.util.LDate.format(new Date,{format:"%q"})+".xls"),l.gridPanel.saveExcel(n)}else if(s.hasClass("dataSort")){var u=Rui.getMessageManager(),h=[{text:u.get("$.base.msg120"),handler:Rui.util.LFunction.createDelegate(function(){var e=this.headerDialog.getBody().select("input");this.sorts=[],e.each(function(e,t){var i,s,o,d,r;e.dom.checked&&(i=e.dom.className.substring(8),s=a.getColumnById(i),o=a.getIndex(s,!0),d=l.getHeaderCellEl(o),r=e.dom.value,s.removeHeaderCss(["L-grid-sort-asc","L-grid-sort-desc"]),d.removeClass(["L-grid-sort-asc","L-grid-sort-desc"]),this.sorts.push({id:i,dir:r}),r&&(s.addHeaderCss("L-grid-sort-"+r),d.addClass("L-grid-sort-"+r)))},this,!0);for(var t={},i=0,s=this.sorts.length;i<s;i++)this.sorts[i].dir&&(t[this.sorts[i].id]=this.sorts[i].dir);l.dataSet.sorts(t),this.headerDialog.submit(!0)},this),isDefault:!0},{text:u.get("$.base.msg121"),handler:Rui.util.LFunction.createDelegate(function(){this.headerDialog.cancel(!0)},this)}],m=this.getHeaderToolDialog(h);m.setHeader("Sort"),m.setBody(this.getRenderSortColumns(this.currColumnId)),void 0===Rui.dd.LDDList&&Rui.includeJs(d+"/plugins/dd/LDDList.js",!0);for(var g=m.getBody().select(".L-header-menu-row"),c=0,f=g.length;c<f;c++)new Rui.dd.LDDList({isProxy:!1,id:g.getAt(c).id});m.show(),this.headerToolEl.hide()}else if(s.hasClass("autoAllUpdateColumnFit"))for(var p=0,f=a.getColumnCount(!0);p<f;p++)l.updateColumnFit(p);else if(s.hasClass("autoUpdateColumnsAutoWidth"))l.updateColumnsAutoWidth();else if(s.hasClass("dataFilter"))this.subMenuEl.html(this.getRenderFilterColumns(this.currColumnId));else if(s.hasClass("dataFilterClear")){l.dataSet.clearFilter(),l.getHeaderEl().select(".L-filtered").removeClass("L-filtered");for(var C=l.columnModel.columnList,p=0;p<C.length;p++)C[p].removeHeaderCss("L-filtered");this.subMenuEl.select("input").each(function(e,t){e.dom.checked||(e.dom.checked=!0)},this,!0),this.filters={}}else{s.hasClass("searchDialog")?(this.el.hide(),r.showSearchDialog()):s.hasClass("updateColumnFit")?(t=a.getIndexById(this.currColumnId),l.updateColumnFit(t),this.headerToolEl.hide()):s.hasClass("browserRecommand")&&(Rui.getConfig(),Rui.alert('<p>현재 사용하고 있는 IE 브라우져(버전 6,7,8)는 다른 브라우져에 비해서 성능이 많이 떨어집니다.<p/><p>또한 Window XP의 IE 브라우져와 Window 7 이상버전에서의 브라우져 성능은 최소 2배이상 차이가 납니다.<p/><p>쾌적환 기능을 사용하기 위해 OS 및 브라우져를 업그레이드 하거나 성능 높은 다른 브라우져를 사용하기를 권장합니다.<p/><p><a href="http://browsehappy.com" target="_new">최신 브라우저 다운로드</a></p>'))}s.hasClass("dataFilter")&&(this.subMenuEl.select("button").unOn("click",this.onApply,this),this.subMenuEl.select("button").on("click",this.onApply,this,!0),this.subMenuEl.show(),o=this.getWidth(),this.subMenuEl.getLeft()+this.subMenuEl.getWidth()+100>l.el.getRight()-this.subMenuEl.getWidth()?this.subMenuEl.setLeft(-1*this.subMenuEl.getWidth()):this.subMenuEl.setLeft(o),this.subMenuEl.setTop(s.getTop(!0)+5))}else{s.hasClass("L-checked-all")?this.subMenuEl.select("input").each(function(e,t){e.dom.checked=s.dom.checked}):s.hasClass("L-checked")&&(i=!0,this.subMenuEl.select(".L-checked").each(function(e,t){e.dom.checked||(i=!1)}),this.subMenuEl.select(".L-checked-all").each(function(e,t){e.dom.checked=i}))}Rui.util.LEvent.stopPropagation(e)},onShow:function(){var e=this.gridView.columnModel.getColumnById(this.currColumnId);e&&e.getField()?this.el.addClass("L-use-field"):this.el.removeClass("L-use-field"),this.focusEl.focus()},onHide:function(){this.subMenuEl.hide()},onClickHeaderTool:function(e){var t,i,s,o=Rui.get(e.target);o&&(this.headerToolEl.dom==o.dom||this.headerToolEl.isAncestor(o.dom))&&(this.subMenuEl.hide(),t=this.gridView,i=this.headerToolEl.currColumnId,t.headerContextMenu.currColumnId=i,t.columnModel.getColumnById(i)&&(this.selectId=i,t.headerContextMenu.show(),(s=this.headerToolEl.getLeft()+this.headerToolEl.getWidth(!0)-t.el.getLeft())>t.el.getRight()-120&&(s-=120),t.headerContextMenu.setLeft(s))),Rui.util.LEvent.stopEvent(e)},onHideHeaderToolEl:function(e){this.headerToolEl&&this.headerToolEl.hide();var t=this.gridView;t.headerContextMenu&&t.headerContextMenu.hide()},onHeaderMouseOver:function(e){var t=e.target,i=this.gridView,s=i.findHeaderCellDom(e.target);s&&!i.headerDisabled&&(!1===this.headerToolEl.isShow()||this.activeRowDom!==s&&t!==this.headerToolEl.dom)&&this.showIcon(i.activeHeaderColumnIndex)},showIcon:function(e){var t,i,s,o=this.gridView,d=o.columnModel.getColumnAt(e,!0);d instanceof Rui.ui.grid.LTriggerColumn||(t=o.getHeaderCellEl(e),i=Rui.get(t),d&&d.headerTool&&30<i.getWidth()&&(this.headerToolEl.currColumnId=d.id,this.activeRowDom=t,this.headerToolEl.show(),s=(o.scroller?o.scroller.getScrollLeft():o.headerEl.dom.scrollLeft)+i.getRight()-this.headerToolEl.getWidth()-o.headerEl.dom.scrollLeft-o.el.getLeft(),this.headerToolEl.setTop(i.dom.offsetTop),o.el.getRight()-30<s?this.headerToolEl.hide():this.headerToolEl.setLeft(s)))},onHeaderMouseOut:function(e){var t=this.gridView.findHeaderCellDom(e.target);(this.activeRowDom&&this.activeRowDom.dom)!==t&&(this.headerToolEl.hide(),this.activeRowDom=null)},onSelectCell:function(e){this.showIcon(e.col)},onApply:function(e){var t=Rui.get(e.target),i=this.subMenuEl.select("input"),s=this.gridView,a=s.dataSet,o=s.columnModel;if(t.hasClass("L-filter-btn")){this.filters[this.selectId]=[];var d=!0,r=o.getColumnById(this.selectId);this.currField=a.getFieldById(r.field),i.each(function(e,t){var i;0!==t&&e.dom.checked&&(i=e.getValue(),"number"!==this.currField.type||Rui.isEmpty(i)||(i=parseInt(i,10)),this.filters[this.selectId].push(i)),e.dom.checked||(d=!1)},this,!0);var l=o.getIndex(r,!0),n=s.getHeaderCellEl(l),u=0;for(var h in this.filters)this.filters.hasOwnProperty(h)&&u++;if(d&&(s.dataSet.clearFilter(),r.removeHeaderCss("L-filtered"),n.removeClass("L-filtered"),delete this.filters[this.selectId]),1<u||!d){r.addHeaderCss("L-filtered"),n.addClass("L-filtered");var m,g=[];for(m in this.filters)g.push(m);s.dataSet.filter(function(e,t){for(var i=!0,s=0,o=g.length;s<o;s++){var d=g[s],r=a.getFieldById(d).type;if(this.currField&&"date"===r){if(!1===Rui.util.LArray.contains(this.filters[d],Rui.util.LDate.format(t.get(d),{format:"%Y%m%d"}))){i=!1;break}}else if(this.currField&&"number"===r){var l=t.get(d);if(null!=l&&""!=l||(l=0),!1===Rui.util.LArray.contains(this.filters[d],l)){i=!1;break}}else if(!1===Rui.util.LArray.contains(this.filters[d],""+t.get(d))){i=!1;break}}return i},this,!0)}}this.hide()},onRedoRender:function(e){this.doRedoRender()},doRedoRender:function(){var e=this.gridView,t=e.headerEl;this.focusEl=Rui.get(this.el.dom.childNodes[0]),this.subMenuEl=Rui.get(this.el.dom.childNodes[2]);var i=(i=e.height-50)<0?0:i;this.subMenuEl.setStyle("max-height",i+"px"),t.unOn("mouseover",this.onHeaderMouseOver,this),t.unOn("mouseout",this.onHeaderMouseOut,this),t.on("mouseover",this.onHeaderMouseOver,this,!0),t.on("mouseout",this.onHeaderMouseOut,this,!0),this.headerToolEl&&this.headerToolEl.unOn("click",this.onClickHeaderTool,this),this.headerToolEl=e.headerEl.select(".L-grid-header-tool").getAt(0),this.headerToolEl.on("click",this.onClickHeaderTool,this,!0)},onSortField:function(e){this.sorts=[];for(var t=this.gridView.columnModel,i=0,s=t.getColumnCount(!0);i<s;i++){var o=t.getColumnAt(i,!0);o.field&&o.sortable&&(e.sortField==o.field?(o.removeHeaderCss("L-grid-sort-asc"),o.removeHeaderCss("L-grid-sort-desc"),e.sortDir&&o.addHeaderCss("L-grid-sort-"+e.sortDir),this.sorts.push({id:e.sortField,dir:e.sortDir})):this.sorts.push({id:o.field,dir:""}))}},onLoad:function(e){e.options&&!0===e.options.add||this.gridView.getHeaderEl().select(".L-filtered").removeClass("L-filtered")},getHeaderToolDialog:function(e){if(!this.headerDialog){for(var t=this.gridView.columnModel,i=0,s=0,o=t.getColumnCount(!0);s<o;s++){var d=t.getColumnAt(s,!0);d.field&&d.sortable&&i++}this.headerDialog=new Rui.ui.LDialog({id:this.gridView.gridId+"-HeaderToolDialog",defaultCss:"L-grid-header-tool-dialog",width:320,height:25*i+90,visible:!1,buttons:e}),this.headerDialog.render(document.body),this.headerDialog.getBody().addClass("L-grid-header-tool-dialog")}return this.headerDialog},destroy:function(){return this.el&&this.el.unOnAll(),this.subMenuEl&&this.subMenuEl.unOnAll(),this.headerToolEl&&this.headerToolEl.unOnAll(),this.detachEvent(),Rui.ui.grid.LHeaderContextMenu.superclass.destroy.call(this),this}});