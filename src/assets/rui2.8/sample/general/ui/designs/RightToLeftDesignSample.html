<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="devon-rui-keyword" content="RTL, rtl 디자인" />
    <title>Right to Left(RTL) Design</title>

    <script type="text/javascript" src="./../../../../js/rui_base.js"></script>
    <script type="text/javascript" src="./../../../../js/rui_core.js"></script>
    <script type="text/javascript" src="./../../../../js/rui_ui.js"></script>
    <script type="text/javascript" src="./../../../../js/rui_form.js"></script>
    <script type="text/javascript" src="./../../../../js/rui_grid.js"></script>
    <script type="text/javascript" src="./../../../../resources/rui_config.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../resources/rui.css"/>


    <script type="text/javascript" src="./../../../../plugins/ui/calendar/LMonthCalendar.js"></script>
    <script type="text/javascript" src="./../../../../plugins/ui/form/LMonthBox.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/form/LMonthBox.css"/>
    
    <script type="text/javascript" src="./../../../../plugins/ui/form/LMultiCombo.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/form/LMultiCombo.css" />
    
    <script type="text/javascript" src="./../../../../plugins/ui/form/LPopupTextBox.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/form/LPopupTextBox.css"/>
        

    <script type="text/javascript" src="./../../../../plugins/ui/form/LFromToDateBox.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/form/LFromToDateBox.css"/>

    <script type="text/javascript" src="./../../../../plugins/ui/calendar/LFromToCalendar.js"></script>


    <script type="text/javascript" src="./../../../../plugins/ui/grid/LHeaderContextMenu.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/grid/LHeaderContextMenu.css"/>
    
    <script type="text/javascript" src="./../../../../plugins/ui/grid/LTotalSummary.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/grid/LTotalSummary.css"/>
    
    <script type="text/javascript" src="./../../../../plugins/ui/grid/LTreeGridSelectionModel.js"></script>
    <script type="text/javascript" src="./../../../../plugins/ui/grid/LTreeGridView.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../../plugins/ui/grid/LTreeGridView.css"/>

    
    <script type="text/javascript" src="./../../../../sample/general/rui_sample.js"></script>
    
    <link rel="stylesheet" type="text/css" href="./../../../../resources/rui_rtl.css"/>

    <style type="text/css">
    label {
        width: 12%;
        display: inline-block;
    }
    
    .L-label {
        width: auto;
    }
    </style>

    <script type="text/javascript" class="script-code">
        
        Rui.onReady(function() {
            Rui.getConfig().set('$.core.rightToLeft', [true]);

            var initScr = function(grid) {
                var scr = grid.getView().getScroller();
                scr.go(scr.getMaxScrollLeft(), true);
            };
            var textbox = new Rui.ui.form.LTextBox({
                applyTo: 'textbox',
                placeholder: 'placeholder 내용이 출력됩니다',
                width: 300
            });
            
            var checkBox = new Rui.ui.form.LCheckBox({
                applyTo: 'checkBox',
                name: 'checkBox',
                width: 100,
                label: '선택',
                value: 'Y'
            });
            
            var radio = new Rui.ui.form.LRadio({
                applyTo: 'radio',
                name: 'radio',
                label: '선택',
                value: 'Y'
            });
            
            var combo = new Rui.ui.form.LCombo({
                applyTo: 'combo',
                name: 'code'
            });
            
            var multiCombo = new Rui.ui.form.LMultiCombo({
                applyTo: 'multiCode',
                name: 'code',
                defaultValue: 'code1,code3',
                url: './../../../../sample/data/code.json'
            });
            
            var datebox = new Rui.ui.form.LDateBox({
                applyTo: 'datebox',
                placeholder: 'yyyy-mm-dd'
            });
            
            var monthbox = new Rui.ui.form.LMonthBox({
                applyTo: 'monthbox',
                placeholder: 'yyyy-mm',
                defaultValue: null
            });

            var timebox = new Rui.ui.form.LTimeBox({
                applyTo: 'timebox'
            });
            
            var numberbox = new Rui.ui.form.LNumberBox({
                applyTo: 'numberbox',
                minValue: -10,
                maxValue: 10000,
                decimalPrecision: 2,
                placeholder: '-10 부터 10,000까지 입력 하세요.',
                width: 210
            });

            var popuptextbox = new Rui.ui.form.LPopupTextBox({
                applyTo: 'popuptextbox',
                enterToPopup: true,
                useHiddenValue: true,
                editable: true
            });
            
            var textarea = new Rui.ui.form.LTextArea({
                applyTo: 'textarea',
                placeholder: 'Placeholder 입니다. 내용을 입력해주세요.',
                width: 300,
                height: 100
            });

            var periodBox = new Rui.ui.form.LFromToDateBox({
                applyTo: 'divFromTo',
                startBoxName: 'start_date',
                endBoxName: 'end_date',
                startDate: new Date()
            });

            popuptextbox.on('popup', function(e){
                var displayValue = e.displayValue;
                Rui.log('value : ' + e.value + ', displayValue : ' + displayValue);
                
                var popup = window.open('about:blank?displayValue=' + displayValue, 'popup', 'width=800,height=400,toolbar=no,status=yes');
                popup.focus();
                popuptextbox.blur();
            });


            var col1TextBox = new Rui.ui.form.LTextBox();
            
            var col1Combo = new Rui.ui.form.LCombo({
                rendererField: 'value',
                autoMapping: true,
                url: './../../../../sample/data/code.json'
            });

            var dataSet1 = new Rui.data.LJsonDataSet({
                id: 'dataSet',
                remainRemoved: true,
                fields: [
                    { id: 'col1' },
                    { id: 'col2' },
                    { id: 'col3' },
                    { id: 'col4' },
                    { id: 'col5' },
                    { id: 'col6' },
                    { id: 'col7' },
                    { id: 'col8', type: 'number' },
                    { id: 'code' },
                    { id: 'multiCode' },
                    { id: 'multiCodeName' },
                    { id: 'value' },
                    { id: 'date1', type: 'date', defaultValue: new Date() }
                ]
            });
            
            var columnModel1 = new Rui.ui.grid.LColumnModel({
                groupMerge: true,
                autoWidth: true,
                columns: [
                    new Rui.ui.grid.LStateColumn(),
                    new Rui.ui.grid.LSelectionColumn(),
                    new Rui.ui.grid.LNumberColumn(),
                    { field: 'col1', label: 'Col1', sortable: true, editable: false, editor: col1TextBox, vMerge: true, renderer: function(val, p, record){
                        p.editable = (record.get('col2') !== '760221111113');
                        return val;
                    } },
                    { field: 'col2', sortable: true, align: 'center', width: 120, editor: col1TextBox, vMerge: false, renderer: function(value, p, record, row, col) {
                        if (value == '7602111111113') {
                            // 셀의 편집여부를 결정한다.
                            p.editable = false;
                            //p.css.push('color-red');
                            //p.style = 'background-color:orange;';
                        }
                        if(Rui.isEmpty(value) == false)
                            value = value.substring(0, 6) + '-' + value.substring(6);
                        return value;
                    } },
                    { field: 'code', align: 'center', sortable: true, editor: col1Combo },
                    { field: 'col3', align: 'right', vMerge: false, editor: new Rui.ui.form.LRadioGroup({
                        gridFixed: true,
                        items:[
                            { label : 'R1', value: 'R1' },
                            { label : 'R2', value: 'R2', checked: true }
                        ]
                    }) },
                    { field: 'col5', align: 'center', vMerge: false, editor: new Rui.ui.form.LCheckBox({
                        gridFixed: true,
                        bindValues : ['R1', '']
                    }) },
                    { field: 'col6', label: 'Col6', width: 200, editable: true, editor: new Rui.ui.form.LTextArea() },
                    { field: 'col8', label: 'Col8', align: 'right', sortable: true, editor: new Rui.ui.form.LNumberBox({decimalPrecision: 2, minValue: -1, maxValue: 10000 }),
                        renderer: Rui.util.LRenderer.moneyRenderer() },
                    { field: 'date1' , align: 'center', editor: new Rui.ui.form.LDateBox(), renderer: 'date' },
                    { field: 'col7', label: 'Popup', editor: new Rui.ui.form.LTextBox(), renderer: 'popup' },
                    { id: 'btn', label: 'Button', width: 150, renderer: function(val, p, record, row, i){
                        return '<button type="button" class="L-grid-button">' + record.get('col1') + '</button>';
                    } }
                ]
            });

            var grid1 = new Rui.ui.grid.LGridPanel({
                columnModel: columnModel1,
                dataSet: dataSet1,
                headerTools: true,
                autoToEdit: true,
                autoWidth: true,
                width: 600,
                height: 317
            });

            grid1.render('editorGrid');
            
            dataSet1.load({
                url: './../../../../sample/data/data11.json'
            });
            
            dataSet1.on('load', function(e){
                //initScr(grid1);
                //grid1.getView().syncHeaderScroll();
            });
            var dialog = new Rui.ui.LDialog({ 
                applyTo: 'sampleDialog', 
                width: 400,
                visible: false,
                postmethod: 'none',
                buttons: [ 
                    { text:'Submit', handler: function() {
                        var sm = grid1.getSelectionModel();
                        var row = sm.getRow(), col = sm.getCol();
                        dataSet1.setNameValue(row, columnModel1.getColumnAt(col, true).getField(), Rui.get('popupData').getValue());
                        this.submit(true);
                    } },
                    { text:'Cancel', isDefault: true, handler: function() {
                        this.cancel(false);
                    } } 
                ]
            });            
            grid1.on('popup', function(e){
                dialog.show(true);
                Rui.get('popupData').setValue(dataSet1.getNameValue(e.row, 'col7'));
                Rui.get('popupData').focus();
            });     

            var dataSet2 = new Rui.data.LJsonDataSet({
                id: 'dataSet',
                fields: [
                    { id: 'month'},
                    { id: 'company'},
                    { id: 'date', type: 'date' },
                    { id: 'monthSum', type: 'number', defaultValue: 0 },
                    { id: 'balance', type: 'number', defaultValue: 0 },
                    { id: 'assets', type: 'number', defaultValue: 0 }
                ]
            });
        
            var columnModel2 = new Rui.ui.grid.LColumnModel({
                columns: [
                    new Rui.ui.grid.LStateColumn(),
                    new Rui.ui.grid.LNumberColumn(),
                    { field: 'month', label: 'Month', width: 70, sortable: true },
                    { field: 'company', label: 'Company', sortable: true, editor: new Rui.ui.form.LTextBox() },
                    { field: 'date', label: 'Date', align: 'center', renderer: 'date', editor: new Rui.ui.form.LDateBox() },
                    { field: 'monthSum', align: 'right', width: 150, renderer: 'money', summary: { ids: [ 'company' ] } , editor: new Rui.ui.form.LNumberBox() },
                    { field: 'balance', align: 'right', width: 150, renderer: 'money', summary: { ids: [ 'date' ] }, editor: new Rui.ui.form.LNumberBox() },
                    { field: 'assets', width: 120, align: 'right', width: 150, renderer: 'money' }
                ]
            });
        
            var sumColumns = ['balance', 'monthSum', 'assets'];
            var summary = new Rui.ui.grid.LTotalSummary();
            
            summary.on('renderTotalCell', summary.renderer({
                label: {
                    id: 'date',
                    text: 'Total'
                }, 
                columns: {
                    monthSum: { type: 'sum', renderer: 'money' },
                    balance: { type: 'sum', renderer: 'money' },
                    assets: { type: 'avg', renderer: function(val) { return Rui.util.LNumber.round(val, 2) + '%'; } }
                }
            }));
            
            var grid2 = new Rui.ui.grid.LGridPanel({
                columnModel: columnModel2,
                dataSet: dataSet2,
                autoWidth: true,
                autoToEdit: true,
                viewConfig: {
                    plugins: [ summary ]
                },
                height: 400
            });
        
            grid2.render('summaryGrid');
            
            dataSet2.load({
                url: './../../../../sample/data/gridSummary20000.txt'
            });
            
            dataSet2.on('load', function(e){
                //initScr(grid2);
            });

            var dataSet3 = new Rui.data.LJsonDataSet({
                id: 'dataSet',
                fields: [
                    { id: 'id' },
                    { id: 'depth', type: 'number', defaultValue: 0 },
                    { id: 'seq' },
                    { id: 'name' },
                    { id: 'url' },
                    { id: 'desc' }
                ]
            });

            var columnModel3 = new Rui.ui.grid.LColumnModel({
                columns: [
                    new Rui.ui.grid.LSelectionColumn(),
                    { id: 'rowId', label: 'id', width: 50, renderer: function(val, param, record, row, i) {
                        return record.id;
                    } },
                    { id: 'pId', label: 'pid', width: 50, renderer: function(val, param, record, row, i) {
                        return record.pId;
                    } },
                    { field: 'id', label: 'id', width: 200 },
                    { field: 'depth', label: 'depth' },
                    { id: 'show', label: 'Show', renderer: function(val, p, record) {
                        return record.getAttribute('_show') + '';
                    } },
                    { id: 'expand', label: 'Expand', renderer: function(val, p, record) {
                        return record.getAttribute('_expand') + '';
                    } }
                ]
            });

            var treeGridView = new Rui.ui.grid.LTreeGridView({
                defaultOpenDepth: -1,
                columnModel: columnModel3,
                dataSet: dataSet3,
                fields: {
                    depthId: 'depth'
                },
                treeColumnId: 'id'
            });

            var grid3 = new Rui.ui.grid.LGridPanel({
                columnModel: columnModel3,
                dataSet: dataSet3,
                view: treeGridView,
                selectionModel: new Rui.ui.grid.LTreeGridSelectionModel(),
                width: 650,
                height: 250
            });

            grid3.render('treeGrid');
            
            dataSet3.load({
                url: './../../../../sample/data/gridTree.json'
            });
            dataSet3.on('load', function(e){
                //initScr(grid3);
            });
            
        });
    </script>
</head>

<body>
    <div id='hd'>
        <ul>
        <li><h1>Right to Left(RTL) layout Design View</h1></li>
        <div class="LblockLine"></div>
        <div class="LblockSubj">
            <li><h2>아랍어권의 Right to Left 레아이웃 형태를 위한 관련 UI 컴포넌트 샘플 모음입니다.</h2></li>
            <div class="LblockDesc">
			   <P>RUI가 제공하는 관련 컴포넌트들의 나열입니다.</P>
			   <p>이 샘플을 이용하여 각 객체들의 디자인을 변경 후 서로 비교해 보세요.</p>
               <p>استخدام هذا النموذج لتغيير تصميم كل كائن ومقارنتها مع بعضها البعض.</p>

            </div>
        </div>
        </ul>
    </div>
<div id='bd'>
    <div class="LblockMarkupCode">
        <div class="section">
            <ul>
                <li>
                   <label>HTML Input</label>
                   <input type="text" placeHolder="placeholder 내용이 출력됩니다">
                </li>
                <li>
                   <label>HTML Checkbox</label>
                   <input type="checkbox" > <label>선택</label>
                </li>
                <li>
                   <label>HTML Radio</label>
                   <input type="radio" > <label>선택</label>
                </li>
                <li>
                   <label>HTML Select</label>
                   <select>
                   <option value="">선택하세요.</option>
                   <option value="1">첫번째첫번째</option>
                   <option value="2">두번째</option>
                   <option value="3">세번째</option>
                   </select>
                </li>
                <li>
                   <label>HTML Textarea</label>
                   <textarea >textarea의 출력 내용</textarea>
                </li>
                <br>
                <li>
                    <label>LTextBox</label>
                    <input type="text" id="textbox">
                </li>
                <li>
                    <label>LCheckBox</label>
                    <input type="checkbox" id="checkBox">
                </li>
                <li>
                    <label>LRadio</label>
                    <input type="radio" id="radio">
                </li>
                <li>
	                <label>LCombo</label>
	                <select id="combo" name="combo">
	                    <option value="" class="empty">선택하세요.</option>
	                    <option value="code1">코드1</option>
	                    <option value="code2">코드2</option>
	                    <option value="code3" selected>코드3</option>
	                    <option value="code4">코드4</option>
	                    <option value="code5">코드5</option>
	                </select>
                </li>
                <li>
                   <label>LMultiCombo</label>
                   <div id="multiCode"></div>
                </li>
                <li>
                   <label>LDateBox</label>
                   <input type="text" id="datebox" />
                </li>
                <li>
                   <label>LMonthBox</label>
                   <input type="text" id="monthbox" />
                </li>
                <li>
                   <label>LTimeBox</label>
                   <input type="text" id="timebox" />
                </li>
	            <li>
	               <label>LNumberbox</label>
	               <input type="text" id="numberbox">
	            </li>
	            <li>
                    <label>LPopupTextBox</label>
                    <div id="popuptextbox"></div>
	            </li>
	            <li>
	               <label>LTextArea</label>
                    <textarea id="textarea"></textarea>
	            </li>
	            <li>
	               <label>LFromToDateBox</label>
	               <div id="divFromTo"></div>
	            </li>
            </ul>
        </div>
            <div class="section">
                <ul>
                    <li>
                        <label>Editor Grid</label>
                        <div id="editorGrid"></div>
                    </li>
                    <li>
                        <label>Summary Grid</label>
                        <div id="summaryGrid"></div>
                    </li>
                    <li>
                        <label>Tree Grid</label>
                        <div id="treeGrid"></div>
                    </li>
                </ul>
            </div>
        <div id="sampleDialog">
            <div class="hd">그리드 팝업 연동 샘플</div>
            <div class="bd">
                <div class="level1">
                    <p>변경할 값을 입력하세요.</p>
                    <textarea type="text" id="popupData" rows="5" cols="50"></textarea>
                </div>
           </div>
        </div>
    </div>
</div>
</body>
</html>
