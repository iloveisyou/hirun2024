/*
 * @(#) LTableView-min.js
 * 
 * DevOn RUI
 * Build Version : 2.8
 * 
 * Copyright ⓒ LG CNS, Inc. All rights reserved.
 *
 * DevOn RUI의 모든 저작물은 LG CNS 의 지적재산입니다.
 * LG CNS로 부터 허가 받지 않은 경우 사용, 열람, 복사, 수정, 재배포 할 수 없으며 외부로의 유출을 금지합니다.
 * 특히 소스 코드를 수정하는 경우 기술 지원의 대상이 되지 않을 수 있습니다.
 * 자세한 사항은 계약사항에 따릅니다. 기타 사항은 devon@lgcns.com 으로 문의 하십시오.
 *
 * Do Not Erase This Comment!!! (이 주석문을 지우지 말것)
 *
 * rui/license.txt를 반드시 읽어보고 사용하시기 바랍니다. License.txt파일은 절대로 삭제하시면 안됩니다. 
 *
 * 1. 사내 사용시 KAMS를 통해 요청하여 사용허가를 받으셔야 소프트웨어 라이센스 계약서에 동의하는 것으로 간주됩니다.
 * 2. DevOn RUI가 포함된 제품을 판매하실 경우에도 KAMS를 통해 요청하여 사용허가를 받으셔야 합니다.
 * 3. KAMS를 통해 사용허가를 받지 않은 경우 소프트웨어 라이센스 계약을 위반한 것으로 간주됩니다.
 * 4. 별도로 판매될 경우는 LGCNS의 소프트웨어 판매정책을 따릅니다.
 */
Rui.namespace("Rui.ui.grid"),function(){var c=Rui.util.LDom,s=Rui.ui.grid.LGridView;Rui.ui.grid.LTableView=function(e){Rui.ui.grid.LTableView.superclass.constructor.call(this,e)},Rui.extend(Rui.ui.grid.LTableView,Rui.ui.grid.LGridView,{rowSelector:"."+s.CLASS_GRIDVIEW_ROW,cellSelector:"."+s.CLASS_GRIDVIEW_CELL,createTemplate:function(){var e=this.templates||{};e.master||(e.master=new Rui.LTemplate('<table border="0" cellspacing="0" cellpadding="0" class="L-grid-view-table" style="{tstyle}">',"{header}","<tbody>{body}</tbody>","</table>",'<div class="L-grid-loading-panel"></div>')),e.header||(e.header=new Rui.LTemplate('<thead class="L-grid-header">{hrow}</thead>')),e.hrow||(e.hrow=new Rui.LTemplate('<tr class="L-grid-header-row {first_last}" >{hcells}</tr>')),e.hcell||(e.hcell=new Rui.LTemplate('<th class="L-grid-header-cell L-grid-cell L-grid-cell-{id} {first_last}" style="{style}" colspan="{colSpan}" rowSpan="{rowSpan}">',"{value}","</th>")),e.body||(e.body=new Rui.LTemplate("{rows}")),e.row||(e.row=new Rui.LTemplate('<tr class="{className}" style="{rstyle}">{rowBody}</tr>')),e.rowBody||(e.rowBody=new Rui.LTemplate("{cells}")),e.cell||(e.cell=new Rui.LTemplate('<td class="L-grid-col L-grid-cell L-grid-cell-{id} {first_last} {hidden} {css} " style="{style}" >',"{value}","</td>")),this.templates=e},doRender:function(e){this.createTemplate(),this.updateView(),this.el.addClass("L-tableview"),this.headerEl=Rui.get(this.el.dom.childNodes[0].childNodes[0]),this.bodyEl=Rui.get(this.el.dom.childNodes[0].childNodes[1]),this.loadMessageEl=Rui.get(this.el.dom.childNodes[1]),this.doRenderData()},renderBody:function(e){if(Rui.browser.msie){var t=document.createElement("div");for(t.innerHTML="<table><tbody>"+e+"</tbody></table>";0<this.bodyEl.dom.childNodes.length;)c.removeNode(this.bodyEl.dom.childNodes[0]);for(var i=t.getElementsByTagName("tbody")[0].cloneNode(!0).getElementsByTagName("tr"),l=0;l<i.length;l++)this.bodyEl.appendChild(i[l].cloneNode(!0))}else this.bodyEl.html(e);this.doEmptyDataMessage(),this.renderBodyEvent.fire()},syncFocusRow:function(e,t){},focusRow:function(e,t){},onRender:function(){},updateSizes:function(){},showEmptyDataMessage:function(){var e=Rui.isBorderBox?0:this.borderWidth;if(Rui.browser.msie){for(;0<this.bodyEl.dom.childNodes.length;)c.removeNode(this.bodyEl.dom.childNodes[0]);var t=null!=this.emptyDataMessageCode?this.emptyDataMessageCode:"$.base.msg115",i=Rui.getMessageManager().getFirst(t),l='<tr class="'+s.CLASS_GRIDVIEW_BODY_EMPTY+'"><td colspan="'+this.columnModel.getColumnCount()+'" style="width:'+(this.columnModel.getTotalWidth(!0)-e)+'px;">'+i+"</td></tr>",d=document.createElement("div");d.innerHTML="<table>"+l+"</table>";var o=d.getElementsByTagName("tr")[0];this.bodyEl.appendChild(o.cloneNode(!0))}else this.bodyEl.dom.innerHTML=""},hideEmptyDataMessage:function(){var e=this.bodyEl.dom.firstChild;e&&e.className==s.CLASS_GRIDVIEW_BODY_EMPTY&&Rui.get(e).remove()},hasRows:function(){var e=this.bodyEl.dom.firstChild;return e&&e.className!=s.CLASS_GRIDVIEW_BODY_EMPTY},getRows:function(){return this.hasRows()?this.bodyEl.dom.childNodes:[]},doAddData:function(e){this.hideEmptyDataMessage();var t=e.row,i=e.record,l=e.target,d=this.getRenderRow(t,i,l),o=document.createElement("div");o.innerHTML="<table>"+d+"</table>";var s,a=o.getElementsByTagName("tr")[0];1<l.getCount(!0)?(s=this.getRowDom(t))?c.insertBefore(a,s):(s=this.getRowDom(t-1),c.insertAfter(a,s)):this.bodyEl.appendChild(a),this.updateRenderRows(t),this.focusRow(t,0)},onRowUpdateData:function(e){var t=e.row,i=e.record,l=e.target,d=this.getRowDom(t);if(d){var o=this.getRenderRow(t,i,l.getCount()),s=document.createElement("div");s.innerHTML="<table>"+o+"</table>";for(var a=s.getElementsByTagName("tr")[0];0<d.childNodes.length;)c.removeNode(d.childNodes[0]);for(var r=Rui.get(d),n=0;n<a.childNodes.length;n++)r.appendChild(a.childNodes[n].cloneNode(!0))}},doCellUpdateData:function(e){var t=e.row,i=e.col,l=e.colId,d=e.record;if(!((i=this.columnModel.getIndexById(l))<0)){var o=this.getCellDom(t,i);if(o){var s=this.getRenderCell(t,i,this.columnModel.getColumnCount(),d);if(""==s)return;var a=document.createElement("div");a.innerHTML="<table><tr>"+s+"</tr></table>";var r=a.getElementsByTagName("td")[0];o.parentNode.replaceChild(r,o)}}}})}();