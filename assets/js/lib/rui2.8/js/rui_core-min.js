/*
 * @(#) rui_core-min.js
 * 
 * DevOn RUI
 * Build Version : 2.8
 * 
 * Copyright ⓒ LG CNS, Inc. All rights reserved.
 *
 * DevOn RUI의 모든 저작물은 LG CNS 의 지적재산입니다.
 * LG CNS로 부터 허가 받지 않은 경우 사용, 열람, 복사, 수정, 재배포 할 수 없으며 외부로의 유출을 금지합니다.
 * 특히 소스 코드를 수정하는 경우 기술 지원의 대상이 되지 않을 수 있습니다.
 * 자세한 사항은 계약사항에 따릅니다. 기타 사항은 devon@lgcns.com 으로 문의 하십시오.
 *
 * Do Not Erase This Comment!!! (이 주석문을 지우지 말것)
 *
 * rui/license.txt를 반드시 읽어보고 사용하시기 바랍니다. License.txt파일은 절대로 삭제하시면 안됩니다. 
 *
 * 1. 사내 사용시 KAMS를 통해 요청하여 사용허가를 받으셔야 소프트웨어 라이센스 계약서에 동의하는 것으로 간주됩니다.
 * 2. DevOn RUI가 포함된 제품을 판매하실 경우에도 KAMS를 통해 요청하여 사용허가를 받으셔야 합니다.
 * 3. KAMS를 통해 사용허가를 받지 않은 경우 소프트웨어 라이센스 계약을 위반한 것으로 간주됩니다.
 * 4. 별도로 판매될 경우는 LGCNS의 소프트웨어 판매정책을 따릅니다.
 */
function connectDebugger(){var t=new Rui.webdb.LWebStorage(new Rui.webdb.LCookieProvider);Rui.isDebug="true"==t.get("debugYn","true"),Rui.isDebugDE="true"==t.get("debugDEYn","false"),Rui.isDebugIN="true"==t.get("debugINYn","false"),Rui.isDebugWA="true"==t.get("debugWAYn","false"),Rui.isDebugER="true"==t.get("debugERYn","true"),Rui.isDebugTI="true"==t.get("debugTIYn","false"),Rui.isDebugWI="true"==t.get("debugWIYn","false"),Rui.isDebugEV="true"==t.get("debugEVYn","false"),Rui.isDebugCR="true"==t.get("debugCRYn","false"),Rui.isDebugXH="true"==t.get("debugXHYn","false"),Rui.isDebug&&Rui.log("connect start","info","Global")}!function(){Rui.later=function(t,e,i,a,n){t=t||0,e=e||{};var s,r,o=i,u=a;if(Rui.isString(i)&&(o=e[i]),!o)throw new TypeError("method undefined");return Rui.isArray(u)||(u=[a]),s=function(){o.apply(e,u)},r=(n?setInterval:setTimeout)(s,t),{interval:n,cancel:function(){(this.interval?clearInterval:clearTimeout)(r)}}},Rui.isValue=function(t){return Rui.isObject(t)||Rui.isString(t)||Rui.isNumber(t)||Rui.isBoolean(t)},Rui.getConfig=function(t){return t=!(!t||1!=t),(Rui.isUndefined(this._configuration)||t)&&(this._configuration=Rui.config.LConfiguration.getInstance()),this._configuration},Rui.getMessageManager=function(t,e){return this._messageManager=e?void 0:this._messageManager,Rui.isUndefined(this._messageManager)&&(this._messageManager=new Rui.message.LMessageManager(t)),this._messageManager},Rui.includeJs=function(t,e){for(var i,a,n=document.getElementsByTagName("head")[0],s=!1,r=t,r=Rui.util.LString.startsWith(r,"./")?r.substring(1):r,o=location.host+r,u=n.childNodes,l=0;l<u.length;l++){var d=u[l];if(d)if((d.syncSrc||d.src)==o){s=!0;break}}0==s&&((i=document.createElement("script")).type="text/javascript",e||1==e?((a=Rui.LConnect.getConnectionObject()).conn.open("GET",t,!1),a.conn.send(null),i.text=a.conn.responseText,i.syncSrc=o):i.src=t,n.appendChild(i))},Rui.includeCss=function(t,e,i){e=Rui.isUndefined(e)?Rui.getConfig().get("$.core.css.charset")[0]:e;for(var a,n=document.getElementsByTagName("head")[0],s=!1,r=0;r<n.childNodes.length;r++)n.childNodes&&n.childNodes[r].href&&n.childNodes[r].href==location.host+t&&(s=!0);0==s&&(i?Rui.ajax({url:t,success:function(t){var e=document.createElement("style");e.textContent=t.responseText,n.appendChild(e)},failure:function(t){throw new Error(t.responseText)},sync:!0}):((a=document.createElement("link")).rel="stylesheet",a.type="text/css",a.charset=e,a.href=t,n.appendChild(a)))},Rui.urlParams=function(){var t=document.location+"",e={},i=t.indexOf("?");if(0<i)for(var a=t.substring(i+1).split("&"),n=0;n<a.length;n++){var s=a[n].split("=");1<s.length&&(e[s[0]]=s[1])}return e},Rui.onResize=function(t,e){!0===e?(t.call(window),setTimeout(function(){Rui.util.LEvent.addListener(window,"resize",t)},1e3)):Rui.util.LEvent.addListener(window,"resize",t)},Rui.log=function(t,e,i){var a=null;try{if(Rui.debugWin&&(a=Rui.debugWin),a&&a.log)return e&&"object"==typeof e&&(i=e.src,e=e.cat),a.log(t,e,i);var n=!1,s=(e=e||"debug").substring(0,2).toUpperCase();if("ER"!==s?(Rui.isDebugIN&&"IN"==s||Rui.isDebugWA&&"WA"==s||Rui.isDebugTI&&"TI"==s||Rui.isDebugWI&&"WI"==s||Rui.isDebugEV&&"EV"==s||Rui.isDebugCR&&"CR"==s||Rui.isDebugXH&&"XH"==s||"DV"==s)&&(n=!0):"ER"==s&&(n=!0),n&&(this.logList=this.logList||[],this.logList.push({id:Rui.id(),time:new Date,msg:t,cat:e,src:i})),console&&(!n||"ER"==s))try{console.log(t)}catch(t){}return n}catch(t){}},Rui.activeTimeDebugger=function(t){t=t||0,Rui._activeTime=(new Date).getTime(),Rui._activeTime=Rui._activeTime+t},Rui.timeDebugger=function(){Rui._activeTime&&(Rui._activeTime,(new Date).getTime())},Rui.updateLog=function(t,e,i){var a=null;try{var n=t.replace("Uncaught TypeError: ","");if(Rui.debugWin&&(a=Rui.debugWin),a&&a.log)a.updateLog(n,e,i);else{this.logList=this.logList||[];for(var s=this.logList.length-1;0<=s;s--){var r=this.logList[s];"error"==r.cat&&r.msg==n&&(r.msg="filename : "+e+"\r\nlineno : "+i+"\r\nmessage : "+r.msg)}}}catch(t){}},Rui.useAccessibility=function(){return!!Rui.getConfig&&(Rui.isUndefined(Rui._useAria)&&(Rui._useAria=!0===Rui.getConfig().getFirst("$.core.useAccessibility")),Rui._useAria)},Rui.rightToLeft=function(){return!!Rui.getConfig&&(Rui.isUndefined(Rui._useRtl)&&(Rui._useRtl=!0===Rui.getConfig().getFirst("$.core.rightToLeft")),Rui._useRtl)},Rui.useFixedId=function(){return!!Rui.getConfig&&(Rui.isUndefined(Rui._useFixedId)&&(Rui._useFixedId=!0===Rui.getConfig().getFirst("$.core.useFixedId")),Rui._useFixedId)},Rui.getRootPath=function(){return Rui.getConfig().getFirst("$.core.contextPath")+Rui.getConfig().getFirst("$.core.ruiRootPath")},Rui.devGuide=function(t,e,i){var a,n;this._webStore||(this._webStore=new Rui.webdb.LWebStorage),Rui.getConfig().getProvider().isLoad()&&(Rui.isUndefined(Rui._devGuide)&&(Rui._devGuide=Rui.getConfig().getFirst("$.core.debug.notice")),!0===Rui._devGuide&&(Rui._guide||(a=Rui.getRootPath(),Rui.includeJs(a+"/js/rui_dev-guide.js",!0),Rui._guide=new Rui.dev.LGuide),(n=Rui._guide[e])?n.call(Rui._guide,t,i):alert(e+" method name is wrong")))},Rui.checkLicense=function(){var t=!1,e=!1,i=!1,a=!1;if(!Rui.isUndefined(Rui.License)){var n=Rui.getRootPath();if(Rui.includeJs(n+"/resources/ext/jsrsasign-all-min.js",!0),!Rui.isUndefined(Rui.PK)){var s=KEYUTIL.getKey({n:Rui.PK.n,e:Rui.PK.ex}),r=Rui.LBase64.decode(Rui.PK.u.v);if("true"==r&&s.verify(r,Rui.PK.u.ss)){var o=Rui.util.LFormat.dateToString(new Date,{format:"%Y-%m-%d"}),u=Rui.LBase64.decode(Rui.PK.s.v),l=Rui.LBase64.decode(Rui.PK.e.v);if(u<=o&&o<=l&&s.verify(u,Rui.PK.s.ss)&&s.verify(l,Rui.PK.e.ss)){var d=Rui.LBase64.decode(Rui.License).split(";"),h=Rui.LBase64.decode(Rui.License);if(s.verify(h,Rui.PK.ss))for(var c=0;c<d.length;c++)if(d[c].toLowerCase()==document.domain.toLowerCase()){t=!0;break}}else l<o&&(e=!0)}Rui.isUndefined(Rui.ui)||Rui.isUndefined(Rui.ui.pivot)||(a=!0),a&&!Rui.isUndefined(Rui.PK.f.LPivot)&&s.verify("LPivot",Rui.PK.f.LPivot)&&(i=!0)}}if(!1===t||!1===i&&!0===a){Rui.util.LDom.getViewportHeight();var g=Rui.util.LDom.getViewportWidth(),f=document.createElement("div");f.id=Rui.useFixedId()?Rui.id(this.el,"L-License-div"):Rui.id(),f.className="L-lcl-container",f.style.position="absolute",f.style.top="0px",f.style.padding="3px",f.style.zIndex=1,f.style.left=g/2-140+"px",Rui.get(f).on("click",function(){this.hide()});var m=t?"":"DevOn RUI",R=!a||i?"":"DevOn RUI Pivot",p=t||i||!a?"":" & ",v=e?"<br>해당 라이선스는 만료되었습니다.":"";f.innerHTML=m+p+R+" 라이선스가 트라이얼 버전입니다."+v+"<br>라이선스 요청 : devon@lgcns.com<br>라이선스 이외 문의는 시스템 담당자에게 문의하세요.";try{document.body.appendChild(f)}catch(t){}}},Rui.browserRecommend=function(){var t,e,i;!0!==Rui.getConfig().getFirst("$.ext.browser.recommend")||!Rui.browser.msie678||(e=(t=new Rui.webdb.LWebStorage).getInt("recommend",0))<Rui.getConfig().getFirst("$.ext.browser.recommendCount")&&(t.set("recommend",++e),i='<div id="unsupported_browser_version" style="position:absolute;top:0;background-color:rgb(248,198,34);width:100%;z-index:2;"><p style="line-height:31px;color:#017ace;margin-left:auto;margin-right:auto;width:1000px;">'+Rui.getMessageManager().get("$.ext.msg016")+"</p></div>",Rui.getBody().appendChild(Rui.createElements(i)),Rui.later(5e3,this,function(){Rui.select("#unsupported_browser_version").hide()}))},Rui.noticeDebug=function(){if(!0===Rui.getConfig().getFirst("$.core.debug.notice")){for(var t,e,i=Rui.getConfig().getFirst("$.core.debug.servers"),a=!1,n=0;n<i.length;n++)if(i[n]==document.domain){a=!0;break}a&&(t=Rui.getRootPath(),Rui.includeJs(t+"/js/rui_dev-guide.js",!0),Rui._guide||(Rui._guide=new Rui.dev.LGuide),e='<a href="'+t+'/plugins/debug/console.html" target="_new"><div class="L-developer-guide L-hidden" style="position:absolute;top:10px;right:10px;padding:2px;background-color:rgb(248,198,34);width:50px;height:25px;color:#017ace;font-size:12px;z-index:10000;"></div></a>',Rui.getBody().appendChild(Rui.createElements(e)),Rui.later(5e3,this,function(){Rui._guide.isNotice&&(Rui._guide.warnCount||Rui._guide.infoCount)&&Rui.select(".L-developer-guide").removeClass("L-hidden").html('<font color="red" title="개발 위험도">Warn: '+Rui._guide.warnCount+'</font><br>&nbsp;<font color="black"  title="개발 정보">Info : '+Rui._guide.infoCount+"</font>")},null,!0),setTimeout(function(){Rui.devGuide(this,"Rui_load")},3e3))}};var t=null,t=setInterval(function(){Rui.config&&Rui.config.ConfigData&&(clearInterval(t),Rui.checkLicense(),Rui.browserRecommend())},2e3);Rui.isDebugER=!0,Rui.fwType="vp-pc"}(),function(){var n=Rui.util.LDom;Rui.applyObject(Rui.LElement.prototype,{autoBoxAdjust:!0,defaultUnit:"px",CSS_ELEMENT_DISABLED:"L-disabled",CSS_ELEMENT_INVALID:"L-invalid",CSS_ELEMENT_REPAINT:"L-repaint",CSS_ELEMENT_MASKED:"L-masked",CSS_ELEMENT_MASKED_PANEL:"L-masked-panel",removeChild:function(t){return t=t.dom?t.dom:t.get?t.get("element"):t,this.get("element").removeChild(t)},replaceClass:function(t,e){return n.replaceClass(this.dom,t,e)},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},applyStyles:function(t){return Rui.util.LDom.applyStyles(this,t),this},getXY:function(){return n.getXY(this.dom)},setXY:function(t,e){return n.setXY(this.dom,t,e),this},getX:function(){return n.getX(this.dom)},setX:function(t){return n.setX(this.dom,t),this},getY:function(){return n.getY(this.dom)},setY:function(t){return n.setY(this.dom,t),this},moveTo:function(t,e,i){i&&(!0===i&&(i={points:{to:[t,e]}}),i=Rui.applyIf(i,{type:"LMotionAnim"}));var a=this.getAnimation(i,this.dom.id);return null!=a?a.animate():this.setXY([t,e]),this},animate:function(t){t.type=t.type||"LMotionAnim";var e=this.getAnimation(t,this.dom.id);return null!=e&&(t.delay?Rui.util.LFunction.defer(function(){t.onStart&&e.on("start",t.onStart,this,!0),e.animate()},t.delay,this):(t.onStart&&e.on("start",t.onStart,this,!0),e.animate())),this},addUnits:function(t){return""===t||"auto"==t||void 0===t?t=t||"":isNaN(t)&&Rui.LElement.unitPattern.test(t)||(t+=this.defaultUnit||"px"),t},setLeft:function(t){return this.setStyle("left",this.addUnits(t)),this},setTop:function(t){return this.setStyle("top",this.addUnits(t)),this},setRight:function(t){return this.setStyle("right",this.addUnits(t)),this},setBottom:function(t){return this.setStyle("bottom",this.addUnits(t)),this},setSize:function(t,e,i){i&&(!0===i&&(i={width:{to:t},height:{to:e}}),i=Rui.applyIf(i,{type:"LAnim"}));var a=this.getAnimation(i,this.dom.id);null!=a?a.animate():(this.setWidth(t),this.setHeight(e))},getLeft:function(t){return t?parseInt(this.getStyle("left"),10)||0:this.getX()},getRight:function(t){return t?this.getLeft(!0)+this.getWidth()||0:this.getX()+this.getWidth()},getTop:function(t){return t?parseInt(this.getStyle("top"),10)||0:this.getY()},getBottom:function(t){return t?this.getTop(!0)+this.getHeight()||0:this.getY()+this.getHeight()},setAttributes:function(t,e){var i=this.get("element");for(var a in t)this._configs[a]||Rui.isUndefined(i[a])||this.setAttributeConfig(a);for(var n=0,s=this._configOrder.length;n<s;++n)void 0!==t[this._configOrder[n]]&&this.set(this._configOrder[n],t[this._configOrder[n]],e)},clip:function(){return this.isClipped||(this.isClipped=!0,this.originalClip={o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")},this.setStyle("overflow","hidden"),this.setStyle("overflow-x","hidden"),this.setStyle("overflow-y","hidden")),this},unclip:function(){var t;return this.isClipped&&(this.isClipped=!1,(t=this.originalClip).o&&this.setStyle("overflow",t.o),t.x&&this.setStyle("overflow-x",t.x),t.y&&this.setStyle("overflow-y",t.y)),this},repaint:function(){var t=this;return t.hasClass(t.CSS_ELEMENT_REPAINT)||t.addClass(t.CSS_ELEMENT_REPAINT),setTimeout(Rui.util.LFunction.createDelegate(function(){t.removeClass(t.CSS_ELEMENT_REPAINT)},t),1),t},alignTo:function(t,e,i){return this.setXY(this.getAlignToXY(t,e,i)),this},getAnchorXY:function(t,e,i){t=(t||"tl").toLowerCase(),i=i||{};var a=this.dom==document.body||this.dom==document,n=i.width||a?Rui.util.LDom.getViewportWidth():this.getWidth(),s=i.height||a?Rui.util.LDom.getViewportHeight():this.getHeight(),r=Math.round,o=this.getXY(),u=this.getScroll(),l=a?u.left:e?0:o[0],d=a?u.top:e?0:o[1],h={c:[r(.5*n),r(.5*s)],t:[r(.5*n),0],l:[0,r(.5*s)],r:[n,r(.5*s)],b:[r(.5*n),s],tl:[0,0],bl:[0,s],br:[n,s],tr:[n,0]}[t];return[h[0]+l,h[1]+d]},getAlignToXY:function(t,e,i){if(!(t=Rui.get(t))||!t.dom)throw"LElement.alignToXY with an element that doesn't exist";i=i||[0,0],e=("?"==e?"tl-bl?":/-/.test(e)||""===e?e||"tl-bl":"tl-"+e).toLowerCase();var a,n,s,o,u,l,d=Rui.util.LDom.getViewportWidth()-10,g=Rui.util.LDom.getViewportHeight()-10,f=document,m=f.documentElement,R=f.body,p=(m.scrollLeft||R&&R.scrollLeft||0)+5,v=(m.scrollTop||R&&R.scrollTop||0)+5,L=e.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!L)throw"LElement.alignTo with an invalid alignment "+e;return p2=L[2],p1=L[1],c=!!L[3],a2=t.getAnchorXY(p2,!1),a1=this.getAnchorXY(p1,!0),x=a2[0]-a1[0]+i[0],y=a2[1]-a1[1]+i[1],c&&(h=this.getHeight(),w=this.getWidth(),r=t.getRegion(),s=p2.charAt(0),o=p2.charAt(p2.length-1),a=p1.charAt(0),l="r"==(n=p1.charAt(p1.length-1))&&"l"==o||"l"==n&&"r"==o,u="t"==a&&"b"==s||"b"==a&&"t"==s,x+w>d+p&&(x=l?r.left-w:d+p-w),x<p&&(x=l?r.right:p),y+h>g+v&&(y=u?r.top-h:g+v-h),y<v&&(y=u?r.bottom:v)),[x,y]},center:function(t){return this.alignTo(t||document,"c-c"),this},getScroll:function(){var t,e,i=this.dom,a=document,n=a.body,s=a.documentElement,r=i==a||i==n?(e=Rui.browser.msie&&Rui.isStrict?(t=s.scrollLeft,s.scrollTop):(t=window.pageXOffset,window.pageYOffset),{left:t||(n?n.scrollLeft:0),top:e||(n?n.scrollTop:0)}):{left:i.scrollLeft,top:i.scrollTop};return r},setScroll:function(t){if(!t)return null;var e,i=this.dom,a=document,n=a.body,s=a.documentElement;return i==a||i==n?(null!==t.left&&(e=!1,Rui.browser.msie&&Rui.isStrict?s.scrollLeft&&(s.scrollLeft=t.left,e=!0):window.pageXOffset&&(window.pageXOffset=t.left,e=!0),!e&&n&&(n.scrollLeft=t.left)),null!==t.top&&(e=!1,Rui.browser.msie&&Rui.isStrict?s.scrollTop&&(s.scrollTop=t.top,e=!0):window.pageYOffset&&(window.pageYOffset=t.top,e=!0),!e&&n&&(n.scrollTop=t.top))):(null!==t.left&&(i.scrollLeft=t.left),null!==t.top&&(i.scrollTop=t.top)),this},getVisibleScrollXY:function(t,e,i,a,n){i=!1!==i,a=a||0,n=!!n;var s,r,o,u,l,d,h,c,g,f,m,R=null;return((e=!1!==e)||i)&&(R={},r=(s=this).getScroll(),o=s.getXY(),(u=[s.getWidth(),s.getHeight()])[0]=u[0]-a,l=[o[0]+u[0],o[1]+u[1]],(d=t.getXY())[0]=d[0]-a,h=[t.getWidth(),t.getHeight()],0<(c=s.getChildren()).length&&(f=[(g=Rui.get(c[0])).getWidth(),g.getHeight()],m=[0,0],!0!==n&&(m=[f[1]>u[1]?17:0,f[0]>u[0]?17:0]),e&&(d[0]>=o[0]&&d[0]+h[0]<=l[0]-m[0]?R.left=null:d[0]<o[0]?R.left=r.left-(o[0]-d[0]):d[0]+h[0]>l[0]-m[0]&&(R.left=r.left+(d[0]+h[0]-(l[0]-m[0])))),i&&(d[1]>=o[1]&&d[1]+h[1]<=l[1]-m[1]?R.top=null:d[1]<o[1]?R.top=r.top-(o[1]-d[1]):d[1]+h[1]>l[1]-m[1]&&(R.top=r.top+(d[1]+h[1]-(l[1]-m[1])))))),R},moveScroll:function(t,e,i,a){var n=Rui.get(t),s=this.getVisibleScrollXY(n,e,i,a);return null!=s&&this.setScroll(s),n.getXY()},isMask:function(){return this.waitMaskEl&&this.waitMaskEl.isShow()},focus:function(){try{this.dom.focus()}catch(t){}return this},blur:function(){try{this.dom.blur()}catch(t){}return this},getDimensions:function(t,e){var i,a,n,s,r,o=this.dom,u=0,l=0,d=this.getStyle("display");return"none"!=d&&null!=d?(u=o.offsetWidth||0,l=o.offsetHeight||0):(a=(i=o.style).display,n=i.position,s=i.visibility,r=i.left,i.position="absolute",i.visibility="visible",i.display="block",i.left="0px",l=o.clientHeight||0,u=o.clientWidth||0,i.position=n,i.display=a,i.visibility=s,i.left=r),e&&0==u&&(u=Rui.util.LString.simpleReplace(this.getStyle("width"),"px","").trim(),l=Rui.util.LString.simpleReplace(this.getStyle("height"),"px","").trim()),t&&(u=u-this.getBorderWidth("lr")-this.getPadding("lr"),l=l-this.getBorderWidth("tb")-this.getPadding("tb")),{width:u=u<0?0:u,height:l=l<0?0:l}},getHeight:function(t){var e=this.dom.offsetHeight||0;return(e=t?e-this.getBorderWidth("tb")-this.getPadding("tb"):e)<0?0:e},adjustWidth:function(t){var e="number"==typeof t;return e&&this.autoBoxAdjust&&!this.isBorderBox()&&(t-=this.getBorderWidth("lr")+this.getPadding("lr")),e&&t<0?0:t},adjustHeight:function(t){var e="number"==typeof t;return e&&this.autoBoxAdjust&&!this.isBorderBox()&&(t-=this.getBorderWidth("tb")+this.getPadding("tb")),e&&t<0?0:t},getHiddenWidth:function(t){t=t||10;for(var e,i=this.getWidth(),a=0,n=this;null!=(e=n.parent())&&a<t&&i<1;){if(a++,"none"==n.getStyle("display")){n.hasClass("L-hide-display")?(n.removeClass("L-hide-display"),i=this.getWidth(),n.addClass("L-hide-display")):(n.setStyle("display","block"),i=this.getWidth(),n.setStyle("display","none"));break}n=e}return n=e=null,i},getHiddenHeight:function(t){t=t||10;for(var e,i=this.getHeight(),a=0,n=this;null!=(e=n.parent())&&a<t&&i<1;){if(a++,"none"==n.getStyle("display")){n.hasClass("L-hide-display")?(n.removeClass("L-hide-display"),i=this.getHeight(),n.addClass("L-hide-display")):(n.setStyle("display","block"),i=this.getHeight(),n.setStyle("display","none"));break}n=e}return n=e=null,i},setWidth:function(t,e){return e&&(!0===e&&(e={width:{to:t}}),e=Rui.applyIf(e,{type:"LAnim"})),t=this.adjustWidth(t),e?this.getAnimation(e,this.id).animate():this.dom.style.width=this.addUnits(t),this},setHeight:function(t,e){var i;return t=this.adjustHeight(t),e?(i="object"==typeof e?e:{height:{to:t}},new Rui.fx.LAnim({el:this.id,attributes:i}).animate()):this.dom.style.height=this.addUnits(t),this},autoHeight:function(){this.clip();var t=parseInt(this.dom.scrollHeight,10);return this.setHeight(t),this.unclip(),this},availableHeight:function(t,e){e=e||0,t=t||this.parent().dom;var i=Rui.getDom(t),a=(a=n.getAvailableHeight(i))+this.dom.offsetHeight-e-this.getPadding("tb");return this.setHeight(a),this},mask:function(t){var e,i;t=t||"",this.waitMaskEl||(e=new Rui.LTemplate('<div class="L-masked-panel">','<div class="L-masked"></div>','<div class="L-masked-message">{contentHtml}</div>',"</div>"),this.waitMaskEl=Rui.createElements(e.apply({contentHtml:t})).getAt(0),this.dom!=document.body&&this.dom!=document&&this.setStyle("position","relative"),this.waitMaskEl.appendTo(this.dom==document.body||this.dom==document?document.body:this.dom)),this.dom!=document.body&&this.dom!=document||(i=document.body||document,this.waitMaskEl.setHeight(i.scrollHeight||i.clientHeight)),this.waitMaskEl.show()},unmask:function(){this.waitMaskEl&&this.waitMaskEl.hide()},isAncestor:function(t){return t=t.dom||t,Rui.util.LDom.isAncestor(this.dom,t)},getRegion:function(){return n.getRegion(this.dom)},setRegion:function(t,e){var i=t.right-t.left,a=t.bottom-t.top,n=t.left,s=t.top;e&&(!0===e&&(e={points:{to:[n,s]},width:{to:i},height:{to:a}}),e=Rui.applyIf(e,{type:"LMotionAnim"}));var r=this.getAnimation(e,this.dom.id);return null!=r?r.animate():(this.setSize(i,a),this.moveTo(n,s)),this},enable:function(){if(this.dom){if(this.isFormField()&&1==this.invokeField.call(this,"enable",arguments))return this;this.dom.disabled=!1,this.removeClass(this.CSS_ELEMENT_DISABLED)}return this},disable:function(){if(this.dom){if(this.isFormField()&&1==this.invokeField.call(this,"disable",arguments))return this;this.dom.disabled=!0,this.addClass(this.CSS_ELEMENT_DISABLED)}return this},isFormField:function(){return this.hasClass("L-form-field")},invokeField:function(t,arguments){var e=this.select(".L-hidden-field, .L-display-field").getAt(0);if(e&&e.dom.instance){var i=e.dom.instance;if(i[t])return i[t].call(i,arguments),!0}return!1},isDisable:function(){return!!this.dom&&this.hasClass(this.CSS_ELEMENT_DISABLED)},valid:function(){return this.dom&&(this.removeClass(this.CSS_ELEMENT_INVALID),Rui.useAccessibility()&&this.dom.setAttribute("aria-invalid",!1),this.dom.invalidTooltip&&(this.dom.invalidTooltip.destroy(),this.dom.invalidTooltip=null)),this},invalid:function(t){return this.dom&&(t=t||Rui.getMessageManager().get("$.base.msg052"),this.addClass(this.CSS_ELEMENT_INVALID),Rui.useAccessibility()&&this.dom.setAttribute("aria-invalid",!0),Rui.ui&&Rui.ui.LTooltip&&(this.dom.invalidTooltip=this.dom.invalidTooltip||new Rui.ui.LTooltip({context:this.dom.id,text:t}))),this},isValid:function(){return!this.dom||!this.hasClass(this.CSS_ELEMENT_INVALID)},getBorderWidth:function(t){return this.addStyles.call(this,t,Rui.LElement.borders)},getPadding:function(t){return this.addStyles.call(this,t,Rui.LElement.paddings)},getMargins:function(t){return this.addStyles.call(this,t,Rui.LElement.margins)},getComponent:function(){var t,e=null;return!this.dom||null!=(t=Rui.get(this.dom).select(".L-instance"))&&0<t.length&&(e=t.getAt(0).dom.instance),e}})}(),function(){var t=Rui.LElement.prototype,e=Rui.LElementList.prototype;for(var i in t)Rui.isFunction(t[i])&&function(t){e[t]=e[t]||function(){return this.invoke(t,arguments)}}.call(e,i)}(),Rui.LException=function(t,e){var i,a,n;if(t instanceof Rui.LException?(this.message=t.message,this.name=t.name,this.fileName=t.fileName,this.number=t.number||t.lineNumber,this.description=t.description,this.stack=t.stack):"string"==typeof t?this.message=t:t&&(this.message=t.message,this.name=t.name,this.fileName=t.fileName,this.number=t.lineNumber||"0",this.stack=t.stack,!this.stack||this.fileName||0<(a=(i=this.stack.split("\n"))[1].indexOf("http://"))&&(this.fileName=i[1].substring(a,i[1].length-1),this.fileName=this.fileName.substring(this.fileName.lastIndexOf("/")+1),n=this.fileName.split(":"),this.number=n[n.length-2]),this.fileName||(this.fileName=document.location.href,this.fileName=this.fileName.substring(this.fileName.lastIndexOf("/")+1))),this.callerOType="",0==Rui.isUndefined(e)&&(this.callerOType="string"==typeof e?e:e.otype?e.otype:""),this.caller=arguments.caller,!this.stack&&!Rui.browser.msie){this.error=null;try{foo.bar}catch(t){this.error=t}this.fileName||this.isExceptionInfo||!this.error.stack||this.createExceptionInfo(this.error)}},Rui.extend(Rui.LException,Error,{getOType:function(){return this.callerOType},getMessage:function(){return this.message},createExceptionInfo:function(t){this.isExceptionInfo=!0;var e,i=this.getErrorStack(t);1<i.length&&(0<(e=i[1].lastIndexOf(":"))&&(this.lineNumber=i[1].substring(e+1,i[1].length-1),this.fileName=i[1].substring(0,e)))},getErrorStack:function(t){var e=[];return t&&t.stack?e=t.stack.split("\n"):e},getFunctionName:function(t){var e=t.toString().match(/function(\s*)(\w*)/);return e&&2<=e.length&&e[2]?e[2]:"anonymous"},getStackTrace:function(){var t="",e=arguments.caller;if(void 0!==this.caller){for(var i=Rui.isUndefined(this.caller)?e:this.caller;null!=i;i=i.caller)if(t+="> "+this.getFunctionName(i.callee)+"\n",i.caller==i){t+="*";break}}else for(var a=this.getErrorStack(this.error),n=1;n<a.length;n++)t+="> "+a[n]+"\n";return t},toString:function(){return"["+this.fileName+":"+this.number+"] : "+this.message}}),Rui.LException.getException=function(t,e){return t instanceof Rui.LException?t:new Rui.LException(t,e)},Rui.getException=Rui.LException.getException,Rui.namespace("Rui.util"),Rui.applyObject(Rui.util.LString,{trimAll:function(t){return t.replace(/\s*/g,"")},lastCut:function(t,e){return null!=t&&t.length>e&&(t=t.substring(0,t.length-e)),t},nvl:function(t){return null===t?"":t},camelToHungarian:function(t){var e=t.match(/[A-Z]/g);if(e){var i,a=e.length;if(0<a)for(var n=0;n<a;n++)i=e[n],t=t.replace(i,"_"+i.toLowerCase())}return t},getCamelToFunctionName:function(t){var e="",i=t.split("-");if(i){var a,n=i.length;if(0<n){e=i[0];for(var s=1;s<n;s++)a=i[s],e+=this.firstUpperCase(a)}}return e},isHangul:function(t){for(var e,i=0,a=t.length;i<a;i++)if(e=escape(t.charAt(i)),1==this.isHangulChar(e))return!0;return!1},isHangulChar:function(t){return"%u"==t.substring(0,2)?"00"!=t.substring(2,4):"%20"==t||"%"==t.substring(0,1)&&127<parseInt(t.substring(1,3),16)},getSkipHangulChar:function(t){for(var e="",i=0,a=t.length;i<a;i++){var n=t.charAt(i),s=escape(n);!0!==this.isHangulChar(s)&&(e+=n)}return e},isEmail:function(t){return!(-1==t.search(Rui.util.LString.format))},isCsn:function(t){if(!t||10!=(t+"").length||isNaN(t))return!1;t+="";for(var e,i,a=0,n=[1,3,7,1,3,7,1,3,5],s=0;s<9;s++)a+=t.charAt(s)*n[s];return a+=5*t.charAt(8)/10,i=0==(e=Math.floor(a)%10)?0:10-e,t.charAt(9)==i},isSsn:function(t){if(!t||13!=(t+"").length||isNaN(t))return!1;var e=(t+="").substr(0,6),i=t.substr(6);if(bYear=i.charAt(0)<="2"?"19":"20",bYear+=e.substr(0,2),bMonth=e.substr(2,2)-1,bDate=e.substr(4,2),bSum=new Date(bYear,bMonth,bDate),bSum.getYear()%100!=e.substr(0,2)||bSum.getMonth()!=bMonth||bSum.getDate()!=bDate)return!1;total=0;for(var a=[],n=1;n<=6;n++)a[n]=e.charAt(n-1);for(n=7;n<=13;n++)a[n]=i.charAt(n-7);for(n=1;n<=12;n++)k=n+1,10<=k&&(k=k%10+2),total+=a[n]*k;return last_num=(11-total%11)%10,last_num==a[13]},isTime:function(t){var e=t.indexOf(":");if(0<e&&(t=Rui.util.LString.cut(t,e,1)),4!=t.length)return!1;var i=t.substring(0,2),a=t.substring(2,4);return!(i<0||23<i)&&!(a<0||59<a)},simpleReplace:function(t,e,i){var a=e;a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/\\/g,"\\\\")).replace(/\^/g,"\\^")).replace(/\$/g,"\\$")).replace(/\*/g,"\\*")).replace(/\+/g,"\\+")).replace(/\?/g,"\\?")).replace(/\./g,"\\.")).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\|/g,"\\|")).replace(/\,/g,"\\,")).replace(/\{/g,"\\{")).replace(/\}/g,"\\}")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]")).replace(/\-/g,"\\-");var n=new RegExp(a,"g");return t.replace(n,i)},replaceHtml:function(t){return t=t&&(t=t.replace(/\</gi,"&lt;")).replace(/\>/gi,"&gt;")},skipTags:function(t){return t?t.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,""):""},toClipboard:function(t){try{if(window.clipboardData)return clipboardData.setData("text",t),!0;if(window.netscape){netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var e=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!e)return;var i=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!i)return;i.addDataFlavor("text/unicode");var a=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);a.data=t,i.setTransferData("text/unicode",a,2*t.length);var n=Components.interfaces.nsIClipboard;return n?(e.setData(i,null,n.kGlobalClipboard),!0):!1}try{var s=document.createEvent("Event");return s.initEvent("clipboardEvent",!0,!0),this.fireClipboardEvent(s,"clipboardEventDiv",t),!0}catch(t){return!0}}catch(t){return!1}return!1},getClipboard:function(){try{if(window.clipboardData)return clipboardData.getData("text");if(window.netscape){netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var t=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!t)return;var e=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!e)return;e.addDataFlavor("text/unicode"),t.getData(e,t.kGlobalClipboard);var i=new Object,a=new Object;try{e.getTransferData("text/unicode",i,a)}catch(t){return}if(i=i&&(Components.interfaces.nsISupportsWString?i.value.QueryInterface(Components.interfaces.nsISupportsWString):Components.interfaces.nsISupportsString?i.value.QueryInterface(Components.interfaces.nsISupportsString):null))return i.data.substring(0,a.value/2)}else{if(null==top.document.getElementById("clipboardEventDiv")){return Rui.alert({text:'<a href="http://www.dev-on.com/rui/jsp/uip/rui/clipboard/clipboard_app.crx">클립보드 플러그인을 설치를 위해 선택해주세요.</a>',handler:function(){location.reload()}}),!1}var n=document.createEvent("Event");n.initEvent("clipboardPasteEvent",!0,!0),Rui.util.LString.clipConfig={clipData:arguments[0],view:arguments[1],rtrimWhiteSpace:arguments[2]},this.getPlugInMsg(this.displayMsg,n)}}catch(t){return!1}},getPlugInMsg:function(t,e){this.fireClipboardEvent(e,"clipboardPasteEventDiv",null),"function"!=typeof t&&(t=!1),this.async(function(){t()})},async:function(t){setTimeout(t,10)},displayMsg:function(){var t=top.document.getElementById("clipboardPasteEventDiv"),e=t.innerText||t.textContent;Rui.util.LString.clipConfig.rtrimWhiteSpace,Rui.util.LString.clipConfig.rtrimWhiteSpace&&(e=e.replace(/\s+$/g,"")),Rui.util.LString.clipConfig.clipData.setClipData(e,Rui.util.LString.clipConfig.view)},fireClipboardEvent:function(t,e,i){var a=top.document.getElementById(e);null!=i&&(a.innerText=i),a.dispatchEvent(t)},getTimeUrl:function(t){return this.getAppendUrl(t,"_dc",(new Date).getTime())},getAppendUrl:function(t,e,i){var a=e+"="+i;return-1!==t.indexOf("?")?t+="&"+a:t+="?"+a,t},getUrlParams:function(t){var e=t.split("?");if(e.length<2)return{};for(var i=(t=e[e.length-1]).split("&"),a={},n=0;n<i.length;n++){var s=i[n].split("=");a[s[0]]=0<s.length?s[1]:void 0}return a},getByteSubstring:function(t,e,i){for(var a=byteLength=0,n=pos=0;pos<e;n++)1==(a=escape(t.charAt(n))).length?byteLength=1:-1!=a.indexOf("%u")?byteLength=3:-1!=a.indexOf("%")&&(byteLength=a.length/3),pos+=byteLength;var s=n,r=0,o=Rui.util.LString.getByteLength(t);a=byteLength=0;for(n=s;n<o;n++){var u=t.charAt(n),a=escape(u);if((byteLength=1)==a.length?byteLength=1:-1!=a.indexOf("%u")?byteLength=3:-1!=a.indexOf("%")&&(byteLength=a.length/3),i<(r+=byteLength))return t.substring(s,n)}return null}}),Rui.util.LString.PATTERN_TYPE_NUMBER=/[0-9]/,Rui.util.LString.PATTERN_TYPE_STRING=/[a-zA-Z]/,Rui.util.LString.PATTERN_TYPE_NUMSTRING=/[0-9a-zA-Z]/,Rui.util.LString.PATTERN_TYPE_KOREAN=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힝]/,Rui.util.LString.PATTERN_TYPE_NONE=null,Rui.util.LString.format=/^((\w|[\-\.])+)@((\w|[\-\.])+)\.([A-Za-z]+)$/,Rui.applyObject(Rui.util.LDate,{compareString:function(t,e,i){return this.format(t,i)==this.format(e,i)},getJan1:function(t){return this.getDate(t,0,1)},getDayOffset:function(t,e){var i=this.getJan1(e);return Math.ceil((t.getTime()-i.getTime())/this.ONE_DAY_MS)},isYearOverlapWeek:function(t){var e=!1;return this.add(t,this.DAY,6).getFullYear()!=t.getFullYear()&&(e=!0),e},isMonthOverlapWeek:function(t){var e=!1;return this.add(t,this.DAY,6).getMonth()!=t.getMonth()&&(e=!0),e},getMonthInYear:function(t){return Rui.getMessageManager().get("$.core.monthInYear")[t]},getShortMonthInYear:function(t){return Rui.getMessageManager().get("$.core.shortMonthInYear")[t]},getDayInWeek:function(t){return Rui.getMessageManager().get("$.core.dayInWeek")[t]},getShortDayInWeek:function(t){return Rui.getMessageManager().get("$.core.shortDayInWeek")[t]},getWeekNumber:function(t,e,i){e=e||0,i=i||this.WEEK_ONE_JAN_DATE;var a,n,s,r=this.clearTime(t),o=r.getDay()===e?r:this.getFirstDayOfWeek(r,e),u=o.getFullYear(),l=new Date(o.getTime()+6*this.ONE_DAY_MS);return u!==l.getFullYear()&&l.getDate()>=i?1:(a=this.clearTime(this.getDate(u,0,i)),n=this.getFirstDayOfWeek(a,e),1+((s=Math.round((r.getTime()-n.getTime())/this.ONE_DAY_MS))-s%7)/7)}}),Rui.applyObject(Rui.util.LArray,{serialize:function(t,e){e=e||"&";var i=[];for(var a in t)"function"!=typeof t[a]&&i.push(encodeURIComponent(a),"=",encodeURIComponent(t[a]),e);return delete i[i.length-1],t=i.join("")},clone:function(t){return[].concat(t)},moveItem:function(t,e,i){var a=t[e],n=(t=Rui.util.LArray.removeAt(t,e)).slice(0,i),s=t.slice(i,t.length);return n.push(a),n.concat(s)},concat:function(t,e){for(var i=this.clone(t),a=0,n=e.length;a<n;a++)0==Rui.util.LArray.contains(t,e[a])&&i.push(e[a]);return i}}),Rui.applyObject(Rui.util.LNumber,{round:function(t,e){var i=Number(t);return"number"==typeof e&&(i=Number(this.format(t,{decimalPlaces:e}))),i},toMoney:function(t,e){e=e||"",t=Math.round(100*t)/100;var i=(t=String(t)).indexOf("."),a="";0<i&&(a=t.substring(i),t=t.substring(0,i));for(var n=Math.ceil(t.length/3),s="",r=t.substring(0,t.length%3==0?3:parseInt(t.length%3,10)),o=1;o<n;o++)s=","+t.substr(t.length-3*o,3)+s;return e+(t=r+s)+a},usMoney:function(t){t=(t=Math.round(100*t)/100)==Math.floor(t)?t+".00":10*t==Math.floor(10*t)?t+"0":t;for(var e=(t=String(t)).split("."),i=e[0],a=e[1]?"."+e[1]:".00",n=Math.ceil(i.length/3),s="",r=i.substring(0,i.length%3==0?3:parseInt(i.length%3,10)),o=1;o<n;o++)s=","+t.substr(i.length-3*o,3)+s;return"$"+(t=(i=r+s)+a)}}),function(){var s=Rui.util,o=window.document,r=Rui.browser.opera,n=Rui.browser.webkit,u=Rui.browser.msie,l=Rui.util.LString,d={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i};Rui.applyObject(Rui.util.LDom,{getXY:function(t){return s.LDom.batch(t,function(t){return null!==t.ownerDocument&&((null!==t.parentNode&&null!==t.offsetParent&&"none"!=this.getStyle(t,"display")||t==t.ownerDocument.body)&&e(t))},s.LDom,!0)},getX:function(t){return s.LDom.batch(t,function(t){return s.LDom.getXY(t)[0]},s.LDom,!0)},getY:function(t){return s.LDom.batch(t,function(t){return s.LDom.getXY(t)[1]},s.LDom,!0)},setXY:function(t,n,e){s.LDom.batch(t,function(t){var e=this.getStyle(t,"position");"static"==e&&(this.setStyle(t,"position","relative"),e="relative");var i=this.getXY(t);if(!1===i)return!1;Rui.get(t).hasClass("L-hidden")&&(i[0]+=1e4,i[1]+=1e4);var a=[parseInt(this.getStyle(t,"left"),10),parseInt(this.getStyle(t,"top"),10)];isNaN(a[0])&&(a[0]="relative"==e?0:t.offsetLeft),isNaN(a[1])&&(a[1]="relative"==e?0:t.offsetTop),Rui.get(t).hasClass("L-hidden")&&-1e4==a[0]&&(a[0]+=1e4),Rui.get(t).hasClass("L-hidden")&&-1e4==a[1]&&(a[1]+=1e4),null!==n[0]&&(t.style.left=n[0]-i[0]+a[0]+"px"),null!==n[1]&&(t.style.top=n[1]-i[1]+a[1]+"px")},s.LDom,!0)},setX:function(t,e){s.LDom.setXY(t,[e,null])},setY:function(t,e){s.LDom.setXY(t,[null,e])},getRegion:function(t){return s.LDom.batch(t,function(t){return(null!==t.parentNode&&null!==t.offsetParent&&"none"!=this.getStyle(t,"display")||t==t.ownerDocument.body)&&s.LRegion.getRegion(t)},s.LDom,!0)},getClientRegion:function(){var t=s.LDom.getDocumentScrollTop(),e=s.LDom.getDocumentScrollLeft(),i=s.LDom.getViewportWidth()+e,a=s.LDom.getViewportHeight()+t;return new s.LRegion(t,i,a,e)},getClientWidth:function(){return s.LDom.getViewportWidth()},getClientHeight:function(){return s.LDom.getViewportHeight()},getDocumentHeight:function(){var t="CSS1Compat"!=o.compatMode?o.body.scrollHeight:o.documentElement.scrollHeight;return Math.max(t,s.LDom.getViewportHeight())},getDocumentWidth:function(){var t="CSS1Compat"!=o.compatMode?o.body.scrollWidth:o.documentElement.scrollWidth;return Math.max(t,s.LDom.getViewportWidth())},getDocumentScrollLeft:function(t){return t=t||o,Math.max(t.documentElement.scrollLeft,t.body.scrollLeft)},getDocumentScrollTop:function(t){return t=t||o,Math.max(t.documentElement.scrollTop,t.body.scrollTop)},getViewport:function(){return{width:this.getViewportWidth(),height:this.getViewportHeight()}},getViewportHeight:function(){if(!Rui.platform.isMobile&&Rui.getConfig){var t=Rui.getConfig().getFirst("$.core.screen.mobile.agentPatterns");if(t)for(var e=navigator.userAgent.toLowerCase(),i=0;i<t.length;i++){if(new RegExp(t[i].pattern).test(e))return t[i].heightFn()}}var a=self.innerHeight,n=o.compatMode;return!n&&!u||r||(a="CSS1Compat"==n?o.documentElement.clientHeight:o.body.clientHeight),a},getViewportWidth:function(){if(!Rui.platform.isMobile&&Rui.getConfig){var t=Rui.getConfig().getFirst("$.core.screen.mobile.agentPatterns");if(t)for(var e=navigator.userAgent.toLowerCase(),i=0;i<t.length;i++){if(new RegExp(t[i].pattern).test(e))return t[i].widthFn()}}var a=self.innerWidth,n=o.compatMode;return(n||u)&&(a="CSS1Compat"==n?o.documentElement.clientWidth:o.body.clientWidth),a},findStringInClassName:function(t,e){var i,a=null;return t&&e&&(i=t.className.split(" "),Rui.util.LArray.each(i,function(t){l.startsWith(t,e)&&(a=t.substring(e.length))})),a},toPixelNumber:function(t){return t&&"string"==typeof t?(t=t.replace(/px/,""),t=parseFloat(t,10)):0},isVisibleSide:function(t,e){var i=s.LDom.getClientRegion();switch(e=e||"b"){case"t":return!(i.top-t<0);case"r":return!(i.right-t<0);case"b":return!(i.bottom-t<0);case"l":return!(i.left-t<0)}},setCaretToPos:function(t,e){Rui.util.LDom.setSelectionRange(t,e,e)},getAvailableHeight:function(t){var e=Rui.util.LDom.getY(t)+t.offsetHeight,i=this.getStyle(t,"padding-top"),a=this.getStyle(t,"padding-bottom"),n="auto"!==i?this.toPixelNumber(i):0,s="auto"!==a?this.toPixelNumber(a):0,r=0,o=t.children.length;if(0<o){for(var u,l,d=null,h=o-1;0<=h;h--){var c=t.children[h];if("none"!=this.getStyle(c,"display")){d=c;break}}d&&(r+=Rui.util.LDom.getY(d)+d.offsetHeight,u=this.getStyle(d,"margin-top"),l=this.getStyle(d,"margin-bottom"),"auto"!==u&&(r+=this.toPixelNumber(u)),"auto"!==l&&(r+=this.toPixelNumber(l)))}return(e-=r+n+s)<0&&(e=0),e},setSelectionRange:function(t,e,i){try{var a;t.setSelectionRange?t.setSelectionRange(e,i):t.createTextRange&&((a=t.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select())}catch(t){}},getSelectionInfo:function(t){var e=Rui.isUndefined(t.value)?t.innerHTML:t.value,i=Rui.util.LDom.getSelectionStart(t),a=Rui.util.LDom.getSelectionEnd(t);if(i==Rui.util.LDom.CARET_START&&a==Rui.util.LDom.CARET_END&&i==a)return null;var n=e.substring(i,a).replace(/ /g," ")||" ",s=e.substring(0,i).replace(/ /g," ")||" ",r=e.substring(a,t.value.length).replace(/ /g," ")||" ",o=e.length,u=i,l=a;return Rui.util.LDom.CARET_START=i,Rui.util.LDom.CARET_END=a,{preText:s,afterText:r,selectedText:n,maxLength:o,value:t.value,begin:u,end:l}},getSelectionStart:function(t){if(t.createTextRange&&o.selection){var e=o.selection.createRange().duplicate();return e.moveEnd("character",t.value.length),""==e.text?t.value.length:t.value.lastIndexOf(e.text)}return t.selectionStart},getSelectionEnd:function(t){if(t.createTextRange&&o.selection){var e=o.selection.createRange().duplicate();return e.moveStart("character",-t.value.length),e.text.length}return t.selectionEnd},getFormValues:function(t){return this.getValues("input[type=text], input[type=password], input[type=hidden], textarea, input:checked, select:selected",t)},getValues:function(t,e){var s={},i=Rui.get(e),a=Rui.util.LDomSelector.query(t,i.dom);return Rui.util.LArray.each(a,function(t){var e=Rui.get(t),i=e.dom.name||e.dom.id;if(e.hasClass("empty"))return!0;var a,n=e.get("value");"checkbox"==e.dom.type||"radio"==e.dom.type?/LRadio/.test(e.dom.declaredClass)?!1!==n&&(s[i]=n):((a=s[i])||(a=[],s[i]=a),!1!==n&&a.push(n)):s[i]=n},this),s},getHiddenParent:function(t,e){var i=Rui.get(t);e=e||10;var a,n=0,s=i;try{for(;null!=(a=s.parent())&&n<e;){if(n++,"none"==s.getStyle("display")||s.hasClass("L-hidden"))return s.dom;s=a}return null}finally{s=a=i=null}},getParams:function(){var t=o.location.href,e={};if(0<(a=t.indexOf("?")))for(var i=t.substring(a+1).split("&"),a=0,n=i.length;a<n;a++){var s=i[a].split("=");e[s[0]]=s[1]}return e},toast:function(t,e,i){if(!(Rui.browser.msie&&Rui.browser.version<8)){i=Rui.applyIf(i||{},{delay:1500}),this.toastList=this.toastList||[];for(var a=0,n=this.toastList.length;a<n;a++)if(t==this.toastList[a].text)return;this.toastList.push({dom:e||o.body,text:t,options:i});var s,r=Rui.util.LDom;0<this.toastList.length?(s=function(t){if(this.toastEl||(this.toastEl=Rui.createElements('<div class="L-toast"><div class="L-toast-inner"></div></div>'),this.toastEl.appendTo(o.body)),this.toastList.length<1)return r.laterObj&&r.laterObj.cancel(),void(r.laterObj=null);var e,i,a,n=this.toastList[0].options;this.toastEl.select("div").html(this.toastList[0].text),this.toastEl.show(),n.x?this.toastEl.setLeft(n.x):(e=(e=this.getViewportWidth())/2-this.toastEl.getWidth()/2,this.toastEl.setLeft(e)),n.y?this.toastEl.setTop(n.y):(a=o.body!==this.toastList[0].dom?(i=Rui.get(this.toastList[0].dom)).getY()+i.getHeight()/2+100:this.getViewportHeight()/2+o.body.scrollTop+100,this.toastEl.setTop(a)),this.toastEl.animate({opacity:{from:1,to:0},delay:n.delay,callback:Rui.util.LFunction.createDelegate(function(){this.toastEl.setStyle("opacity",1),this.toastEl.hide(),this.toastList=Rui.util.LArray.removeAt(this.toastList,0)},this)})},1===this.toastList.length?s.call(this):null==r.laterObj&&(r.laterObj=Rui.later(3e3,this,s,null,!0))):(r.laterObj&&r.laterObj.cancel(),r.laterObj=null)}},invokeFn:function(t,e,i){e=e||this;for(var a=t.className.split(" "),n=0,s=a.length;n<s;n++){var r=l.trim(a[n]);if(l.startsWith(r,"L-fn-")){var o=r.substring(5),o=l.getCamelToFunctionName(o);try{if(!1===e[o].call(e,i))return}catch(t){throw new Error("css function을 수행할 수 없습니다. : "+r+" => "+t.message)}}}}}),Rui.util.LDom.CARET_START=0,Rui.util.LDom.CARET_END=0;var e=o.documentElement.getBoundingClientRect?function(t){var e=t.getBoundingClientRect(),i=Math.round,a=t.ownerDocument;return[i(e.left+s.LDom.getDocumentScrollLeft(a)),i(e.top+s.LDom.getDocumentScrollTop(a))]}:function(t){var e=[t.offsetLeft,t.offsetTop],i=t.offsetParent,a=n&&"absolute"==s.LDom.getStyle(t,"position")&&t.offsetParent==t.ownerDocument.body;if(i!=t)for(;i;)e[0]+=i.offsetLeft,e[1]+=i.offsetTop,!a&&n&&"absolute"==s.LDom.getStyle(i,"position")&&(a=!0),i=i.offsetParent;for(a&&(e[0]-=t.ownerDocument.body.offsetLeft,e[1]-=t.ownerDocument.body.offsetTop),i=t.parentNode;i.tagName&&!d.ROOT_TAG.test(i.tagName);)(i.scrollTop||i.scrollLeft)&&(e[0]-=i.scrollLeft,e[1]-=i.scrollTop),i=i.parentNode;return e}}(),Rui.util.LXml={createDocument:function(t){var e=null;return Rui.browser.msie||Rui.browser.msie11?((e=new ActiveXObject("Microsoft.XMLDOM")).validateOnParse=!1,e.resolveExternals=!0,e.async=!1,e.documentElement=e.createElement(t)):e=document.implementation.createDocument("",t,null),e},createChild:function(t,e){var i=t.ownerDocument.createElement(e);return t.appendChild(i),i},createTextValue:function(t,e,i){var a=null;return!t.hasChildNodes()||3!=t.firstChild.nodeType&&4!=t.firstChild.nodeType||i?(a=i?t.ownerDocument.createCDATASection(e):t.ownerDocument.createTextNode(e),t.appendChild(a)):t.firstChild.nodeValue=e,a},serialize:function(t){return Rui.browser.msie||Rui.browser.msie11?t.xml:(new XMLSerializer).serializeToString(t)}},Rui.util.LKeyListener=function(t,n,e,i){1==arguments.length&&"object"==typeof t&&t.keyData&&(n=t.keyData,e=t.handler,i=t.event,t=t.applyTo||t.attachTo),i=i||Rui.util.LKeyListener.KEYDOWN;var s=new Rui.util.LCustomEvent("keyPressed");function a(t,e){var i;if(n.shift||(n.shift=!1),n.alt||(n.alt=!1),n.ctrl||(n.ctrl=!1),t.shiftKey==n.shift&&t.altKey==n.alt&&t.ctrlKey==n.ctrl)if(n.keys instanceof Array)for(var a=0;a<n.keys.length;a++){if((i=n.keys[a])==t.charCode){s.fire(t.charCode,t);break}if(i==t.keyCode){s.fire(t.keyCode,t);break}}else(i=n.keys)==t.charCode?s.fire(t.charCode,t):i==t.keyCode&&s.fire(t.keyCode,t)}this.enabledEvent=new Rui.util.LCustomEvent("enabled"),this.disabledEvent=new Rui.util.LCustomEvent("disabled"),"string"==typeof t&&(t=document.getElementById(t)),"function"==typeof e?s.on(e):s.on(e.fn,e.scope,e.correctScope),this.enable=function(){this.enabled||(Rui.util.LEvent.addListener(t,i,a),this.enabledEvent.fire(n)),this.enabled=!0},this.disable=function(){this.enabled&&(Rui.util.LEvent.removeListener(t,i,a),this.disabledEvent.fire(n)),this.enabled=!1},this.toString=function(){return"LKeyListener ["+n.keys+"] "+t.tagName+(t.id?"["+t.id+"]":"")}},Rui.util.LKeyListener.KEYDOWN="keydown",Rui.util.LKeyListener.KEYUP="keyup",Rui.namespace("util"),Rui.util.LCollection=function(){this.items=[],this.keys=[],this.map={},this.length=0},Rui.util.LCollection.prototype={insert:function(t,e,i){if(2==arguments.length&&(e=(i=e).id?e.id:null),t>=this.length)return this.add(e,i);if(this.items.splice(t,0,i),this.keys.splice(t,0,e),!e)throw new Error("Can not find the key!");this.length++,this.map[e]=t,this._updateIndex(t)},add:function(t,e){1==arguments.length&&(t=(e=t).id?t.id:null),this.keys.push(t),this.items.push(e),this.map[t]=this.length,this.length++},remove:function(t){var e=this.map[t];if(e<0||void 0===e)return!1;if(this.keys.splice(e,1),delete this.map[t],this.items.splice(e,1),this.length--,this.length<0)throw new Rui.LException("Collection.remove() : IndexOutOfBoundsException ["+this.length+"]");return this._updateIndex(e),!0},_updateIndex:function(t){for(var e=t,i=this.length;e<i;e++){var a=this.keys[e];this.map[a]=e}},indexOfKey:function(t){var e=this.map[t];return void 0===e?-1:e},get:function(t){var e=this.map[t];return this.items[e]},set:function(t,e){var i=this.map[t];if(i<0||void 0===i)throw new Rui.LException("Collection.set() : IndexOutOfBoundsException["+i+"]");this.items[i]=e},getKey:function(t){return this.keys[t]},getAt:function(t){return this.items[t]},has:function(t){return void 0!==this.map[t]},clear:function(){this.items=[],this.keys=[],this.map={},this.length=0},each:function(t,e){for(var i=this.length,a=0;a<i&&0!=t.call(e||window,this.keys[a],this.items[a],a,i);a++);},query:function(n,s){var r=new Rui.util.LCollection;return this.each(function(t,e,i,a){!0===n.call(s||this,t,e,i)&&r.add(t,e)},this),r},sort:function(i,a){for(var n="DESC"==String(a).toUpperCase()?-1:1,t=[],e=0,s=this.items.length;e<s;e++)t[e]={key:this.keys[e],value:this.items[e],index:e};t.sort(function(t,e){return i(t,e,a)*n});for(e=0,s=t.length;e<s;e++)this.keys[e]=t[e].key,this.items[e]=t[e].value;this._updateIndex(0),t=null},reverse:function(){this.items.reverse(),this._updateIndex(0)},clone:function(){for(var t=new Rui.util.LCollection,e=this.length,i=0;i<e;i++){var a=this.getKey(i);t.insert(i,a,this.get(a))}return t},toString:function(){return"Rui.util.LCollection "}},Rui.util.LResizeMonitor=function(t){t=t||{},Rui.util.LResizeMonitor.superclass.constructor.call(this),Rui.applyObject(this,t,!0),this.createEvent("contentResized")},Rui.extend(Rui.util.LResizeMonitor,Rui.util.LEventProvider,{otype:"Rui.util.LResizeMonitor",onContentResized:function(t){!this.resizeLock&&this.isNeedResizing()&&(this.resizeLock=!0,this.fireEvent("contentResized",t),this.resizeLock=!1)},onWindowResized:function(t){!this.resizeLock&&this.isNeedResizing()&&(this.resizeLock=!0,this.fireEvent("contentResized",t),this.initFrame(),this.resizeLock=!1)},isNeedResizing:function(){var t,e=this.monitorDom,i=!1;return!e||(i=0!=(t=Rui.get(e).getWidth())&&t!==this.oldWidth)&&(this.oldWidth=t),i},initFrame:function(){var t;this.ifrm&&(t=this.ifrm,this.delayTaskIfrm||(this.delayTaskIfrm=new Rui.util.LDelayedTask(function(){this.resizeLock=!0,t.style.width="0px",t.style.width="90%",this.resizeLock=!1,this.delayTaskIfrm=null},this),this.delayTaskIfrm.delay(1)))},monitor:function(t){this.monitorDom||(this.monitorDom="string"==typeof t?document.getElementById(t):t,this.oldWidth=Rui.get(t).getWidth(),this.monitorContentResizeByIFrame())},monitorContentResizeByIFrame:function(){Rui.util.LEvent.addListener(window,"resize",this.onWindowResized,this,!0);var t=this.monitorDom,e=document.createElement("div"),i=document.createElement("iframe");e.className="L-grid-resize-monitor",e.style.height="0px",e.style.overflow="hidden",t.appendChild(e),i.scrolling="no",i.frameBorder="0",i.style.width="90%",i.style.height="0px",e.appendChild(i),Rui.browser.webkit&&(t.style.overflow="hidden"),this.delayTask||(this.delayTask=new Rui.util.LDelayedTask(function(){var t=i.contentWindow||i.contentDocument;t&&(t=t.document?t:t.parent,this.bindResize(t)),this.delayTask=null},this),this.delayTask.delay(1)),this.ifrm=i},bindResize:function(t){Rui.util.LEvent.removeListener(t,"resize",this.onContentResized),Rui.util.LEvent.addListener(t,"resize",this.onContentResized,this,!0)}}),Rui.util.LDelayedTask=function(n,s,r){function o(){clearInterval(u),u=null,n.apply(s,r||[])}var u,l=this;l.delay=function(t,e,i,a){l.cancel(),n=e||n,s=i||s,r=a||r,u=setInterval(o,t)},l.cancel=function(){u&&(clearInterval(u),u=null)}},Rui.namespace("Rui.util"),function(){Rui.util.LFormat={numberFormatFn:[],moneyFormatFn:[],stringToDate:function(t,e){if(t){if(t.getFullYear)return t;var i,a,n,s,r,o,u,l;if(e)if(e&&"%Y%m%d"===e.format){if(8!==t.length)return!1;n=parseInt(t.substring(0,4),10),s=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6,8),10),i=new Date(n,s-1,r)}else if(!e||"%Y%m%d%H%M%s"!==e.format&&"%X"!==e.format)i=Rui.util.LDate.parse(t,e);else{if(14!==t.length)return!1;n=parseInt(t.substring(0,4),10),s=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6,8),10),o=parseInt(t.substring(8,10),10),u=parseInt(t.substring(10,12),10),l=parseInt(t.substring(12,14),10),i=new Date(n,s-1,r,o,u,l)}else{if(10!==t.length||t.indexOf("-")<0)return!1;a=t.split("-"),n=parseInt(a[0],10),s=parseInt(a[1],10),r=parseInt(a[2],10),i=new Date(n,s-1,r)}return i instanceof Date?(!(n&&s&&r)||i.getFullYear()==n&&i.getMonth()+1===s&&i.getDate()===r)&&((!(o&&u&&l)||i.getHours()==o&&i.getMinutes()===u&&i.getSeconds()===l)&&i):!1}return t},stringToDateByTypeQ:function(t){return Rui.util.LFormat.stringToDate(t,{format:"%Y%m%d"})},stringToTimestamp:function(t,e){if(t){if(t.getFullYear)return t;if(e)return Rui.util.LDate.parse(t,e);8<t.length&&(t=" "==t.charAt(10)?t.substring(0,10)+t.substring(11):t),t=t.replace(/[\s-|:|.]/g,"");var i=parseInt(t.substring(0,4),10),a=parseInt(t.substring(4,6),10)-1,n=parseInt(t.substring(6,8),10),s=0,r=0,o=0,u=0;return 8<t.length&&(s=parseInt(t.substring(8,10),10),r=parseInt(t.substring(10,12),10),o=parseInt(t.substring(12,14),10),14<t.length&&(u=parseInt(t.substring(14),10))),new Date(i,a,n,s,r,o,u)}return t},dateToString:function(t,e){return!t||t&&isNaN(t.getDay())?"":Rui.util.LDate.format(t,e)},numberFormat:function(t,e){return e=e||Rui.getConfig().getFirst("$.core.defaultLocale"),Rui.util.LFormat.numberFormatFn[e]||(Rui.message.locale[e]||Rui.getMessageManager().load({locale:e}),Rui.util.LFormat.numberFormatFn[e]=Rui.message.locale[e].numberFormat),Rui.util.LFormat.numberFormatFn[e].call(this,t)},moneyFormat:function(t,e){return e=e||Rui.getConfig().getFirst("$.core.defaultLocale"),Rui.util.LFormat.moneyFormatFn[e]||(Rui.message.locale[e]||Rui.getMessageManager().load({locale:e}),Rui.util.LFormat.moneyFormatFn[e]=Rui.message.locale[e].moneyFormat),Rui.util.LFormat.moneyFormatFn[e].call(this,t)},rateFormat:function(t,e,i){var a=new Object;return a.decimalPlaces=i||{},a.suffix=e,Rui.util.LNumber.format(t,a)},timeFormat:function(t,e){e=e||{};if(null==t||null==t||0==t.length)return"";var i=t.length;if(6<i)t=t.substr(0,6);else{t+="";for(var a=0;a<6-i;a++)t+="0"}var n="20090909"+t,s=Rui.util.LDate.parse(n,{format:"%Y%m%d%H%M%S",locale:e.locale});return null!=e.format&&null!=e.format||(e.format="%T"),Rui.util.LDate.format(s,e)},weightFormat:function(t,e,i,a){var n=new Object;return n.decimalPlaces=a||{},n.suffix=e||{},i&&(n.thousandsSeparator=","),Rui.util.LNumber.format(t,n)},lengthFormat:function(t,e,i,a){var n=new Object;return n.decimalPlaces=a||{},n.suffix=e||{},i&&(n.thousandsSeparator=","),Rui.util.LNumber.format(t,n)},rendererWrapper:function(fnName){for(var fn=eval("Rui.util.LFormat."+fnName),a=arguments,param=[],i=1;i<a.length;i++)param.push(a[i]);return function(t){return fn.call(t,param)}}}}(),Rui.namespace("Rui.util"),Rui.util.LRenderer={dateRenderer:function(e,i){return function(t){return Rui.util.LFormat.dateToString(t,{format:e,locale:i})}},numberRenderer:function(){return function(t){return Rui.util.LFormat.numberFormat(t)}},moneyRenderer:function(e){return function(t){return Rui.util.LFormat.moneyFormat(t,e)}},rateRenderer:function(e){return function(t){return Rui.util.LFormat.rateFormat(t,"%",e)}},timeRenderer:function(e){return function(t){return Rui.util.LFormat.timeFormat(t,{format:e})}},weightRenderer:function(e,i,a){return function(t){return Rui.util.LFormat.weightFormat(t,e,i,a)}},lengthRenderer:function(e,i,a){return function(t){return Rui.util.LFormat.lengthFormat(t,e,i,a)}},popupRenderer:function(t){return t===Rui.data.LRecord.STATE_INSERT?function(t,e,i,a,n){return t=Rui.isEmpty(t)?"&nbsp;":t,e.excel||e.clipboard?t:i.getState()===Rui.data.LRecord.STATE_INSERT?(e.editable=!0,'<div class="L-popup-renderer"><div class="L-popup-button">'+t+'</div><span class="L-popup-button-icon L-ignore-event" style="position:absolute">&nbsp;</span></div>'):(e.editable=!1,t)}:function(t,e,i,a,n){return t=Rui.isEmpty(t)?"&nbsp;":t,e.excel||e.clipboard?t:(e.editable=!0,'<div class="L-popup-renderer"><div class="L-popup-button">'+t+'</div><span class="L-popup-button-icon L-ignore-event" style="position:absolute">&nbsp;</span></div>')}}},Rui.util.LPlugin=function(t){t=t||{},Rui.applyObject(this,t,!0)},Rui.extend(Rui.util.LPlugin,Rui.util.LEventProvider,{initPlugin:function(t){for(m in this)"constructor"==m||"initPlugin"==m||Rui.util.LEventProvider.prototype[m]||Rui.util.LString.startsWith(m,"_")||(t[m]=this[m])},updatePlugin:Rui.emptyFn,updatePluginView:Rui.emptyFn}),Rui.util.LRegion=function(t,e,i,a){this.top=t,this[1]=t,this.right=e,this.bottom=i,this.left=a,this[0]=a},Rui.util.LRegion.prototype.contains=function(t){return t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom},Rui.util.LRegion.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)},Rui.util.LRegion.prototype.intersect=function(t){var e=Math.max(this.top,t.top),i=Math.min(this.right,t.right),a=Math.min(this.bottom,t.bottom),n=Math.max(this.left,t.left);return e<=a&&n<=i?new Rui.util.LRegion(e,i,a,n):null},Rui.util.LRegion.prototype.union=function(t){var e=Math.min(this.top,t.top),i=Math.max(this.right,t.right),a=Math.max(this.bottom,t.bottom),n=Math.min(this.left,t.left);return new Rui.util.LRegion(e,i,a,n)},Rui.util.LRegion.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}"},Rui.util.LRegion.getRegion=function(t){var e=Rui.util.LDom.getXY(t),i=e[1],a=e[0]+t.offsetWidth,n=e[1]+t.offsetHeight,s=e[0];return new Rui.util.LRegion(i,a,n,s)},Rui.util.LPoint=function(t,e){Rui.isArray(t)&&(e=t[1],t=t[0]),this.x=this.right=this.left=this[0]=t,this.y=this.top=this.bottom=this[1]=e},Rui.util.LPoint.prototype=new Rui.util.LRegion,Rui.namespace("Rui.webdb"),Rui.webdb.LAbstractProvider=function(){this.storage={},this.createEvent("stateChanged"),Rui.webdb.LAbstractProvider.superclass.constructor.call(this)},Rui.webdb.LAbstractProvider.isLocalStorageSupported=function(){var t="_rui_ls_test",e=window.localStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(t){return!1}},Rui.extend(Rui.webdb.LAbstractProvider,Rui.util.LEventProvider,{useLocalStorage:!0,isLocalStorage:function(){return!("undefined"==typeof localStorage)},get:function(t,e){return(this.useLocalStorage&&this.isLocalStorage()?localStorage.getItem(t):this.storage[t])||e},set:function(t,e){return this.useLocalStorage&&this.isLocalStorage()?localStorage.setItem(t,e):this.storage[t]=e,this.fireEvent("stateChanged",{target:this,type:"set",key:t,value:e}),this},remove:function(t){var e;return this.useLocalStorage&&this.isLocalStorage()?localStorage.removeItem(t):(e=this.storage[t],delete this.storage[t]),this.fireEvent("stateChanged",{target:this,type:"remove",key:t,value:e}),this},clear:function(){return this.useLocalStorage&&this.isLocalStorage()?localStorage.clear():this.storage={},this}}),Rui.namespace("Rui.webdb"),Rui.webdb.LCookieProvider=function(t){Rui.webdb.LCookieProvider.superclass.constructor.call(this),this.domain=null,this.expires=new Date((new Date).getTime()+864e5),this.path="/",this.secure=!1;var e=t||{};Rui.applyObject(this,e),this.storage=Rui.util.LCookie._parseCookieString(document.cookie)},Rui.extend(Rui.webdb.LCookieProvider,Rui.webdb.LAbstractProvider,{useLocalStorage:!1,set:function(t,e){if(!Rui.isString(t))throw new TypeError("LCookieProvider.set(): Argument must be an string.");if(Rui.isUndefined(e))throw new TypeError("LCookieProvider.set(): Value cannot be undefined.");return document.cookie=Rui.util.LCookie._createCookieString(t,e,!1,this),Rui.webdb.LCookieProvider.superclass.set.call(this,t,e),this},remove:function(t){if(!Rui.isString(t))throw new TypeError("LCookieProvider.set(): Argument must be an string.");return Rui.util.LCookie.remove(t),Rui.webdb.LCookieProvider.superclass.remove.call(this,t),this}}),Rui.namespace("Rui.webdb"),Rui.webdb.LWebStorage=function(t){this.provider=t,null!=this.provider&&t instanceof Rui.webdb.LAbstractProvider||(this.provider=Rui.webdb.LAbstractProvider.isLocalStorageSupported()?new Rui.webdb.LAbstractProvider:new Rui.webdb.LCookieProvider)},Rui.webdb.LWebStorage.prototype={get:function(t,e){return this.provider.get(t,e)},getBoolean:function(t,e){var i=this.get(t,e);return"true"==String(i)},getInt:function(t,e){return parseInt(this.get(t,e),10)},getString:function(t,e){return this.get(t,e)+""},set:function(t,e){return this.provider.set(t,e),this},remove:function(t){return this.provider.remove(t),this},clear:function(t){return this.provider.clear(t),this},setProvider:function(t){return this.provider=t,this},getProvider:function(){return this.provider}},Rui.namespace("Rui.config"),Rui.config.LConfigurationProvider=function(t){Rui.config.LConfigurationProvider.superclass.constructor.call(this),this.data=null,t=t||{},Rui.applyObject(this,t,!0),this.reload()},Rui.extend(Rui.config.LConfigurationProvider,Rui.webdb.LAbstractProvider,{useLocalStorage:!1,get:function(t){var e=Rui.config.LConfigurationProvider.superclass.get.call(this,t);return 0==Rui.isUndefined(e)||(!1===(e=Rui.util.LJson.jsonPath(this.data,t,{resultType:"VALUE"}))?e=null:this.storage[t]=e),e},set:function(t,e){if(!Rui.isString(t))throw new TypeError("LConfigurationProvider.set(): Argument must be an string.");if(Rui.isUndefined(e))throw new TypeError("LConfigurationProvider.set(): Value cannot be undefined.");for(var i=t.split("."),a=1,n=this.data;a<i.length-1;a++)n[i[a]]||(n[i[a]]={}),n=n[i[a]];return n[i[a]]=e,Rui.config.LConfigurationProvider.superclass.set.call(this,t,e),this},remove:function(t){if(!Rui.isString(t))throw new TypeError("LConfigurationProvider.set(): Argument must be an string.");return Rui.config.LConfigurationProvider.superclass.remove.call(this,t),this},reload:function(){if(Rui.isNull(this.data)||!this.data.base){if(Rui.isUndefined(Rui.config.ConfigData))throw new Error("LConfiguration not initialized.");this.data=Rui.config.ConfigData}return this.storage={},this},isLoad:function(){return!(!this.data||!this.data.core)}}),Rui.namespace("Rui.config"),Rui.config.LConfiguration=function(){if(Rui.config.LConfiguration.caller!=Rui.config.LConfiguration.getInstance)throw new Rui.LException("Can't call the constructor method.",this);Rui.config.LConfiguration.superclass.constructor.call(this),this.provider=new Rui.config.LConfigurationProvider},Rui.config.LConfiguration.instanceObj=null,Rui.config.LConfiguration.getInstance=function(){return null==this.instanceObj&&(this.instanceObj=new Rui.config.LConfiguration(new Rui.config.LConfigurationProvider)),this.instanceObj},Rui.extend(Rui.config.LConfiguration,Rui.webdb.LWebStorage,{otype:"Rui.config.LConfiguration",reload:function(){return this.provider.reload(),this},getFirst:function(t,e){var i=this.get(t);return null!=i&&0<i.length?Rui.isArray(i)?i[0]:i:e||null}}),Rui.namespace("Rui.message"),Rui.message.LMessageManager=function(t){var e;Rui.message.LMessageManager.superclass.constructor.call(this),this.localeData={},this.currentLocale=Rui.getConfig().getFirst("$.core.defaultLocale")||"ko_KR",this.useApplyDefaultMessage&&(this.localeData[this.currentLocale]||(e=!(e=Rui.getConfig().get("$.core.message.defaultMessage"))||e&&!e[0]?Rui.message&&Rui.message.locale&&Rui.message.locale.ko_KR?Rui.message.locale.ko_KR:(this.load({locale:this.currentLocale}),Rui.message.locale[this.currentLocale]):e[0],this.localeData[this.currentLocale]=e)),this.createEvent("createRootLocale"),Rui.isObject(t)&&(t.locale&&(this.currentLocale=t.locale),t.useAutoLoad&&(this.useAutoLoad=t.useAutoLoad))},Rui.extend(Rui.message.LMessageManager,Rui.util.LEventProvider,{useAutoLoad:!0,useApplyDefaultMessage:!0,setLocale:function(t){return this.currentLocale=t,this.load({locale:this.currentLocale}),this},addLocaleData:function(t){if(!t.locale)throw new TypeError("LMessageManager.addLocaleData(): Not found locale attribute in localeData.");var e=this.localeData[t.locale]||null;e||(Rui.message.locale[t.locale]?(e=Rui.message.locale[t.locale],this.localeData[t.locale]=e):this.load({locale:t.locale}),e=e||{});for(var i=Rui.message.LMessageManager.ROOT_LEVEL,a=0;a<i.length;a++)e[i[a]]||(e[i[a]]={});for(a=0;a<i.length;a++){var n=i[a];for(m in t[n])Object.prototype[m]||(e[n][m]=t[n][m])}return this.localeData[t.locale]=e,this},get:function(t,e,i){if(Rui.isUndefined(t))throw new TypeError("LMessageManager.get(): not found name attribute. [name: "+t+"]");Rui.isUndefined(i)||this.setLocale(i);var a=(n=this.localeData[this.currentLocale])?Rui.util.LJson.jsonPath(n,t,{resultType:"VALUE"})[0]:null;if(Rui.isNull(a)||Rui.isUndefined(a)){var n,s=this.currentLocale;if(this.useApplyDefaultMessage&&(s=Rui.getConfig().getFirst("$.core.defaultLocale"),n=this.localeData[s]),!this.useAutoLoad)throw new Error("LMessageManager.get(): Not found message Data. : ["+t+":"+this.currentLocale+"]");if(n||this.load({locale:s}),!(n=this.localeData[s]))throw new Error("LMessageManager.get(): Not found message Data. ["+t+":"+this.currentLocale+"]");a=Rui.util.LJson.jsonPath(n,t,{resultType:"VALUE"})[0]}if(Rui.isNull(a)||Rui.isUndefined(a))throw new Error("LMessageManager.get(): Not found message Data. : ["+t+":"+this.currentLocale+"]");if(!1===a)return null;var r=0,o=0;if(null==e)return a;for(;-1!=(r=a.indexOf("@",r));)null==e[o]&&(e[o]=""),a=a.substr(0,r)+String(e[o])+a.substring(r+1),r+=String(e[o++]).length;return a},load:function(oConfig){oConfig=oConfig||{locale:this.currentLocale},this.createRootLocale(oConfig);var ruiRootPath=Rui.getRootPath(),localePath=Rui.getConfig().getFirst("$.core.message.localePath");oConfig.jsFile||(oConfig.jsFile="lang-"+oConfig.locale+".js"),Rui.includeJs(ruiRootPath+localePath+"/"+oConfig.jsFile,!0);var currentLocaleData=eval("Rui.message.locale."+oConfig.locale);return this.addLocaleData(currentLocaleData),this},createRootLocale:function(oConfig){this.fireEvent("createRootLocale");var localeObj=eval("Rui.message.locale."+oConfig.locale);Rui.isUndefined(localeObj)&&Rui.namespace("Rui.message.locale."+oConfig.locale)}}),Rui.message.LMessageManager.ROOT_LEVEL=["core","base","ext","message"],connectDebugger(),Rui.namespace("Rui.fx"),Rui.fx.LAnim=function(t){(t=t||{}).applyTo&&(t.el=t.applyTo),this.init(t),this.createEvent("start"),this.createEvent("tween"),this.createEvent("complete")},Rui.extend(Rui.fx.LAnim,Rui.util.LEventProvider,{otype:"Rui.fx.LAnim",patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(t,e,i){return this.method(this.currentFrame,e,i-e,this.totalFrames)},setAttribute:function(t,e,i){this.patterns.noNegatives.test(t)&&(e=0<e?e:0),Rui.util.LDom.setStyle(this.getEl(),t,e+i)},getAttribute:function(t){var e=this.getEl(),i=Rui.util.LDom.getStyle(e,t);if("auto"!==i&&!this.patterns.offsetUnit.test(i))return parseFloat(i);var a=this.patterns.offsetAttribute.exec(t)||[],n=!!a[3];return i=!!a[2]||"absolute"==Rui.util.LDom.getStyle(e,"position")&&n?e["offset"+a[0].charAt(0).toUpperCase()+a[0].substr(1)]:0},getDefaultUnit:function(t){return this.patterns.defaultUnit.test(t)?"px":""},setRuntimeAttribute:function(t){var e,i,a=this.attributes;this.runtimeAttributes[t]={};function n(t){return void 0!==t}if(!n(a[t].to)&&!n(a[t].by))return!1;if(e=n(a[t].from)?a[t].from:this.getAttribute(t),n(a[t].to))i=a[t].to;else if(n(a[t].by))if(e.constructor==Array){i=[];for(var s=0,r=e.length;s<r;++s)i[s]=e[s]+ +a[t].by[s]}else i=e+ +a[t].by;return this.runtimeAttributes[t].start=e,this.runtimeAttributes[t].end=i,this.runtimeAttributes[t].unit=n(a[t].unit)?a[t].unit:this.getDefaultUnit(t),!0},init:function(t){var i=!1,a=null,n=0,e=t.el?Rui.util.LDom.get(t.el):null;this.attributes=t.attributes||{},this.duration=Rui.isUndefined(t.duration)?1:t.duration,this.method=t.method||Rui.fx.LEasing.easeNone,this.useSeconds=!0,this.currentFrame=0,this.totalFrames=Rui.fx.LAnimManager.fps,this.setEl=function(t){e=Rui.util.LDom.get(t)},this.getEl=function(){return e},this.isAnimated=function(){return i},this.getStartTime=function(){return a},this.runtimeAttributes={},this.animate=function(){return!(this.isAnimated()||!e)&&(this.currentFrame=0,this.totalFrames=this.useSeconds?Math.ceil(Rui.fx.LAnimManager.fps*this.duration):this.duration,0===this.duration&&this.useSeconds&&(this.totalFrames=1),Rui.fx.LAnimManager.registerElement(this),!0)},this.stop=function(t){if(!this.isAnimated())return!1;t&&(this.currentFrame=this.totalFrames,this.tween()),Rui.fx.LAnimManager.stop(this)},this.start=function(){for(var t in this.fireEvent("start"),this.runtimeAttributes={},this.attributes)this.setRuntimeAttribute(t);i=!0,n=0,a=new Date},this.tween=function(){var t={duration:new Date-this.getStartTime(),currentFrame:this.currentFrame,toString:function(){return"duration: "+t.duration+", currentFrame: "+t.currentFrame}};this.fireEvent("tween",t);var e=this.runtimeAttributes;for(var i in e)this.setAttribute(i,this.doMethod(i,e[i].start,e[i].end),e[i].unit);n+=1},this.complete=function(){var t=(new Date-a)/1e3,e={duration:t,frames:n,fps:n/t,toString:function(){return"duration: "+e.duration+", frames: "+e.frames+", fps: "+e.fps}};i=!1,n=0,this.fireEvent("complete",e)}},toString:function(){var t=this.getEl()||{},e=t.id||t.tagName;return this.otype+": "+e}}),Rui.fx.LAnimManager=new function(){var a=null,n=[],s=0;this.fps=1e3,this.delay=1,this.registerElement=function(t){n[n.length]=t,s+=1,t.start(),this.start()},this.unRegister=function(t,e){return e=e||i(t),!(!t.isAnimated()||-1==e)&&(t.complete(),n.splice(e,1),--s<=0&&this.stop(),!0)},this.start=function(){null===a&&(a=setInterval(this.run,this.delay))},this.stop=function(t){if(t)this.unRegister(t);else{clearInterval(a);for(var e=0,i=n.length;e<i;++e)this.unRegister(n[0],0);n=[],a=null,s=0}},this.run=function(){for(var t=0,e=n.length;t<e;++t){var i=n[t];i&&i.isAnimated()&&(i.currentFrame<i.totalFrames||null===i.totalFrames?(i.currentFrame+=1,i.useSeconds&&r(i),i.tween()):Rui.fx.LAnimManager.stop(i,t))}};var i=function(t){for(var e=0,i=n.length;e<i;++e)if(n[e]==t)return e;return-1},r=function(t){var e=t.totalFrames,i=t.currentFrame,a=t.currentFrame*t.duration*1e3/t.totalFrames,n=new Date-t.getStartTime(),s=0;0<(s=n<1e3*t.duration?Math.round((n/a-1)*t.currentFrame):e-(i+1))&&isFinite(s)&&(t.currentFrame+s>=e&&(s=e-(i+1)),t.currentFrame+=s)}},Rui.fx.LEasing={easeNone:function(t,e,i,a){return i*t/a+e},easeIn:function(t,e,i,a){return i*(t/=a)*t+e},easeOut:function(t,e,i,a){return-i*(t/=a)*(t-2)+e},easeBoth:function(t,e,i,a){return(t/=a/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInStrong:function(t,e,i,a){return i*(t/=a)*t*t*t+e},easeOutStrong:function(t,e,i,a){return-i*((t=t/a-1)*t*t*t-1)+e},easeBothStrong:function(t,e,i,a){return(t/=a/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},elasticIn:function(t,e,i,a,n,s){return 0==t?e:1==(t/=a)?e+i:(s=s||.3*a,r=!n||n<Math.abs(i)?(n=i,s/4):s/(2*Math.PI)*Math.asin(i/n),-(n*Math.pow(2,10*--t)*Math.sin((t*a-r)*(2*Math.PI)/s))+e);var r},elasticOut:function(t,e,i,a,n,s){return 0==t?e:1==(t/=a)?e+i:(s=s||.3*a,r=!n||n<Math.abs(i)?(n=i,s/4):s/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*a-r)*(2*Math.PI)/s)+i+e);var r},elasticBoth:function(t,e,i,a,n,s){return 0==t?e:2==(t/=a/2)?e+i:(s=s||a*(.3*1.5),r=!n||n<Math.abs(i)?(n=i,s/4):s/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*--t)*Math.sin((t*a-r)*(2*Math.PI)/s)*-.5+e:n*Math.pow(2,-10*--t)*Math.sin((t*a-r)*(2*Math.PI)/s)*.5+i+e);var r},backIn:function(t,e,i,a,n){return void 0===n&&(n=1.70158),i*(t/=a)*t*((n+1)*t-n)+e},backOut:function(t,e,i,a,n){return void 0===n&&(n=1.70158),i*((t=t/a-1)*t*((n+1)*t+n)+1)+e},backBoth:function(t,e,i,a,n){return void 0===n&&(n=1.70158),(t/=a/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},bounceIn:function(t,e,i,a){return i-Rui.fx.LEasing.bounceOut(a-t,0,i,a)+e},bounceOut:function(t,e,i,a){return(t/=a)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},bounceBoth:function(t,e,i,a){return t<a/2?.5*Rui.fx.LEasing.bounceIn(2*t,0,i,a)+e:.5*Rui.fx.LEasing.bounceOut(2*t-a,0,i,a)+.5*i+e}},Rui.fx.LMotionAnim=function(t){((t=t||{}).el||t.applyTo)&&Rui.fx.LMotionAnim.superclass.constructor.call(this,t),this.patterns.points=/^points$/i},Rui.extend(Rui.fx.LMotionAnim,Rui.fx.LAnim,{otype:"Rui.fx.LMotionAnim",setAttribute:function(t,e,i){this.patterns.points.test(t)?(i=i||"px",Rui.fx.LMotionAnim.superclass.setAttribute.call(this,"left",e[0],i),e[1]&&Rui.fx.LMotionAnim.superclass.setAttribute.call(this,"top",e[1],i)):Rui.fx.LMotionAnim.superclass.setAttribute.call(this,t,e,i)},getAttribute:function(t){var e=this.patterns.points.test(t)?[Rui.fx.LMotionAnim.superclass.getAttribute.call(this,"left"),Rui.fx.LMotionAnim.superclass.getAttribute.call(this,"top")]:Rui.fx.LMotionAnim.superclass.getAttribute.call(this,t);return e},doMethod:function(t,e,i){var a;return this.patterns.points.test(t)?(a=this.method(this.currentFrame,0,100,this.totalFrames)/100,Rui.fx.LBezier.getPosition(this.runtimeAttributes[t],a)):Rui.fx.LMotionAnim.superclass.doMethod.call(this,t,e,i)},setRuntimeAttribute:function(t){if(this.patterns.points.test(t)){var e,i,a=this.getEl(),n=this.attributes,s=n.points.control||[],r=Rui.util.LDom;if(0<s.length&&!(s[0]instanceof Array))s=[s];else{for(var o=[],u=0,l=s.length;u<l;++u)o[u]=s[u];s=o}if("static"==r.getStyle(a,"position")&&r.setStyle(a,"position","relative"),this.isset(n.points.from)?r.setXY(a,n.points.from):r.setXY(a,r.getXY(a)),e=this.getAttribute("points"),this.isset(n.points.to))for(i=this.translateValues(n.points.to,e),u=0,l=s.length;u<l;++u)s[u]=this.translateValues(s[u],e);else if(this.isset(n.points.by))for(i=[e[0]+n.points.by[0],e[1]+n.points.by[1]],u=0,l=s.length;u<l;++u)s[u]=[e[0]+s[u][0],e[1]+s[u][1]];this.runtimeAttributes[t]=[e],0<s.length&&(this.runtimeAttributes[t]=this.runtimeAttributes[t].concat(s)),this.runtimeAttributes[t][this.runtimeAttributes[t].length]=i}else Rui.fx.LMotionAnim.superclass.setRuntimeAttribute.call(this,t)},translateValues:function(t,e){var i=Rui.util.LDom.getXY(this.getEl());return t=[t[0]-i[0]+e[0],t[1]-i[1]+e[1]]},isset:function(t){return void 0!==t}}),Rui.fx.LBezier=new function(){this.getPosition=function(t,e){for(var i=t.length,a=[],n=0;n<i;++n)a[n]=[t[n][0],t[n][1]];for(var s=1;s<i;++s)for(n=0;n<i-s;++n)a[n][0]=(1-e)*a[n][0]+e*a[parseInt(n+1,10)][0],a[n][1]=(1-e)*a[n][1]+e*a[parseInt(n+1,10)][1];return[a[0][0],a[0][1]]}},Rui.namespace("Rui.dd"),Rui.dd.LDragDropManager||(Rui.dd.LDragDropManager=function(){var e=Rui.util.LEvent,i=Rui.util.LDom;return{useShim:!1,_shimActive:!1,_shimState:!1,_debugShim:!1,_createShim:function(){var t=document.createElement("div");t.id="L-ddm-shim",document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t),t.style.display="none",t.style.backgroundColor="red",t.style.position="absolute",t.style.zIndex="99999",i.setStyle(t,"opacity","0"),this._shim=t,e.on(t,"mouseup",this.handleMouseUp,this,!0),e.on(t,"mousemove",this.handleMouseMove,this,!0),e.on(window,"scroll",this._sizeShim,this,!0)},_sizeShim:function(){var t;this._shimActive&&((t=this._shim).style.height=i.getDocumentHeight()+"px",t.style.width=i.getDocumentWidth()+"px",t.style.top="0",t.style.left="0")},_activateShim:function(){var t,e;this.useShim&&(this._shim||this._createShim(),this._shimActive=!0,t=this._shim,e="0",this._debugShim&&(e=".5"),i.setStyle(t,"opacity",e),this._sizeShim(),t.style.display="block")},_deactivateShim:function(){this._shim.style.display="none",this._shimActive=!1},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,interactionInfo:null,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(t,e){for(var i in this.ids)for(var a in this.ids[i]){var n=this.ids[i][a];this.isTypeOfDD(n)&&n[t].apply(n,e)}},_onLoad:function(){this.init(),e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(t){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:1e3,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,fromTimeout:!1,regDragDrop:function(t,e){this.initialized||this.init(),this.ids[e]||(this.ids[e]={}),this.ids[e][t.id]=t},removeDDFromGroup:function(t,e){this.ids[e]||(this.ids[e]={});var i=this.ids[e];i&&i[t.id]&&delete i[t.id]},_remove:function(t){for(var e in t.groups){var i;!e||(i=this.ids[e])&&i[t.id]&&delete i[t.id]}delete this.handleIds[t.id]},regHandle:function(t,e){this.handleIds[t]||(this.handleIds[t]={}),this.handleIds[t][e]=e},isDragDrop:function(t){return!!this.getDDById(t)},getRelated:function(t,e){var i=[];for(var a in t.groups)for(var n in this.ids[a]){var s=this.ids[a][n];this.isTypeOfDD(s)&&(e&&!s.isTarget||(i[i.length]=s))}return i},isLegalTarget:function(t,e){for(var i=this.getRelated(t,!0),a=0,n=i.length;a<n;++a)if(i[a].id==e.id)return!0;return!1},isTypeOfDD:function(t){return t&&t.__ygDragDrop},isHandle:function(t,e){return this.handleIds[t]&&this.handleIds[t][e]},getDDById:function(t){for(var e in this.ids)if(this.ids[e][t])return this.ids[e][t];return null},handleMouseDown:function(t,e){this.currentTarget=Rui.util.LEvent.getTarget(t);var i=(this.dragCurrent=e).getEl();this.startX=Rui.util.LEvent.getPageX(t),this.startY=Rui.util.LEvent.getPageY(t),this.deltaX=this.startX-i.offsetLeft,this.deltaY=this.startY-i.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var t=Rui.dd.LDDM;t.startDrag(t.startX,t.startY),t.fromTimeout=!0},this.clickTimeThresh)},startDrag:function(t,e){this.dragCurrent&&this.dragCurrent.useShim&&(this._shimState=this.useShim,this.useShim=!0),this._activateShim(),clearTimeout(this.clickTimeout);var i=this.dragCurrent;i&&i.events.b4StartDrag&&(i.b4StartDrag(t,e),i.fireEvent("b4StartDragEvent",{x:t,y:e,dd:i})),i&&i.events.startDrag&&(i.startDrag(t,e),i.fireEvent("startDragEvent",{x:t,y:e,dd:i})),this.dragThreshMet=!0},handleMouseUp:function(t){this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&(this.fromTimeout&&(this.fromTimeout=!1,this.handleMouseMove(t)),this.fromTimeout=!1,this.fireEvents(t,!0)),this.stopDrag(t),this.stopEvent(t))},stopEvent:function(t){this.stopPropagation&&Rui.util.LEvent.stopPropagation(t),this.preventDefault&&Rui.util.LEvent.preventDefault(t)},stopDrag:function(t,e){var i=this.dragCurrent;i&&!e&&(this.dragThreshMet&&(i.events.b4EndDrag&&(i.b4EndDrag(t),i.fireEvent("b4EndDragEvent",{e:t})),i.events.endDrag&&(i.endDrag(t),i.fireEvent("endDragEvent",{e:t}))),i.events.mouseUp&&(i.onMouseUp(t),i.fireEvent("mouseUpEvent",{e:t}))),this._shimActive&&(this._deactivateShim(),this.dragCurrent&&this.dragCurrent.useShim&&(this.useShim=this._shimState,this._shimState=!1)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(t){var e,i,a=this.dragCurrent;if(a){if(Rui.util.LEvent.isIE&&Rui.browser.version<9&&!t.button)return this.stopEvent(t),this.handleMouseUp(t);this.dragThreshMet||(e=Math.abs(this.startX-Rui.util.LEvent.getPageX(t)),i=Math.abs(this.startY-Rui.util.LEvent.getPageY(t)),(e>this.clickPixelThresh||i>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)),this.dragThreshMet&&(a&&a.events.b4Drag&&(a.b4Drag(t),a.fireEvent("b4DragEvent",{e:t})),a&&a.events.drag&&(a.onDrag(t),a.fireEvent("dragEvent",{e:t})),a&&this.fireEvents(t,!1)),this.stopEvent(t)}},fireEvents:function(t,e){var i=this.dragCurrent;if(i&&!i.isLocked()&&!i.dragOnly){var a=Rui.util.LEvent.getPageX(t),n=Rui.util.LEvent.getPageY(t),s=new Rui.util.LPoint(a,n),r=i.getTargetCoord(s.x,s.y),o=i.getDragEl(),u=["out","over","drop","enter"],l=new Rui.util.LRegion(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x),d=[],h={},c=[],g={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var f in this.dragOvers){var m=this.dragOvers[f];this.isTypeOfDD(m)&&(this.isOverTarget(s,m,this.mode,l)||g.outEvts.push(m),d[f]=!0,delete this.dragOvers[f])}for(var R in i.groups)if("string"==typeof R)for(f in this.ids[R]){var p=this.ids[R][f];this.isTypeOfDD(p)&&p.isTarget&&!p.isLocked()&&p!=i&&this.isOverTarget(s,p,this.mode,l)&&(h[R]=!0,e?g.dropEvts.push(p):(d[p.id]?g.overEvts.push(p):g.enterEvts.push(p),this.dragOvers[p.id]=p))}for(var v in this.interactionInfo={out:g.outEvts,enter:g.enterEvts,over:g.overEvts,drop:g.dropEvts,point:s,draggedRegion:l,sourceRegion:this.locationCache[i.id],validDrop:e},h)c.push(v);for(e&&!g.dropEvts.length&&(this.interactionInfo.validDrop=!1,i.events.invalidDrop&&(i.onInvalidDrop(t),i.fireEvent("invalidDropEvent",{e:t}))),f=0;f<u.length;f++){var L=null;if(g[u[f]+"Evts"]&&(L=g[u[f]+"Evts"]),L&&L.length){var b=u[f].charAt(0).toUpperCase()+u[f].substr(1),y="onDrag"+b,D="b4Drag"+b,E="drag"+b+"Event",S="drag"+b;if(this.mode)i.events[D]&&(i[D](t,L,c),i.fireEvent(D+"Event",{event:t,info:L,group:c})),i.events[S]&&(i[y](t,L,c),i.fireEvent(E,{event:t,info:L,group:c}));else for(var w=0,C=L.length;w<C;++w)i.events[D]&&(i[D](t,L[w].id,c[0]),i.fireEvent(D+"Event",{event:t,info:L[w].id,group:c[0]})),i.events[S]&&(i[y](t,L[w].id,c[0]),i.fireEvent(E,{event:t,info:L[w].id,group:c[0]}))}}}},getBestMatch:function(t){var e=null,i=t.length;if(1==i)e=t[0];else for(var a=0;a<i;++a){var n=t[a];if(this.mode==this.INTERSECT&&n.cursorIsOver){e=n;break}e&&e.overlap&&!(n.overlap&&e.overlap.getArea()<n.overlap.getArea())||(e=n)}return e},refreshCache:function(t){var e=t||this.ids;for(var i in e)if("string"==typeof i)for(var a in this.ids[i]){var n,s=this.ids[i][a];this.isTypeOfDD(s)&&((n=this.getLocation(s))?this.locationCache[s.id]=n:delete this.locationCache[s.id])}},verifyEl:function(t){try{if(t)if(t.offsetParent)return!0}catch(t){}return!1},getLocation:function(t){if(!this.isTypeOfDD(t))return null;var e,i,a,n,s,r,o,u,l,d=t.getEl();try{e=Rui.util.LDom.getXY(d)}catch(t){}return e?(a=(i=e[0])+d.offsetWidth,s=(n=e[1])+d.offsetHeight,r=n-t.padding[0],o=a+t.padding[1],u=s+t.padding[2],l=i-t.padding[3],new Rui.util.LRegion(r,o,u,l)):null},isOverTarget:function(t,e,i,a){var n=this.locationCache[e.id];if(n&&this.useCache||(n=this.getLocation(e),this.locationCache[e.id]=n),!n)return!1;e.cursorIsOver=n.contains(t);var s,r,o=this.dragCurrent;if(!o||!i&&!o.constrainX&&!o.constrainY)return e.cursorIsOver;e.overlap=null,a||(s=o.getTargetCoord(t.x,t.y),r=o.getDragEl(),a=new Rui.util.LRegion(s.y,s.x+r.offsetWidth,s.y+r.offsetHeight,s.x));var u=a.intersect(n);return!!u&&(e.overlap=u,!!i||e.cursorIsOver)},_onUnload:function(t,e){this.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]),this.ids={}},elementCache:{},getElWrapper:function(t){var e=this.elementCache[t];return e&&e.el||(e=this.elementCache[t]=new this.ElementWrapper(Rui.util.LDom.get(t))),e},getElement:function(t){return Rui.util.LDom.get(t)},getCss:function(t){var e=Rui.util.LDom.get(t);return e?e.style:null},ElementWrapper:function(t){this.el=t||null,this.id=this.el&&t.id,this.css=this.el&&t.style},getPosX:function(t){return Rui.util.LDom.getX(t)},getPosY:function(t){return Rui.util.LDom.getY(t)},swapNode:function(t,e){var i,a;t.swapNode?t.swapNode(e):(i=e.parentNode,(a=e.nextSibling)==t?i.insertBefore(t,e):e==t.nextSibling?i.insertBefore(e,t):(t.parentNode.replaceChild(e,t),i.insertBefore(t,a)))},getScroll:function(){var t,e,i=document.documentElement,a=document.body;return i&&(i.scrollTop||i.scrollLeft)?(t=i.scrollTop,e=i.scrollLeft):a&&(t=a.scrollTop,e=a.scrollLeft),{top:t,left:e}},getStyle:function(t,e){return Rui.util.LDom.getStyle(t,e)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(t,e){var i=Rui.util.LDom.getXY(e);Rui.util.LDom.setXY(t,i)},getClientHeight:function(){return Rui.util.LDom.getViewportHeight()},getClientWidth:function(){return Rui.util.LDom.getViewportWidth()},numericSort:function(t,e){return t-e},_timeoutCount:0,_addListeners:function(){var t=Rui.dd.LDDM;Rui.util.LEvent&&document?t._onLoad():2e3<t._timeoutCount||(setTimeout(t._addListeners,10),document&&document.body&&(t._timeoutCount+=1))},handleWasClicked:function(t,e){if(this.isHandle(e,t.id))return!0;for(var i=t.parentNode;i;){if(this.isHandle(e,i.id))return!0;i=i.parentNode}return!1}}}(),Rui.dd.LDDM=Rui.dd.LDragDropManager,Rui.dd.LDDM._addListeners()),function(){var u=Rui.util.LEvent,r=Rui.util.LDom;Rui.dd.LDragDrop=function(t){(t=t||{}).id&&this.init(t.id,t.group,t.attributes)},Rui.extend(Rui.dd.LDragDrop,Rui.util.LEventProvider,{events:null,id:null,attributes:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isTarget:!0,padding:null,dragOnly:!1,useShim:!1,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,cursorIsOver:!1,overlap:null,b4StartDrag:function(t,e){},startDrag:function(t,e){},b4Drag:function(t){},onDrag:function(t){},onDragEnter:function(t,e){},b4DragOver:function(t){},onDragOver:function(t,e){},b4DragOut:function(t){},onDragOut:function(t,e){},b4DragDrop:function(t){},onDragDrop:function(t,e){},onInvalidDrop:function(t){},b4EndDrag:function(t){},endDrag:function(t){},b4MouseDown:function(t){},onMouseDown:function(t){},onMouseUp:function(t){},onAvailable:function(){},getEl:function(){return this._domRef||(this._domRef=r.get(this.id)),this._domRef},getDragEl:function(){return r.get(this.dragElId)},init:function(t,e,i){for(var a in this.initTarget(t,e,i),u.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,!0),this.events)this.createEvent(a+"Event")},initTarget:function(t,e,i){this.attributes=i||{},this.events={},this.LDDM=Rui.dd.LDDM,this.groups={},"string"!=typeof t&&(this._domRef=t,t=r.generateId(t)),this.id=t,this.addToGroup(e||"default"),this.handleElId=t,u.onAvailable(t,this.handleOnAvailable,this,!0),this.setDragElId(t),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig()},applyConfig:function(){if(this.events={mouseDown:!0,b4MouseDown:!0,mouseUp:!0,b4StartDrag:!0,startDrag:!0,b4EndDrag:!0,endDrag:!0,drag:!0,b4Drag:!0,invalidDrop:!0,b4DragOut:!0,dragOut:!0,dragEnter:!0,b4DragOver:!0,dragOver:!0,b4DragDrop:!0,dragDrop:!0},this.attributes.events)for(var t in this.attributes.events)!1===this.attributes.events[t]&&(this.events[t]=!1);this.padding=this.attributes.padding||[0,0,0,0],this.isTarget=!1!==this.attributes.isTarget,this.maintainOffset=this.attributes.maintainOffset,this.primaryButtonOnly=!1!==this.attributes.primaryButtonOnly,this.dragOnly=!0===this.attributes.dragOnly,this.useShim=!0===this.attributes.useShim},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(t,e,i,a){this.padding=e||0===e?i||0===i?[t,e,i,a]:[t,e,t,e]:[t,t,t,t]},setInitPosition:function(t,e){var i,a,n,s=this.getEl();this.LDDM.verifyEl(s)?(i=t||0,a=e||0,n=r.getXY(s),this.initPageX=n[0]-i,this.initPageY=n[1]-a,this.lastPageX=n[0],this.lastPageY=n[1],this.setStartPosition(n)):s&&s.style&&s.style.display},setStartPosition:function(t){var e=t||r.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=e[0],this.startPageY=e[1]},addToGroup:function(t){this.groups[t]=!0,this.LDDM.regDragDrop(this,t)},removeFromGroup:function(t){this.groups[t]&&delete this.groups[t],this.LDDM.removeDDFromGroup(this,t)},setDragElId:function(t){this.dragElId=t},setHandleElId:function(t){"string"!=typeof t&&(t=r.generateId(t)),this.handleElId=t,this.LDDM.regHandle(this.id,t)},setOuterHandleElId:function(t){"string"!=typeof t&&(t=r.generateId(t)),u.on(t,"mousedown",this.handleMouseDown,this,!0),this.setHandleElId(t),this.hasOuterHandles=!0},unreg:function(){u.removeListener(this.id,"mousedown",this.handleMouseDown),this._domRef=null,this.LDDM._remove(this)},isLocked:function(){return this.LDDM.isLocked()||this.locked},handleMouseDown:function(t,e){var i,a,n,s,r,o=t.which||t.button;this.primaryButtonOnly&&1<o||this.isLocked()||(i=this.b4MouseDown(t),a=!0,this.events.b4MouseDown&&(a=this.fireEvent("b4MouseDownEvent",t)),n=this.onMouseDown(t),s=!0,this.events.mouseDown&&(s=this.fireEvent("mouseDownEvent",t)),!1!==i&&!1!==n&&!1!==a&&!1!==s&&(this.LDDM.refreshCache(this.groups),r=new Rui.util.LPoint(u.getPageX(t),u.getPageY(t)),(this.hasOuterHandles||this.LDDM.isOverTarget(r,this))&&this.clickValidator(t)&&(this.setStartPosition(),this.LDDM.handleMouseDown(t,this),this.LDDM.stopEvent(t))))},clickValidator:function(t){var e=Rui.util.LEvent.getTarget(t);return this.isValidHandleChild(e)&&(this.id==this.handleElId||this.LDDM.handleWasClicked(e,this.id))},getTargetCoord:function(t,e){var i=t-this.deltaX,a=e-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(a<this.minY&&(a=this.minY),a>this.maxY&&(a=this.maxY)),{x:i=this.getTick(i,this.xTicks),y:a=this.getTick(a,this.yTicks)}},addInvalidHandleType:function(t){var e=t.toUpperCase();this.invalidHandleTypes[e]=e},addInvalidHandleId:function(t){"string"!=typeof t&&(t=r.generateId(t)),this.invalidHandleIds[t]=t},addInvalidHandleClass:function(t){this.invalidHandleClasses.push(t)},removeInvalidHandleType:function(t){var e=t.toUpperCase();delete this.invalidHandleTypes[e]},removeInvalidHandleId:function(t){"string"!=typeof t&&(t=r.generateId(t)),delete this.invalidHandleIds[t]},removeInvalidHandleClass:function(t){for(var e=0,i=this.invalidHandleClasses.length;e<i;++e)this.invalidHandleClasses[e]==t&&delete this.invalidHandleClasses[e]},isValidHandleChild:function(e){var i,t=!0;try{i=e.nodeName.toUpperCase()}catch(t){i=e.nodeName}t=(t=t&&!this.invalidHandleTypes[i])&&!this.invalidHandleIds[e.id];for(var a=0,n=this.invalidHandleClasses.length;t&&a<n;++a)t=!r.hasClass(e,this.invalidHandleClasses[a]);return t},setXTicks:function(t,e){this.xTicks=[],this.xTickSize=e;for(var i={},a=this.initPageX;a>=this.minX;a-=e)i[a]||(i[this.xTicks[this.xTicks.length]=a]=!0);for(a=this.initPageX;a<=this.maxX;a+=e)i[a]||(i[this.xTicks[this.xTicks.length]=a]=!0);this.xTicks.sort(this.LDDM.numericSort)},setYTicks:function(t,e){this.yTicks=[],this.yTickSize=e;for(var i={},a=this.initPageY;a>=this.minY;a-=e)i[a]||(i[this.yTicks[this.yTicks.length]=a]=!0);for(a=this.initPageY;a<=this.maxY;a+=e)i[a]||(i[this.yTicks[this.yTicks.length]=a]=!0);this.yTicks.sort(this.LDDM.numericSort)},setXConstraint:function(t,e,i){this.leftConstraint=parseInt(t,10),this.rightConstraint=parseInt(e,10),this.minX=this.initPageX-this.leftConstraint,this.maxX=this.initPageX+this.rightConstraint,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(t,e,i){this.topConstraint=parseInt(t,10),this.bottomConstraint=parseInt(e,10),this.minY=this.initPageY-this.topConstraint,this.maxY=this.initPageY+this.bottomConstraint,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){var t,e;this.initPageX||0===this.initPageX?(t=this.maintainOffset?this.lastPageX-this.initPageX:0,e=this.maintainOffset?this.lastPageY-this.initPageY:0,this.setInitPosition(t,e)):this.setInitPosition(),this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(t,e){if(e){if(e[0]>=t)return e[0];for(var i=0,a=e.length;i<a;++i){var n=i+1;if(e[n]&&e[n]>=t)return t-e[i]<e[n]-t?e[i]:e[n]}return e[e.length-1]}return t},toString:function(){return"LDragDrop "+this.id}})}(),Rui.dd.LDD=function(t){Rui.dd.LDD.superclass.constructor.call(this,t)},Rui.extend(Rui.dd.LDD,Rui.dd.LDragDrop,{scroll:!0,autoOffset:function(t,e){var i=t-this.startPageX,a=e-this.startPageY;this.setDelta(i,a)},setDelta:function(t,e){this.deltaX=t,this.deltaY=e},setDragElPos:function(t,e){var i=this.getDragEl();this.alignElWithMouse(i,t,e)},alignElWithMouse:function(t,e,i){var a,n,s,r=this.getTargetCoord(e,i);this.deltaSetXY?(Rui.util.LDom.setStyle(t,"left",r.x+this.deltaSetXY[0]+"px"),Rui.util.LDom.setStyle(t,"top",r.y+this.deltaSetXY[1]+"px")):(a=[r.x,r.y],Rui.util.LDom.setXY(t,a),n=parseInt(Rui.util.LDom.getStyle(t,"left"),10),s=parseInt(Rui.util.LDom.getStyle(t,"top"),10),this.deltaSetXY=[n-r.x,s-r.y]),this.cachePosition(r.x,r.y);var o=this;setTimeout(function(){o.autoScroll.call(o,r.x,r.y,t.offsetHeight,t.offsetWidth)},0)},cachePosition:function(t,e){var i;t?(this.lastPageX=t,this.lastPageY=e):(i=Rui.util.LDom.getXY(this.getEl()),this.lastPageX=i[0],this.lastPageY=i[1])},autoScroll:function(t,e,i,a){var n,s,r,o,u,l,d,h,c;this.scroll&&(n=this.LDDM.getClientHeight(),s=this.LDDM.getClientWidth(),r=this.LDDM.getScrollTop(),o=this.LDDM.getScrollLeft(),u=i+e,l=a+t,d=n+r-e-this.deltaY,h=s+o-t-this.deltaX,c=document.all?80:30,n<u&&d<40&&window.scrollTo(o,r+c),e<r&&0<r&&e-r<40&&window.scrollTo(o,r-c),s<l&&h<40&&window.scrollTo(o+c,r),t<o&&0<o&&t-o<40&&window.scrollTo(o-c,r))},applyConfig:function(){Rui.dd.LDD.superclass.applyConfig.call(this),this.scroll=!1!==this.attributes.scroll},b4MouseDown:function(t){this.setStartPosition(),this.autoOffset(Rui.util.LEvent.getPageX(t),Rui.util.LEvent.getPageY(t))},b4Drag:function(t){this.setDragElPos(Rui.util.LEvent.getPageX(t),Rui.util.LEvent.getPageY(t))},toString:function(){return"LDD "+this.id}}),Rui.dd.LDDProxy=function(t){t=t||{},Rui.dd.LDDProxy.superclass.constructor.call(this,t),t.id&&this.initFrame()},Rui.dd.LDDProxy.dragElId="ruiddfdiv",Rui.extend(Rui.dd.LDDProxy,Rui.dd.LDD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var t,e,i,a,n,s=this,r=document.body;r&&r.firstChild?(t=this.getDragEl(),e=Rui.util.LDom,t||((t=document.createElement("div")).id=this.dragElId,(i=t.style).position="absolute",i.visibility="hidden",i.cursor="move",i.border="2px solid #aaa",i.zIndex=999,i.height="25px",i.width="25px",a=document.createElement("div"),e.setStyle(a,"height","100%"),e.setStyle(a,"width","100%"),e.setStyle(a,"background-color","#ccc"),e.setStyle(a,"opacity","0"),t.appendChild(a),Rui.browser.msie&&((n=document.createElement("iframe")).setAttribute("src","javascript: false;"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),t.insertBefore(n,t.firstChild),e.setStyle(n,"height","100%"),e.setStyle(n,"width","100%"),e.setStyle(n,"position","absolute"),e.setStyle(n,"top","0"),e.setStyle(n,"left","0"),e.setStyle(n,"opacity","0"),e.setStyle(n,"zIndex","-1"),e.setStyle(n.nextSibling,"zIndex","2")),r.insertBefore(t,r.firstChild))):setTimeout(function(){s.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){Rui.dd.LDDProxy.superclass.applyConfig.call(this),this.resizeFrame=!1!==this.attributes.resizeFrame,this.centerFrame=this.attributes.centerFrame,this.setDragElId(this.attributes.dragElId||Rui.dd.LDDProxy.dragElId)},showFrame:function(t,e){var i=this.getDragEl(),a=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(a.width,10)/2),Math.round(parseInt(a.height,10)/2)),this.setDragElPos(t,e),Rui.util.LDom.setStyle(i,"visibility","visible")},_resizeProxy:function(){var t,e,i,a,n,s,r,o,u;this.resizeFrame&&(t=Rui.util.LDom,e=this.getEl(),i=this.getDragEl(),a=parseInt(t.getStyle(i,"borderTopWidth"),10),n=parseInt(t.getStyle(i,"borderRightWidth"),10),s=parseInt(t.getStyle(i,"borderBottomWidth"),10),r=parseInt(t.getStyle(i,"borderLeftWidth"),10),isNaN(a)&&(a=0),isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(r)&&(r=0),o=Math.max(0,e.offsetWidth-n-r),u=Math.max(0,e.offsetHeight-a-s),t.setStyle(i,"width",o+"px"),t.setStyle(i,"height",u+"px"))},b4MouseDown:function(t){this.setStartPosition();var e=Rui.util.LEvent.getPageX(t),i=Rui.util.LEvent.getPageY(t);this.autoOffset(e,i)},b4StartDrag:function(t,e){this.showFrame(t,e)},b4EndDrag:function(t){Rui.util.LDom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(t){var e=Rui.util.LDom,i=this.getEl(),a=this.getDragEl();e.setStyle(a,"visibility",""),e.setStyle(i,"visibility","hidden"),Rui.dd.LDDM.moveToEl(i,a),e.setStyle(a,"visibility","hidden"),e.setStyle(i,"visibility","")},toString:function(){return"LDDProxy "+this.id}}),Rui.dd.LDDTarget=function(t){(t=t||{}).id&&this.initTarget(t.id,t.group,t.attributes)},Rui.extend(Rui.dd.LDDTarget,Rui.dd.LDragDrop,{toString:function(){return"LDDTarget "+this.id}}),Rui.namespace("Rui.data"),function(){Rui.data.LDataSet=function(t){var e;t=t||{},t=Rui.applyIf(t,Rui.getConfig().getFirst("$.base.dataSet.defaultProperties")),Rui.applyObject(this,t),this.createEvent("fieldsChanged"),this.createEvent("dataChanged"),this.createEvent("add"),this.createEvent("update"),this.createEvent("remove"),this.createEvent("beforeLoad"),this.createEvent("beforeLoadData"),this.createEvent("load"),this.createEvent("loadException"),this.createEvent("canRowPosChange"),this.createEvent("rowPosChanged"),this.createEvent("commit"),this.createEvent("undo"),this.createEvent("canMarkable"),this.createEvent("marked"),this.createEvent("allMarked"),this.createEvent("invalid"),this.createEvent("valid"),this.createEvent("stateChanged"),this.dataSetId=this.dataSetId||Rui.id(),Rui.data.LDataSet.superclass.constructor.call(this),this.data=new Rui.util.LCollection,this.selectedData=new Rui.util.LCollection,this.modified=new Rui.util.LCollection,this.snapshot=new Rui.util.LCollection,this.invalidData={},this.setFields(t.fields),!0!==this.defaultLoadExceptionHandler&&!0!==this.defaultFailureHandler||(e=Rui.getConfig().getFirst("$.base.dataSet.loadExceptionHandler"),this.on("loadException",e,this,!0)),this.init(),delete t,Rui.devGuide(this,"LDataSet_constructor")};var _DS=Rui.data.LDataSet;_DS.DATA_TYPE=0,_DS.DATA_CHANGED_TYPE1=0,_DS.DATA_CHANGED_TYPE2=1,Rui.extend(Rui.data.LDataSet,Rui.util.LEventProvider,{otype:"Rui.data.LDataSet",dataSetType:Rui.data.LDataSet.DATA_TYPE,rowPosition:-1,id:null,focusFirstRow:-1,fields:null,lastOptions:null,totalCount:null,timeout:null,canMarkableEvent:!1,invalidData:null,remainRemoved:!1,isBatch:!1,defaultFailureHandler:!1,loadCache:!1,method:"POST",serializeMetaData:!0,lazyLoad:!1,lazyLoadCount:5e3,lazyLoadTime:50,multiSortable:!0,init:function(){},insert:function(t,e,i){if(!(t<0))try{if(i=i||{},e.dataSet&&e.dataSet.id!=this.id)throw new Error("LRecord객체에 기존에 맵핑된 데이터셋이 존재합니다. 신규 데이터셋에 add 할경우에는 record.clone() 기능으로 구현하세요.");return e.dataSet=this,e.id=e.id||Rui.data.LRecord.getNewRecordId(),e.initRecord(),this.data.insert(t,e),e.state!=Rui.data.LRecord.STATE_NORMAL&&this.modified.add(e.id,e),(this.isLoad=!0)!==i.ignoreEvent&&!0!==this.isBatch&&this.fireEvent("add",{type:"add",target:this,record:e,row:t,currentRow:this.rowPosition}),t}finally{i=null}},add:function(t,e){return this.insert(this.data.length,t,e)},addAll:function(t,e){for(var i=0;i<t.length;i++)this.add(t[i].clone(),e)},remove:function(t,e){var i=this.indexOfKey(t);if(i<0)return null;this.removeAt(i,e)},removeAt:function(t,e){e=e||{};var i=this.data.getAt(t);return this.remainRemoved&&i.state!==Rui.data.LRecord.STATE_INSERT||this.data.remove(i.id),this.selectedData.remove(i.id),i.state===Rui.data.LRecord.STATE_INSERT?this.modified.remove(i.id):(this.modified.has(i.id)||this.modified.add(i.id,i),i.setState(Rui.data.LRecord.STATE_DELETE)),i.removeRow=t,!0!==e.ignoreEvent&&!0!==this.isBatch&&this.fireEvent("remove",{type:"remove",target:this,record:i,row:t,currentRow:this.rowPosition,remainRemoved:this.remainRemoved}),e.forceRow=!1!==e.forceRow,(i.state===Rui.data.LRecord.STATE_INSERT||!0!==this.remainRemoved&&!1!==e.moveRow)&&this.focusRow(e),i},removeAll:function(t){if(t=t||{moveRow:!1,forceRow:!1},0<this.getCount())for(;0<this.getCount();)this.removeAt(0,t);!0!==t.ignoreEvent&&!0!==this.isBatch&&this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:t.moveRow,forceRow:t.forceRow}),this.focusRow()},clearData:function(t){t=t||{};var e=this.getCount(),i=0<e||0<this.modified.length||0<this.snapshot.length;delete this.data,this.data=new Rui.util.LCollection,delete this.snapshot,delete this.modified,delete this.selectedData,this.data=new Rui.util.LCollection,this.modified=new Rui.util.LCollection,this.selectedData=new Rui.util.LCollection,this.snapshot=new Rui.util.LCollection,this.invalidData={},t&&!0!==t.ignoreMetaData&&(this.totalCount=0),i&&1!=t.ignoreEvent&&!0!==this.isBatch&&this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:!1,forceRow:!1,oldCount:e}),1!=t.ignoreEvent&&!0!==this.isBatch&&this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0}),options=null},get:function(t){return this.data.get(t)},getAt:function(t){return this.data.getAt(t)},indexOfKey:function(t){return this.data.indexOfKey(t)},findRow:function(a,n,s){var r=-1;return s=s||0,this.data.each(function(t,e,i){if(!(i<s))return e.get(a)==n?(r=i,!1):void 0},this.data),r},getFieldIndex:function(t){this.fieldMap=this.fieldMap||{};var e=this.fieldMap[t];if(!e){for(var i=0;i<this.fields.length;i++)if(this.fields[i].id==t)return this.fieldMap[t]=i;e=-1}return e},getFieldById:function(t){var e=this.getFieldIndex(t);return-1<e?this.fields[e]:null},destroy:function(){this.data=null,this.modified.clear(),this.modified=null,this.selectedData.clear(),this.selectedData=null,this.snapshot.clear(),this.snapshot=null,this.totalCount=0,this.unOnAll()},load:function(t){this.isLoad=!1;var e=t||{},i=this;this.onSuccessDelegate=Rui.util.LFunction.createDelegate(this.onSuccess,this),(e=Rui.applyIf(e,{method:this.method||"POST",callback:{success:this.onSuccessDelegate,failure:function(t){var e=new Error(t.responseText);try{if(!1!==i.fireEvent("loadException",{type:"loadException",target:i,throwObject:e,conn:t}))throw e}finally{e=i=null}}},url:null,params:{},sync:this.sync,cache:this.cache||!1})).callback=Rui.applyIf(e.callback,{timeout:1e3*(this.timeout||60)}),this.lastOptions=e,this.lastOptions.state=this.lastOptions.state||Rui.data.LRecord.STATE_NORMAL,this.lastOptions.isLoad=!0;var a="";(a="object"==typeof e.params?Rui.util.LObject.serialize(e.params):e.params).duDataSetId=this.id,this.fireEvent("beforeLoad",{type:"beforeLoad",target:this}),Rui.LConnect._isFormSubmit=!1,e.sync&&1==e.sync?Rui.LConnect.syncRequest(e.method,e.url,e.callback,a,e):Rui.LConnect.asyncRequest(e.method,e.url,e.callback,a,e),e=this.onSuccessDelegate=null},onSuccess:function(t){this.doSuccess(this,t)},doSuccess:function(e,i){var t=null;try{var a=!1;this.loadCache&&this.oldResponseText==i.responseText&&(a=!0),!1===a&&(t={records:this.getReadDataMulti(this,i,e.lastOptions)}),e.loadData(t,e.lastOptions,a),this.oldResponseText=i.responseText}catch(t){if(e.isLoadException)throw t;if(!1!==e.fireEvent("loadException",{type:"loadException",target:e,throwObject:t,conn:i}))throw t}finally{t=e=i=null}},getReadData:function(t,e){return{records:this.getReadDataMulti(this,t,e)}},getReadResponseData:function(conn){var data=null,len,data;try{if(Rui.isDebugTI&&Rui.log("dataSet load start","time"),this._cachedData)return this._cachedData;data=Rui.browser.msie67||!window.JSON?eval("("+conn.responseText+")"):(len=conn.responseText?conn.responseText.length:0,11<len&&"<pre>"==conn.responseText.slice(0,5).toLowerCase()&&"</pre>"==conn.responseText.slice(-6).toLowerCase()?JSON.parse(conn.responseText.substring(5,len-6)):JSON.parse(conn.responseText))}catch(t){throw new Error(Rui.getMessageManager().get("$.base.msg110")+":"+conn.responseText)}return data},getReadDataMulti:function(t,e,i){throw new Rui.LException("구현 안됨.")},newRecord:function(t,e){if(!(t<0)){Rui.devGuide(this,"LDataSet_newRecord"),e=Rui.applyIf(e||{},{initData:!0,moveRow:!0});for(var i=Rui.data.LRecord.getNewRecordId(),a={id:i},n=this.fields.length,s=0;s<n;s++)a[this.fields[s].id]=Rui.isUndefined(this.fields[s].defaultValue)?void 0:this.fields[s].defaultValue;var r=this.createRecord(a,{id:i,state:e.state,initData:e.initData}),o=Rui.isUndefined(t)?this.getCount():t;if(e.moveRow){var u=-1<this.getRow()?this.getAt(this.getRow()).getId():null;if(0==this.doCanRowPosChange(o))return!1;null!=u&&(o=this.indexOfKey(u)<0?this.getRow()+1:o)}return this.insert(o,r,e),e.moveRow&&this.doRowPosChange(o,!0),r=a=e=null,o}},createRecord:function(t,e){try{return(e=Rui.applyIf(e||{},{id:null})).fields=this.fields,new Rui.data.LRecord(t,e)}finally{e=null}},onFieldChanged:function(t){var e,i=t.target,a=this.indexOfKey(i.id);this.setState(a,i.state),!0!==this.isBatch&&(e={type:"update",target:this,record:i,row:a,col:this.getFieldIndex(t.colId),rowId:i.id,colId:t.colId,value:t.value,originValue:t.originValue,beforeValue:t.beforeValue,system:t.system},this.fireEvent("update",e)),i=null},onStateChanged:function(t){!0!==this.isBatch&&this.fireEvent("stateChanged",{type:"stateChanged",target:this,record:t.target,state:t.state,beforeState:t.beforeState})},loadRecord:function(t,e){for(var i=t.records,a=i.length,n=0;n<a;n++)this.add(i[n],{ignoreEvent:!0,isLoad:!0});i=null},loadData:function(t,e,o){var u,i,l,d;!0!==o&&(this.fireEvent("beforeLoadData"),this.isLoading=!0,delete this.isLoadException,delete this._isFiltered,e=e||{},u=t.records,i=e.state||Rui.data.LRecord.STATE_NORMAL,e.add&&0!=e.add||(this.rowPosition=-1,this.clearData({ignoreEvent:!0,ignoreMetaData:!0})),l={id:null,fields:this.fields,state:i,isLoad:!(!e||!0!==e.isLoad),dataSet:this},d=function(t,e,i){for(var a=u.length,n=j=0,s=this.lazyLoad?this.lazyLoadCount:a,n=t;n<a&&j<s;n++,j++){l.id=Rui.data.LRecord.getNewRecordId();var r=new Rui.data.LRecord(u[n],l);this.add(r,{ignoreEvent:!0,isLoad:!0}),r=null}if(n>u.length-1){this.snapshot=this.data.clone(),this.lastSortInfo&&this.sort(this.lastSortInfo.fn,this.lastSortInfo.direction),Rui.isDebugTI&&Rui.log("dataSet load end. Count: "+this.getCount(),"time"),this.isLoading=!1,this.isLoad=!0;try{this.fireEvent("load",{type:"load",target:this,options:e,message:o?"":i.message,cached:o}),Rui.devGuide(this,"LDataSet_load")}catch(t){if(!(this.isLoadException=!0)!==this.fireEvent("loadException",{type:"loadException",target:this,throwObject:t}))throw t}finally{u=i=null}!1!==this.focusFirstRow&&-1<this.focusFirstRow&&this.focusRow({row:0<this.data.length?this.focusFirstRow:-1,forceRow:!0})}else Rui.later(this.lazyLoadTime,this,d,[n,e,i])},!0===this.lazyLoad?Rui.later(this.lazyLoadTime,this,d,[0,e,t]):d.call(this,0,e,t)),e=null},getCount:function(){return this.data.length},getModifiedRecords:function(){return null==this.modified?new Rui.util.LCollection:this.modified},serialize:function(){for(var t=[],e=0;e<this.getCount();e++){var i=this.getAt(e);t.push(i.serialize())}return t.join("&")},serializeModified:function(t){for(var e=this.getModifiedRecords(),i=[],a=0;a<e.length;a++){var n=e.getAt(a);!0!==t&&n.state!=Rui.data.LRecord.STATE_DELETE&&Rui.isEmpty(this.get(n.id))||i.push(n.serialize())}return i.join("&")},serializeMarkedOnly:function(){for(var t=this.selectedData,e=[],i=0;i<t.length;i++){var a=t.getAt(i);!0!==isAll&&a.state!=Rui.data.LRecord.STATE_DELETE&&Rui.isEmpty(this.get(a.id))||e.push(a.serialize())}return e.join("&")},serializeDataSetList:function(t){for(var e=[],i=0;i<t.length;i++){var a=Rui.util.LDom.get(t[i]);e.push(a.serialize())}return e.join("&")},serializeModifiedDataSetList:function(t){for(var e=[],i=0;i<t.length;i++){var a=Rui.util.LDom.get(t[i]);e.push(a.serializeModified())}return e.join("&")},serializeMarkedOnlyDataSetList:function(t){for(var e=[],i=0;i<t.length;i++){var a=Rui.util.LDom.get(t[i]);e.push(a.serializeMarkedOnly())}return e.join("&")},commit:function(){if(1==this._isFiltered&&(this.filterData=this.data.clone(),this.mergeModifiedData(this.data)),this.remainRemoved){for(!0===this._isFiltered&&(this.filterModified=this.modified.clone());0<this.modified.length;){var t=this.modified.getAt(0);t.state==Rui.data.LRecord.STATE_DELETE&&(this.data.remove(t.id),this.filterData&&(this.filterData.remove(t.id),this.snapshot.remove(t.id))),!0!==this._isFiltered&&t.commit(),this.modified.remove(t.id)}!0===this._isFiltered&&(this.modified=this.filterModified,delete this.filterModified),!0!==this._isFiltered&&this.dataChanged()}else this.commitRecords();1==this._isFiltered?(this.mergeModifiedData(this.snapshot),this.data=this.filterData,delete this.filterData,this.modified.each(function(t,e){e.state=Rui.data.LRecord.STATE_NORMAL,delete e.originData},this.data),this.modified.clear(),this.dataChanged()):(this.modified.clear(),this.snapshot=this.data.clone()),this.invalidData={},this.fireEvent("commit",{type:"commit",target:this})},commitRecords:function(){this.data.each(function(t,e){e.commit()},this.data)},undo:function(t){var e=this.data.getAt(t),i=e.state;i!=Rui.data.LRecord.STATE_NORMAL&&(e.undo(),this.modified.remove(e.id),i==Rui.data.LRecord.STATE_INSERT?this.data.remove(e.id):this.setMark(t,!1),delete this.invalidData[e.id],!0!==this.isBatch&&this.fireEvent("undo",{type:"undo",target:this,row:t,record:e,beforeState:i}),i!==Rui.data.LRecord.STATE_INSERT&&this.validRow(t),this.focusRow({ignoreCanRowPosChange:!0,forceRow:i==Rui.data.LRecord.STATE_INSERT}))},undoAll:function(){for(this.data=this.snapshot.clone();0<this.modified.length;){var t=this.modified.getAt(this.modified.length-1);t.isModified()&&(t.undo(),t.state=this.lastOptions?this.lastOptions.state:Rui.data.LRecord.STATE_NORMAL),this.modified.remove(t.id)}this.modified.clear(),this.invalidData={},!0!==this.isBatch&&this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:!1,forceRow:!0}),this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0})},dataChanged:function(){!0!==this.isBatch&&this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1})},focusRow:function(t){var e,i;this.isBatch||(e=(t=Rui.applyIf(t||{},{ignoreCanRowPosChange:!1,forceRow:!1,row:this.getRow()})).row,0<(i=this.getCount())&&-1<e?i-1<e?(t.forceRow=!1,this.setRow(i-1,t)):this.setRow(e,t):this.setRow(-1,t))},getRow:function(){return this.rowPosition},setRow:function(t,e){return e=Rui.applyIf(e||{},{forceRow:!1,ignoreCanRowPosChange:!1}),!(this.getCount()-1<t||t<-1||this.getRow()==t&&!0!==e.forceRow)&&(!(t>this.getCount()||0==e.ignoreCanRowPosChange&&0==this.doCanRowPosChange(t))&&this.doRowPosChange(t,e.forceRow))},doCanRowPosChange:function(t){return this.rowPosition<0||this.getCount()-1<this.rowPosition||(!0===this.remainRemoved&&this.getAt(this.rowPosition).state==Rui.data.LRecord.STATE_DELETE||(!0===this.isBatch||this.fireEvent("canRowPosChange",{type:"canRowPosChange",target:this,row:t,oldRow:this.rowPosition})))},doRowPosChange:function(t,e){if(e=!0===e,this.getCount()<t||t<-1||this.getRow()==t&&!0!==e)return!1;var i=this.rowPosition;return this.rowPosition=t,!0!==this.isBatch&&this.fireEvent("rowPosChanged",{type:"rowPosChanged",target:this,row:this.rowPosition,oldRow:i}),!0},isRowInserted:function(t){return!(t<0)&&this.getAt(t).state==Rui.data.LRecord.STATE_INSERT},isRowUpdated:function(t){return!(t<0)&&this.getAt(t).state==Rui.data.LRecord.STATE_UPDATE},isRowDeleted:function(t){return!(t<0)&&this.getAt(t).state==Rui.data.LRecord.STATE_DELETE},isRowModified:function(t){return this.isRowInserted(t)||this.isRowUpdated(t)||this.isRowDeleted(t)},isUpdated:function(){return 0<this.modified.length},isMarkable:function(t){return!0===this.isBatch||!this.canMarkableEvent||!1!==this.fireEvent("canMarkable",{type:"canMarkable",target:this,row:t})},setMark:function(t,e,i){var a;t<0||t>this.getCount()||this.isMarked(t)!=e&&(!i&&0==this.isMarkable(t)||(a=this.getAt(t),e?this.selectedData.has(a.id)||this.selectedData.add(a.id,a):this.selectedData.remove(a.id),!0!==this.isBatch&&this.fireEvent("marked",{type:"marked",target:this,row:t,isSelect:e,record:a})))},setMarkOnly:function(t,e){t<0||t>this.getCount()||(this.setDemarkExcept(t),this.setMark(t,e))},setDemarkExcept:function(t){if(0<this.getMarkedCount())for(var e=0;e<this.getCount();e++)this.isMarked(e)&&e!=t&&this.setMark(e,!1)},isMarked:function(t){var e=this.getAt(t);return!(!e||!this.selectedData.has(e.id))},getMarkedCount:function(){return this.selectedData.length},setMarkRange:function(t,e,i){if(!0===i)for(var a=t;a<=e;a++)this.setMark(a,i);else for(a=e;t<=a;a--)this.setMark(a,i)},getMarkedRange:function(){return this.selectedData},setMarkAll:function(t){if(Rui.browser.msie67&&!t){var e=this.__simple_events.canMarkable,i=this.__simple_events.marked,a=!1;if(e&&i){a=!0;for(var n=0,s=e.length;n<s;n++)if(!e[n].system){a=!1;break}for(n=0,s=i.length;n<s;n++)if(!i[n].system){a=!1;break}a&&this.selectedData.clear()}else a=!0}this.setMarkRange(0,this.getCount()-1,t),!0!==this.isBatch&&this.fireEvent("allMarked",{type:"allMarked",target:this,isSelect:t})},clearMark:function(){this.selectedData.clear(),!0!==this.isBatch&&this.fireEvent("allMarked",{type:"allMarked",target:this,isSelect:!1})},removeMarkedRow:function(t){this.removeMarkedRows(t)},removeMarkedRows:function(t){for(t=Rui.applyIf(t||{},{ignoreEvent:!0,moveRow:!1});0<this.selectedData.length;){var e=this.selectedData.getKey(0),i=this.indexOfKey(e);this.removeAt(i,t)}!0===t.ignoreEvent&&!0!==this.isBatch&&(this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:t.moveRow,forceRow:!0}),this.rowPosition>this.getCount()-1&&this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0}))},filter:function(t,e,i){i=!1!==i;var a=null,n=this.getRow(),s=this.data.getAt(n);i&&s&&-1<n&&(a=s.id),this.data=this.query(t,e||this),this.lastSortInfo&&this.sort(this.lastSortInfo.fn,this.lastSortInfo.direction),this._isFiltered=!0,n=this.data.indexOfKey(a),!0!==this.isBatch&&(this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:!1,forceRow:i}),s=this.data.getAt(n),i&&(Rui.isUndefined(s)&&0<this.getCount()&&(n=0),this.focusRow({ignoreCanRowPosChange:!0,forceRow:i,row:n}))),this.rowPosition>=this.data.length&&(this.rowPosition=-1)},clearFilter:function(t){var e,i,a;t=!1!==t,this.getCount()<1&&this.modified.length<1&&this.snapshot.length<1||(e=null,i=this.getRow(),a=this.data.getAt(i),t&&a&&-1<i&&(e=a.id),this.data=this.snapshot.clone(),this.mergeModifiedData(this.data),this.lastSortInfo&&this.sort(this.lastSortInfo.fn,this.lastSortInfo.direction),delete this._isFiltered,i=this.data.indexOfKey(e),t=!1!==t,!0!==this.isBatch&&(this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE1,moveRow:!1,forceRow:t}),t&&(Rui.isUndefined(a)&&0<this.getCount()&&(i=0),this.focusRow({ignoreCanRowPosChange:!0,forceRow:t,row:i}))),this.rowPosition>=this.data.length&&(this.rowPosition=-1))},isFiltered:function(){return!!this._isFiltered},mergeModifiedData:function(t){var e=this.modified.length;if(0<e)for(var i=0;i<e;i++){var a=this.modified.getAt(i);a.state===Rui.data.LRecord.STATE_INSERT?t.has(a.id)||t.insert(t.length,a):a.state===Rui.data.LRecord.STATE_DELETE&&(this.remainRemoved||t.remove(a.id))}},query:function(t,e){return this.data=this.snapshot.clone(),this.mergeModifiedData(this.data),this.data.query(t,e||this)},getTotalCount:function(){return this.totalCount||this.snapshot.length},getRecords:function(t,e){t=t||0,e=Rui.isUndefined(e)||e>this.getCount()-1?this.getCount()-1:e;for(var i=new Array,a=t;a<=e;a++)i.push(this.getAt(a));return i},sort:function(t,e){e=e||"asc";var i=this.getRow(),a=null;-1<i&&i<this.getCount()&&(a=this.getAt(i).id),this.data.sort(t,e),this.lastSortInfo={fn:t,direction:e},!0!==this.isBatch&&(this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE2,moveRow:!0,forceRow:!0}),a?-1<(i=this.data.indexOfKey(a))&&this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0,row:i}):this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0}))},sortField:function(t,e){var i,a=this.getFieldById(t);null!=a&&a.sortType,!0!==this.multiSortable?this.sortDirection={}:this.sortDirection=this.sortDirection||{},Rui.isUndefined(e)&&(e=(i=this.sortDirection[t])?"asc"==i?"desc":"asc":""),this.sortDirection[t]=e;var n=this.sortDirection;if(this.sorts(n),""==e){delete this.sortDirection[t];var s,r=!1;for(s in this.sortDirection){r=!0;break}0==r&&delete this.lastSortInfo}else this.lastSortInfo.fieldName=t;return e},sorts:function(h){this.sortDirection=h,this.sort(function(t,e,i){var a=t.value,n=e.value,s=t.key,r=e.key,o=0;for(f in h){var u=h[f],l=a.get(f),d=n.get(f);if(u){if("string"==typeof l&&(l=l.toLowerCase()),"string"==typeof d&&(d=d.toLowerCase()),Rui.isEmpty(l)&&(l=""),Rui.isEmpty(d)&&(d=""),0!=(o=(d<l?1:l<d?-1:0)*("asc"===u?1:-1)))break}else o=r<s?1:s<r?-1:0}return o},"asc")},reverse:function(){this.data.reverse(),!0!==this.isBatch&&(this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE2,moveRow:!0,forceRow:!0}),this.focusRow({ignoreCanRowPosChange:!1,forceRow:!0}))},commitSort:function(){delete this.sortDirection,delete this.lastSortInfo},indexOfRecord:function(t){return t?this.data.indexOfKey(t.id):null},setState:function(t,e){var i=this.getAt(t);i.state!=e&&i.setState(e)},updateState:function(t){t.state==Rui.data.LRecord.STATE_NORMAL&&0==t.getOriginData().length?this.modified.remove(t.id):this.modified.has(t.id)?this.modified.set(t.id,t):this.modified.add(t.id,t)},setFields:function(t){(0<this.getCount()||0<this.modified.length)&&this.clearData();for(var e=0;e<t.length;e++)t[e]instanceof Rui.data.LField||(t[e]=new Rui.data.LField(t[e]));this.fields=t,delete this.fieldMap,this.fireEvent("fieldsChanged",{type:"fieldsChanged",target:this}),this.focusRow({ignoreCanRowPosChange:!0,forceRow:!0,row:0})},getFields:function(){return this.fields},getState:function(t){var e=this.getAt(t);return e?e.state:Rui.data.LRecord.STATE_NORMAL},clone:function(t){var e="object"==typeof t?t:{id:t,fields:this.fields},i=new this.constructor(e);i.isLoad=this.isLoad;for(var a=0,n=this.data.length;a<n;a++){var s=this.data.getAt(a),r=s.clone();r.state=s.state,r.dataSet=void 0,i.add(r),i.snapshot.add(r)}return i},getValue:function(t,e){if(e<0||e>this.fields.length-1)return null;var i=this.fields[e].id;return this.getNameValue(t,i)},getNameValue:function(t,e){return t<0||t>this.getCount()-1?null:this.getAt(t).get(e)},setValue:function(t,e,i,a){if(e<0||e>this.fields.length-1)throw new Rui.LException("Invalid col");var n=this.fields[e].id;this.setNameValue(t,n,i,a)},setNameValue:function(t,e,i,a){if(t<0||t>this.getCount()-1)throw new Rui.LException("Invalid row");this.getAt(t).set(e,i,a)},sum:function(t,e,i){e=e||0,i=void 0!==i?i:this.getCount()-1;for(var a=0,n=e;n<=i;n++){var s=this.getAt(n);s.state!==Rui.data.LRecord.STATE_DELETE&&(a+=parseFloat(s.get(t),10)||0)}return a},max:function(t,e,i){e=e||0,i=void 0!==i?i:this.getCount()-1;for(var a=0,n=e;n<=i;n++){var s=this.getAt(n),r=0;s.state!==Rui.data.LRecord.STATE_DELETE&&(r+=parseFloat(s.get(t),10)||0),a<r&&(a=r)}return a},min:function(t,e,i){e=e||0,i=void 0!==i?i:this.getCount()-1;for(var a=0,n=e;n<=i;n++){var s=this.getAt(n);n===e&&(a=parseFloat(s.get(t),10)||0);var r=0;s.state!==Rui.data.LRecord.STATE_DELETE&&(r+=parseFloat(s.get(t),10)||0),r<a&&(a=r)}return a},avg:function(t,e,i){e=e||0,i=void 0!==i?i:this.getCount()-1;for(var a=cnt=0,n=e;n<=i;n++){var s=this.getAt(n);s.state!==Rui.data.LRecord.STATE_DELETE&&(a+=parseFloat(s.get(t),10)||0),cnt++}return a/=cnt},invalid:function(t,e,i,a,n,s,r){!0!==this.isBatch&&this.fireEvent("invalid",{type:"invalid",target:this,row:t,rowId:e,col:i,colId:a,message:n,value:s,isMulti:r}),this.invalidData[e]=this.invalidData[e]||{},this.invalidData[e][a]=!0},valid:function(t,e,i,a,n){!0!==this.isBatch&&this.fireEvent("valid",{type:"valid",target:this,row:t,rowId:e,col:i,colId:a,isMulti:n}),this.invalidData[e]=this.invalidData[e]||{},delete this.invalidData[e][a]},isValid:function(t,e,i,a){return!this.invalidData[e]||!0!==this.invalidData[e][a]},validRow:function(t){for(var e=this.getAt(t).id,i=0;i<this.fields.length;i++)this.valid(t,e,i,this.fields[i].id,!1)},batch:function(t,e){this.isBatch=!0,e=e||this,t.call(e),this.isBatch=!1,this.fireEvent("dataChanged",{type:"dataChanged",target:this,eventType:_DS.DATA_CHANGED_TYPE2})},toString:function(){return"Rui.data.LDataSet "+this.id}})}(),Rui.namespace("Rui.data"),Rui.data.LField=function(t){"string"==typeof t&&(t={id:t,name:t}),this.id=t.id,Rui.applyObject(this,t)},Rui.data.LField.prototype={id:null,otype:"Rui.data.LField",type:"string",defaultValue:void 0,sortType:function(t){return t}},Rui.namespace("Rui.data"),Rui.data.LRecord=function(t,e){e=e||{dataSet:null},this.data=t,this.attrData=null,this.dataSet=e.dataSet,this.state=0==Rui.isUndefined(e.state)?e.state:Rui.data.LRecord.STATE_INSERT,this.lastConfig=e,this.id=e.id||0==e.id?e.id:null,this.initData=void 0!==e.initData&&e.initData,this.isLoad=e.isLoad,e=null},Rui.data.LRecord.prototype={otype:"Rui.data.LRecord",modified:null,originData:null,getOriginData:function(){return this.originData||(this.originData=new Rui.util.LCollection),this.originData},initRecord:function(){if(this.dataSet&&(this.initData||this.state!=Rui.data.LRecord.STATE_NORMAL)){for(var t=this.dataSet.fields.length,e=this.getOriginData(),i=0;i<t;i++){var a=this.dataSet.fields[i],n=this.data[a.id];this.initData&&(n=Rui.isUndefined(n)?a.defaultValue:n,this.data[a.id]=n),this.state!=Rui.data.LRecord.STATE_NORMAL&&e.add(a.id,this.data[a.id]),n=a=null}e=null}},getId:function(){return this.id},get:function(t){return this.data[t]},set:function(t,e,i){if(!i||!i.system||this.state!==Rui.data.LRecord.STATE_DELETE){i=i||{};var a=n=orgValue=null;try{null==(a=this.findField(t))&&(a=new Rui.data.LField({id:t}));var n=this.getOriginData();if(0==Rui.isEmpty(e)){if("number"==a.type&&"number"!=typeof parseFloat(e)||"number"==a.type&&isNaN(e)||"date"==a.type&&"object"!=typeof e)throw new Rui.LException(t+": Invalid type ["+a.type+":"+e+"]");e="string"==a.type&&"string"!=typeof e?e+"":e}var s,r,o=this.data[t];if(orgValue=n.get(t),String(orgValue)==String(e)&&n.has(t)||void 0===orgValue&&void 0===e)n.remove(t),this.updateState(),this.data[t]=e;else{if(String(this.data[t])==String(e))return void this.updateState();n.has(t)||n.add(t,this.data[t]),!0!==this._unDo&&(this.data[t]=e,this.state===Rui.data.LRecord.STATE_NORMAL&&(this.state=Rui.data.LRecord.STATE_UPDATE))}if(!this.dataSet)return;this.dataSet&&this.dataSet.updateState(this),!0!==i.ignoreEvent&&(!(s=!1)===this._unDo?!0!==this._unDoKey[t]&&(this._unDoKey[t]=s=!0):s=!0,!0===s&&this.dataSet&&this.dataSet.onFieldChanged&&(r=n.has(t)?n.get(t):e,this.dataSet.onFieldChanged.call(this.dataSet,{target:this,colId:t,value:e,originValue:r,beforeValue:o,system:i.system})))}finally{i=a=n=orgValue=null}}},getAttributes:function(){return this.attrData||{}},getAttribute:function(t){return this.attrData?this.attrData[t]:null},setAttribute:function(t,e){this.attrData||(this.attrData={}),this.attrData[t]=e},updateState:function(){var t=this.getOriginData();this.state!==Rui.data.LRecord.STATE_DELETE&&this.state!=Rui.data.LRecord.STATE_INSERT&&(Rui.isUndefined(this.lastConfig.state)||this.lastConfig.state==Rui.data.LRecord.STATE_NORMAL?0<t.length&&this.state==Rui.data.LRecord.STATE_NORMAL?this.state=Rui.data.LRecord.STATE_UPDATE:0==t.length&&(this.state=Rui.data.LRecord.STATE_NORMAL):this.state=this.lastConfig.state),t=null},undo:function(t){var e=this.getOriginData();if(this._unDo=!0,this._unDoKey={},this.state!=Rui.data.LRecord.STATE_INSERT){this._unDo=!0;for(var i=e.length;0<i;)this.set(e.getKey(i-1),e.getAt(i-1),{ignoreEvent:t}),i=e.length;this._unDo=!1}else{for(var a=0;a<e.length;a++){var n=e.getKey(a),s=e.getAt(a);this.data[n]=s}e.clear()}delete this._unDoKey,delete this._unDo,this.state=Rui.isUndefined(this.lastConfig.state)?Rui.data.LRecord.STATE_INSERT:this.lastConfig.state,e=null},setState:function(t){var e=this.state;this.state=t,this.state==Rui.data.LRecord.STATE_NORMAL&&delete this.originData,this.dataSet&&this.dataSet.onStateChanged&&(this.dataSet.updateState(this),!0!==this.dataSet.isBatch&&this.dataSet.onStateChanged.call(this.dataSet,{target:this,state:t,beforeState:e}))},getState:function(){return this.state},commit:function(){this.state=Rui.data.LRecord.STATE_NORMAL,this.getOriginData().clear()},getModifiedData:function(){for(var t=this.getOriginData(),e={},i=0;i<t.length;i++){var a=t.getKey(i);e[a]=this.get(a)}try{return e}finally{e=t=null}},serialize:function(t){for(var e=(t=t||!1)?"":"rui_"+this.dataSet.id.toLowerCase()+"_",i="rui_"+this.dataSet.id.toLowerCase()+"_Id="+this.id+"_"+this.state+"&",a=0;a<this.dataSet.fields.length;a++){var n=this.get(this.dataSet.fields[a].id);null==n&&(n=""),i+=e+this.dataSet.fields[a].id+"="+n+"&",n=null}return i=Rui.util.LString.lastCut(i,1)},getValues:function(){var e={};this.dataSet?Rui.util.LArray.each(this.dataSet.fields,function(t){e[t.id]=this.data[t.id]},this):Rui.applyObject(e,this.data);try{return e}finally{e=null}},findField:function(t){return this.dataSet?this.dataSet.getFieldById(t):null},setValues:function(t){for(id in t)this.dataSet&&null==this.findField(id)||this.set(id,t[id])},isModifiedField:function(t){return this.originData&&this.getOriginData().has(t)},isModified:function(){return this.dataSet?0<this.getOriginData().length||(this.dataSet.lastOptions?this.dataSet.lastOptions.state!=this.state:0!=this.state):0<this.getOriginData().length},clone:function(t){(t=t||{}).id=t.id||Rui.data.LRecord.getNewRecordId(),t.state=Rui.isUndefined(t.state)?this.state:t.state;var e={};Rui.applyObject(e,this.data);var i={};Rui.applyObject(i,this.getAttributes());var a=new Rui.data.LRecord(e,{id:t.id,state:t.state});a.attrData=i;try{return a}finally{a=i=e=t=null}},destroy:function(){delete this.data,delete this.attrData,delete this.modified,delete this.dataSet,delete this.id},toString:function(){return"Rui.data.LRecord "+this.id}},Rui.data.LRecord.AUTO_ID=1e3,Rui.data.LRecord.STATE_NORMAL=0,Rui.data.LRecord.STATE_INSERT=1,Rui.data.LRecord.STATE_UPDATE=2,Rui.data.LRecord.STATE_DELETE=3,Rui.data.LRecord.getNewRecordId=function(){return"r"+ ++Rui.data.LRecord.AUTO_ID},Rui.data.LJsonDataSet=function(t){Rui.data.LJsonDataSet.superclass.constructor.call(this,t),this.dataSetType=Rui.data.LJsonDataSet.DATA_TYPE},Rui.extend(Rui.data.LJsonDataSet,Rui.data.LDataSet,{getReadDataMulti:function(t,e,i){var a=this.getReadResponseData(e),n=i&&!0===i.multi,s=t.dataIndex,r=i&&i.dataSetId?i.dataSetId:t.id;if(Rui.isUndefined(s)){for(var o=0;o<a.length;o++)if(a[o].metaData&&a[o].metaData.dataSetId==r){s=o;break}!0!==n&&(s=Rui.isUndefined(s)?0:s)}var u=[];if(!Rui.isUndefined(s)){var l=a[s].records;this.totalCount=a[s].metaData&&a[s].metaData.totalCount?a[s].metaData.totalCount:l.length;for(var d=l.length,h=t.fields.length,o=0;o<d;o++){for(var c=l[o],g=c,f=0;f<h;f++){var m,R=t.fields[f],p=c[R.id];this.readFieldFormater&&(p=(m=this.readFieldFormater[R.type])?m(p):p),g[R.id]=p}u.push(g)}}try{return u}finally{l=u=a=null}},serialize:function(){var t={},e=this.getCount();if(!(t.metaData={dataSetId:this.id,count:e,totalCount:this.getTotalCount()})!==this.serializeMetaData){for(var i=[{name:"duistate",dataType:"int"}],a=0,n=this.fields.length;a<n;a++){var s={name:(h=this.fields[a]).id};h.type&&(s.dataType=h.type),h.defaultValue&&(s.defaultValue=h.defaultValue),i.push(s)}t.metaData.fields=i}for(var r=[],a=0;a<e;a++){for(var o=this.getAt(a),u={duistate:o.state},l=0,n=this.fields.length;l<n;l++){var d,h=this.fields[l],c=o.get(h.id);!this.writeFieldFormater||(d=this.writeFieldFormater[h.type])&&(c=d(c)),null==c&&(c=""),u[this.fields[l].id]=c}r.push(u)}return t.records=r,Rui.util.LJson.encode(t)},serializeModified:function(t){return this.serializeRecords(this.getModifiedRecords(),t)},serializeMarkedOnly:function(){return this.serializeRecords(this.selectedData,!0)},serializeRecords:function(t,e){var i={},a=t.length;if(!(i.metaData={dataSetId:this.id,count:a,totalCount:this.getTotalCount()})!==this.serializeMetaData){for(var n=[{name:"duistate",dataType:"int"}],s=0,r=this.fields.length;s<r;s++){var o={name:(g=this.fields[s]).id};g.type&&(o.dataType=g.type),g.defaultValue&&(o.defaultValue=g.defaultValue),n.push(o)}i.metaData.fields=n}for(var u=[],s=0;s<a;s++){var l=t.getAt(s);if(!0===e||l.state==Rui.data.LRecord.STATE_DELETE||!Rui.isEmpty(this.get(l.id))){for(var d={duistate:l.state},h=0,r=this.fields.length;h<r;h++){var c,g=this.fields[h],f=l.get(g.id);!this.writeFieldFormater||(c=this.writeFieldFormater[g.type])&&(f=c(f)),null==f&&(f=""),d[this.fields[h].id]=f}u.push(d)}}return i.records=u,Rui.util.LJson.encode(i)},serializeDataSetList:function(t){return this.serializeFnNameDataSetList(t,"serialize")},serializeModifiedDataSetList:function(t){return this.serializeFnNameDataSetList(t,"serializeModified")},serializeMarkedOnlyDataSetList:function(t){return this.serializeFnNameDataSetList(t,"serializeMarkedOnly")},serializeFnNameDataSetList:function(t,e){var i=[];i.push("[");for(var a=0;a<t.length;a++){var n=Rui.util.LDom.get(t[a]);i.push(n[e](),",")}return","==i[i.length-1]&&delete i[i.length-1],i.push("]"),i.join("")}}),Rui.data.LJsonDataSet.DATA_TYPE=1,Rui.data.LDelimiterDataSet=function(t){Rui.data.LDelimiterDataSet.superclass.constructor.call(this,t),this.dataSetType=Rui.data.LDelimiterDataSet.DATA_TYPE},Rui.extend(Rui.data.LDelimiterDataSet,Rui.data.LDataSet,{dataSetDelimiter:"¶",recordDelimiter:"\r\n",fieldDelimiter:"‡",getReadResponseData:function(e){var t=null;try{if(this._cachedData)return this._cachedData;t=e.responseText}catch(t){throw new Error(Rui.getMessageManager().get("$.base.msg110")+":"+e.responseText)}return t},doSuccess:function(e,i){try{e.firstLoadData(i,e.lastOptions)}catch(t){if(e.isLoadException)throw t;if(!1!==e.fireEvent("loadException",{type:"loadException",target:e,throwObject:t,conn:i}))throw t}},firstLoadData:function(t,e){this.fireEvent("beforeLoadData"),this.isLoading=!0,e=e||{},delete this.isLoadException;var i=null;e.add&&0!=e.add||this.clearData({ignoreEvent:!0,ignoreMetaData:!0}),i=this.getReadResponseData(t);try{var a=i.split(this.dataSetDelimiter),n=a[0].split(this.fieldDelimiter);this.totalCount=parseInt(n[1],10),this.loadFieldMap={};for(var s=2;s<n.length;s++){var r=n[s];this.loadFieldMap[r]=s-2}this.loadFieldMap.state;for(var o=""==a[1]?[]:a[1].split(this.recordDelimiter),s=0,u=o.length;s<u;s++){var l=o[s],d=Rui.data.LRecord.getNewRecordId();this.data.add(d,l)}this.doDelayLoad()}finally{t=o=null}this.snapshot=this.data.clone(),Rui.isDebugTI&&Rui.log("dataSet load end","time"),this.isLoading=!1,this.isLoad=!0;try{this.fireEvent("load",{type:"load",target:this,options:e,message:i.message}),i=null}catch(t){if(!(this.isLoadException=!0)!==this.fireEvent("loadException",{type:"loadException",target:this,throwObject:t}))throw t}!1!==this.focusFirstRow&&-1<this.focusFirstRow&&this.focusRow({row:this.focusFirstRow})},doDelayLoad:function(){},createDelimiterRecord:function(t,e){var i=this.fields,e=Rui.applyIf(e,this.lastOptions),a=t.split(this.fieldDelimiter),n=this.loadFieldMap.state,s={state:0};Rui.isUndefined(n)||(s.state=parseInt(a[n],10));for(var r=0,o=i.length;r<o;r++){var u,l,d=this.loadFieldMap[i[r].id];Rui.isUndefined(d)||("null"===(u=a[d])&&(u=null),l=this.readFieldFormater[i[r].type],s[i[r].id]=l?l(u):u,l=null)}return this.createRecord(s,{id:e.id||Rui.data.LRecord.getNewRecordId(),state:0,isLoad:!(!e||!0!==e.isLoad)})},get:function(t){var e=this.data.get(t);if(!e||e instanceof Rui.data.LRecord)return e;var i=this.createDelimiterRecord(e,{id:t});return(i.dataSet=this).data.set(t,i),i.state!=Rui.data.LRecord.STATE_NORMAL&&this.updateState(i),i},getAt:function(t){var e=this.data.getAt(t);if(!e||e instanceof Rui.data.LRecord)return e;var i=this.data.getKey(t),a=this.createDelimiterRecord(e,{id:i});return(a.dataSet=this).data.set(i,a),a.state!=Rui.data.LRecord.STATE_NORMAL&&this.updateState(a),a},commitRecords:function(){this.data.each(function(t,e){e&&e instanceof Rui.data.LRecord&&e.commit()},this.data)},getReadDataMulti:function(t,e){var i=[],a=this.getReadResponseData(e);try{for(var n=this.fields,s=a.split(this.dataSetDelimiter),r="",o=0,u=s.length;o<u;o++){if(s[o]==this.id){r=s[o+1];break}o+=2}for(var l=""==r?[]:r.split(this.recordDelimiter),o=0,u=l.length;o<u;o++){var d=l[o].split(this.fieldDelimiter),h=this.loadFieldMap.state,c={state:0};Rui.isUndefined(h)||(c.state=parseInt(d[h],10));for(var g=0,f=n.length;g<f;g++){var m,R,p=this.loadFieldMap[n[g].id];Rui.isUndefined(p)||("null"===(m=d[p])&&(m=null),R=this.readFieldFormater[n[g].type],c[n[g].id]=R?R(m):m,R=null)}i.push(c),c=d=null}return l=null,i}finally{a=i=null}},serialize:function(){var t=this.fields,e=this.id+this.fieldDelimiter;e+=this.getCount()+this.fieldDelimiter,e+="state"+this.fieldDelimiter;for(var i=0;i<t.length;i++)e+=t[i].id+":"+t[i].type.toLowerCase(),i<t.length-1&&(e+=this.fieldDelimiter);e+=this.dataSetDelimiter;for(var i=0,a=this.getCount();i<a;i++){var n=this.getAt(i);e+=n.state+this.fieldDelimiter;for(var s=0,r=t.length;s<r;s++){var o=t[s],u=n.get(o.id),l=this.writeFieldFormater[o.type];l&&(u=l(u)),null==u&&(u=""),e+=u,s<r-1&&(e+=this.fieldDelimiter)}i<a-1&&(e+=this.recordDelimiter)}return e+=this.dataSetDelimiter},serializeModified:function(t){var e=this.fields,i=this.getModifiedRecords(),a=this.id+this.fieldDelimiter;a+=i.length+this.fieldDelimiter,a+="state"+this.fieldDelimiter;for(var n=0;n<e.length;n++)a+=e[n].id+":"+e[n].type.toLowerCase(),n<e.length-1&&(a+=this.fieldDelimiter);a+=this.dataSetDelimiter;for(var n=0,s=i.length;n<s;n++){var r=i.getAt(n);if(!0===t||r.state==Rui.data.LRecord.STATE_DELETE||!Rui.isEmpty(this.get(r.id))){a+=r.state+this.fieldDelimiter;for(var o=0,u=e.length;o<u;o++){var l=e[o],d=r.get(l.id),h=this.writeFieldFormater[l.type];h&&(d=h(d)),null==d&&(d=""),a+=d,o<u-1&&(a+=this.fieldDelimiter)}n<s-1&&(a+=this.recordDelimiter)}}return a+=this.dataSetDelimiter},serializeDataSetList:function(t){for(var e="",i=0,a=t.length;i<a;i++){e+=Rui.util.LDom.get(t[i]).serialize(),i<a-1&&(e+=this.dataSetDelimiter)}return e},serializeModifiedDataSetList:function(t){for(var e="",i=0,a=t.length;i<a;i++){e+=Rui.util.LDom.get(t[i]).serializeModified(),i<a-1&&(e+=this.dataSetDelimiter)}return e},query:function(t,e){if(this.delayLoadTasking)throw new Error("데이터를 로딩중입니다.");this.data=this.snapshot.clone(),this.mergeModifiedData(this.data);for(var i=new Rui.util.LCollection,a=0;a<this.data.length;a++){var n=this.data.getKey(a),s=this.getAt(a);!0===t.call(e||this,n,s,a)&&i.add(n,s)}return i},sort:function(t,e){if(this.delayLoadTasking)throw new Error("데이터를 로딩중입니다.");Rui.data.LDelimiterDataSet.superclass.sort.call(this,t,e)}}),Rui.data.LDelimiterDataSet.DATA_TYPE=3,Rui.namespace("Rui.data"),Rui.data.LBind=function(t){if(Rui.data.LBind.superclass.constructor.call(this),t=t||{},this.bindRow=1,this.bind=!0,this.groupId=t.groupId,this.bindInfo=null,this.isValidation=!0,this.groupEl=Rui.get(this.groupId),!this.groupEl)throw new Error("Can't find groupId : "+this.groupId);Rui.applyObject(this,t,!0),this.onChangeDelegate=Rui.util.LFunction.createDelegate(this.onChangeEvent,this),this.init()},Rui.extend(Rui.data.LBind,Rui.util.LEventProvider,{selector:"input,select,textarea,span[id]",init:function(){this.dataSet&&(this.bind&&1==this.bind&&0<this.dataSet.getCount()&&this.load(this.dataSet.getRow()),this.initEvent())},initEvent:function(){this.rebind(),this.initEventDataSet()},initEventDataSet:function(){this.dataSet.unOn("rowPosChanged",this.onRowPosChanged,this),this.dataSet.unOn("update",this.onUpdate,this),this.dataSet.unOn("invalid",this.onInvalid,this),this.dataSet.unOn("valid",this.onValid,this),this.dataSet.unOn("dataChanged",this.onValidAll,this),this.dataSet.on("rowPosChanged",this.onRowPosChanged,this,!0),this.dataSet.on("update",this.onUpdate,this,!0),this.dataSet.on("invalid",this.onInvalid,this,!0),this.dataSet.on("valid",this.onValid,this,!0),this.dataSet.on("dataChanged",this.onValidAll,this,!0)},rebind:function(){var r;!0===this.bind&&(this.bindInfoMap={},this.childrenIdMap={},this.childrenNameMap={},this.childrenCtrlIdMap={},this.children=this.getChildren(),r={},this.children.each(function(t,e){var i=null,a=e.instance;if(a&&!0===a.fieldObject){if(null==(i=this.getBindInfoByDom(a)))return;if(r[i.id]&&(i.multi=!0,r[i.id].multi=!0),r[i.id]=i,!this.dataSet.getFieldById(i.id))return;var n=i.fn||this.onChangeDelegate;a.unOn("changed",n,a),a.on("changed",n,a),a.bindMDataSet=this.dataSet,a.bindObject=i,a.el.addClass("L-binded"),this.dataSet.getRow()<-1&&a.el.addClass("L-bind-disabled")}else{if(null==(i=this.getBindInfoByDom(e)))return;if(r[i.id]&&(i.multi=!0,r[i.id].multi=!0),r[i.id]=i,!this.dataSet.getFieldById(i.id))return;n=i.fn||this.onChangeDelegate;Rui.util.LEvent.removeListener(e,i.eventName,n),Rui.util.LEvent.addListener(e,i.eventName,n,e,!0);var s=Rui.get(e);s.id&&(Rui.LElement.elCache[s.id]||(Rui.LElement.elCache[s.id]=s)),this.bindSetValueInit(s,n),s.addClass("L-binded"),this.dataSet.getRow()<-1&&s.addClass("L-bind-disabled")}(this.childrenCtrlIdMap[i.ctrlId]=e).id&&(this.childrenIdMap[e.id]=e),e.name&&(this.childrenNameMap[e.name]=e)},this),multiMap=null)},addBindInfo:function(t){this.bindInfo.push(t)},onRowPosChanged:function(t){var e;!0===this.bind&&!0!==this.dataSet.isLoading&&(e=t.row,this.bindRow=e,this.cacheRecordId&&-1<e&&this.cacheRecordId==this.dataSet.getAt(e).id||(this.load(e),this.cacheRecordId=-1<e?this.dataSet.getAt(e).id:null))},onUpdate:function(t){if(0!=this.bind&&t.row===this.dataSet.getRow()){this.children=this.children||this.getChildren();var e=this.getBindInfoById(t.colId);if(null!=e){var i=this.childrenCtrlIdMap[e.ctrlId];if(i&&this.doChangeSetValue(this.children,i,e,t.value),e.multi)for(var a=0,n=this.bindInfo.length;a<n;a++)this.bindInfo[a]!==e&&this.bindInfo[a].id==e.id&&(i=this.childrenCtrlIdMap[this.bindInfo[a].ctrlId])&&this.doChangeSetValue(this.children,i,this.bindInfo[a],t.value)}}},onChangeEvent:function(t){var e,i;!0===this.bind&&(i=!0===(e=t.target).fieldObject?e.getValue():e.value,this.doChangeEvent(this,e,i))},onInvalid:function(t){var e,i,a;!0!==this.bind||0==this.isValidation||t.row!=this.bindRow||(e=this.getBindInfoById(t.colId))&&(this.children=this.children||this.getChildren(),(i=this.children.get(e.ctrlId))&&((a=i.instance)&&!0===a.fieldObject?a.invalid(t.message):Rui.get(i).invalid(t.message)))},onValid:function(t){var e,i,a;!0!==this.bind||0==this.isValidation||t.row!=this.bindRow||(e=this.getBindInfoById(t.colId))&&(this.children=this.children||this.getChildren(),(i=this.children.get(e.ctrlId))&&((a=i.instance)&&!0===a.fieldObject?a.valid():Rui.get(i).valid()))},onValidAll:function(t){!0===this.bind&&(this.children=this.children||this.getChildren(),this.children.each(function(t,e){var i=e.instance;i&&!0===i.fieldObject?i.valid():Rui.get(e).valid()},this))},doChangeEvent:function(t,e,i){if(0!=t.bind&&!(t.dataSet.getCount()-1<t.bindRow))for(var a=e,n=t.getBindInfoByObject(a),s=0;s<n.length;s++){var r,o,u=n[s],l=null;-1<t.bindRow&&(r=t.dataSet.getAt(t.bindRow),!0===a.fieldObject&&"text"==u.value?l=a.getDisplayValue?a.getDisplayValue():a.getValue():!0===a.fieldObject?l=a.getValue():"select"==a.tagName.toLowerCase()&&"text"==u.value?l=a.options[a.selectedIndex].text:(l=0==Rui.isUndefined(a[u.value])?a[u.value]:null,"input"==a.tagName.toLowerCase()&&"checkbox"==a.type&&(l=0==a.checked?"":i)),(o=t.dataSet.getFieldById(u.id))&&"number"==o.type&&"string"==typeof l&&(l=""==l?0:parseFloat(l,10)),r.set(u.id,l))}},getBindInfoByObject:function(t){this.bindInfoMap=this.bindInfoMap||{};var e=this.bindInfoMap[t.name]||this.bindInfoMap[t.id];if(!e){e=[];for(var i=0;i<this.bindInfo.length;i++)if(this.bindInfo[i].ctrlId==t.name||this.bindInfo[i].ctrlId==t.id){if(!this.bindInfo[i].eventName)if(!0===t.fieldObject)this.bindInfo[i].eventName="changed";else if("INPUT"==t.tagName||"TEXTAREA"==t.tagName||"SELECT"==t.tagName)"INPUT"!=t.tagName||"radio"!=t.type&&"checkbox"!=t.type?this.bindInfo[i].eventName="change":this.bindInfo[i].eventName="click";else if("SPAN"!=t.tagName)throw new Error("LBind.getBindInfoByObject() : Bind를 지원하는 객체가 아닙니다.");e[e.length]=this.bindInfo[i]}(t.name||t.id)&&(this.bindInfoMap[t.name||t.id]=e)}return e},clearBindInfoMap:function(){this.bindInfoMap=null},getBindInfoByDom:function(t){var e=this.getBindInfoByObject(t);return 0<e.length?e[0]:null},getBindInfoById:function(t){for(var e=0,i=this.bindInfo.length;e<i;e++)if(this.bindInfo[e].id==t)return this.bindInfo[e];return null},getIdByChild:function(t){var e=t.instance;return e&&!0===e.fieldObject&&e.id?e.name||e.id:t.name||t.id},load:function(r){var o;Rui.isUndefined(r)&&(r=0),!0!==this.bind||r<-1||this.dataSet.getCount()-1<r||(this.bindRow=r,this.children=this.children||this.getChildren(),o=this.children,this.children.each(function(t,e){var i,a=e.instance,n=a&&!0===a.fieldObject?this.getBindInfoByDom(a):this.getBindInfoByDom(e);if(null!=n&&(n&&(i=this.dataSet.getFieldById(n.id)),i)){if(this.dataSet.getCount()-1<r)return;var s=-1<r?this.dataSet.getAt(r).get(i.id):null;this.doChangeSetValue(o,e,n,s),r<0?a?a.el.addClass("L-bind-disabled"):Rui.get(e).addClass("L-bind-disabled"):a?a.el.removeClass("L-bind-disabled"):Rui.get(e).removeClass("L-bind-disabled")}},this))},getChildren:function(){for(var t=new Rui.util.LCollection,e=Rui.util.LDomSelector.query(this.selector,this.groupEl.dom),i=0;i<e.length;i++){var a=e[i].name||e[i].id;("radio"==e[i].type||t.indexOfKey(a)<0)&&t.add(a,e[i])}return t},bindSetValueInit:function(t,e){t.setValue&&(t.oldSetValue=t.setValue,t.setValue=function(){t.getValue()!==arguments[0]&&(t.oldSetValue(arguments[0]),e.call(t,{target:t.dom}))})},doChangeSetValue:function(t,i,e,a){var n;"INPUT"!=i.tagName||"radio"!=i.type&&"checkbox"!=i.type?(null==a&&(a=""),(n=i.instance)&&!0===n.fieldObject&&"value"==e.value?n.setValue(a,!0):"html"==e.value?(a=e.renderer?e.renderer(a):a,i.innerHTML=a):"file"!=i.type&&(i[e.value]=a)):(n=i.instance,id=this.getIdByChild(i),"radio"==i.type?this.children.each(function(t,e){if(e.name==i.name){if(n&&n.groupInstance)return n.groupInstance.setValue(a),!1;e.value==a?e.checked=!0:e.checked=!1}},this):i.value==a?(i.checked=!0,n&&!0===n.fieldObject&&n.setValue(!0)):(i.checked=!1,n&&!0===n.fieldObject&&n.setValue(!1)))},each:function(t,e){for(var i=0;i<t.length;i++){var a=t[i].id||t[i].name;if(0==Rui.isUndefined(a)&&0==Rui.isNull(a)&&""!=a&&0==e.call(this,t[i]))break}},setDataSet:function(t){this.dataSet=t,this.initEventDataSet()},setBind:function(t){this.bind=t,this.rebind(),this.load(this.dataSet.getRow())},toString:function(){return"Rui.data.LBind "+this.groupId}}),Rui.namespace("Rui.data"),Rui.data.LDataSetManager=function(t){var e,i;Rui.data.LDataSetManager.superclass.constructor.call(this),t=t||{},t=Rui.applyIf(t,Rui.getConfig().getFirst("$.base.dataSetManager.defaultProperties")),this.id=t.formId,Rui.applyObject(this,t,!0),this.transaction=null,this.createEvent("success"),this.createEvent("failure"),this.createEvent("upload"),this.createEvent("beforeUpdate"),this.createEvent("beforeLoad"),this.createEvent("beforeLoadData"),this.createEvent("load"),this.createEvent("loadException"),this.doSuccessDelegate=Rui.util.LFunction.createDelegate(this.doSuccess,this),this.doFailureDelegate=Rui.util.LFunction.createDelegate(this.doFailure,this),this.doUploadDelegate=Rui.util.LFunction.createDelegate(this.doUpload,this),this.on("success",this.onSuccess,this,!0),!0===this.defaultSuccessHandler&&this.on("success",function(t){Rui.alert(Rui.getMessageManager().get("$.base.msg100"))},this,!0),!0===this.defaultFailureHandler&&(e=Rui.getConfig().getFirst("$.base.dataSetManager.failureHandler"),this.on("failure",e,this,!0)),!0===this.defaultLoadExceptionHandler&&(i=Rui.getConfig().getFirst("$.base.dataSetManager.loadExceptionHandler"),this.on("loadException",i,this,!0)),Rui.ui.LWaitPanel&&!Rui.data.LDataSetManager.waitPanel&&(Rui.data.LDataSetManager.waitPanel=new Rui.ui.LWaitPanel)},Rui.extend(Rui.data.LDataSetManager,Rui.util.LEventProvider,{disableCaching:!0,timeout:30,sslBlankUrl:"about:blank",checkIsUpdate:!0,loadCache:!1,useWaitPanel:!0,dataParameterName:"dui_datasetdata",dataTypeParameterName:"dui_datasetdatatype",update:function(t){var e,i,a=t||{},n=(a=Rui.applyIf(a,{url:null,params:{},callback:{},discardUrl:!1})).url,s=a.params,r=a.callback,o=a.discardUrl;!1!==a.beforeUpdateEvent&&!1===this.fireEvent("beforeUpdate",{target:this.el,url:n,params:s})||(o||(this.defaultUrl=n),s&&"string"!=typeof s&&(s=Rui.util.LObject.serialize(s)),e={success:this.doSuccessDelegate,failure:this.doFailureDelegate,timeout:1e3*this.timeout,cache:!this.disableCaching,argument:{url:n,form:null,callback:r,params:s}},this.waitPanelShow(),i=s?"POST":"GET",this.sync||1==this.sync?this.transaction=Rui.LConnect.syncRequest(i,n,e,s,a):this.transaction=Rui.LConnect.asyncRequest(i,n,e,s,a))},updateForm:function(t){var e,i,a,n,s=t||{},r=(s=Rui.applyIf(s,{url:null,form:null,callback:{},params:{},reset:!1})).url,o=s.form,u=s.callback,l=s.reset;!1!==s.beforeUpdateEvent&&!1===this.fireEvent("beforeUpdate",{target:this.el,url:r,form:o})||(e=Rui.util.LDom.get(o),r=r||e.action,a=!(i={success:this.doSuccessDelegate,failure:this.doFailureDelegate,upload:this.doUploadDelegate,timeout:1e3*this.timeout,argument:{url:r,form:o,callback:u,reset:l}}),(n=e.getAttribute("enctype"))&&"multipart/form-data"==n.toLowerCase()&&(a=!0,s=Rui.applyIf(s,{isFileUpload:!0})),Rui.LConnect.setForm(o,a,this.sslBlankUrl),postData=Rui.util.LObject.serialize(s.params),this.waitPanelShow(),this.sync||1==this.sync?this.transaction=Rui.LConnect.syncRequest("POST",r,i,postData,s):this.transaction=Rui.LConnect.asyncRequest("POST",r,i,postData,s))},updateDataSet:function(t){var e=t||{},i=(e=Rui.applyIf(e,{dataSets:[],url:null,params:{},callback:{},checkIsUpdate:!1!==e.modifiedOnly&&this.checkIsUpdate,cache:this.cache||!1,markedOnly:this.markedOnly||!1})).dataSets;this.filterTask||(this.filterTask=new Rui.util.LDelayedTask(Rui.util.LFunction.createDelegate(function(){this.doUpdateDataSet(e,i)},this)),this.filterTask.delay(500))},doUpdateDataSet:function(t,e){if(!1===t.beforeUpdateEvent||!1!==this.fireEvent("beforeUpdate",{target:this.el,url:t.url,dataSets:e})){var i=!1;if(0==t.markedOnly&&1==t.checkIsUpdate)for(var a=0;a<e.length;a++){var n=Rui.util.LDom.get(e[a]);if(!0===(i=!1===i?n.isUpdated():i))break}else i=!0;if(!1===i)return Rui.alert(Rui.getMessageManager().get("$.base.msg102")),void delete this.filterTask;var s=t.url,r=t.callback,o=null,o=t.markedOnly?this.serializeByMarkedOnlyDataSet(e):!1===t.modifiedOnly?this.serializeByDataSet(e):this.serializeByModifiedDataSet(e);"object"==typeof t.params?o+="&"+Rui.util.LObject.serialize(t.params):o+="&"+t.params;var u={success:this.doSuccessDelegate,failure:this.doFailureDelegate,timeout:1e3*this.timeout,argument:{url:t.url,dataSets:e,callback:r,params:t.params}};this.dataSets=e,this.waitPanelShow(),Rui.LConnect._isFormSubmit=!1,this.sync||1==this.sync?this.transaction=Rui.LConnect.syncRequest("POST",s,u,o,t):this.transaction=Rui.LConnect.asyncRequest("POST",s,u,o,t),delete this.filterTask}else delete this.filterTask},serializeByModifiedDataSet:function(t){var e,i=this.dataParameterName+"=";return 0<t.length&&(e=Rui.util.LDom.get(t[0]),i+=encodeURIComponent(e.serializeModifiedDataSetList(t)),i+="&"+this.dataTypeParameterName+"="+e.dataSetType),i},serializeByDataSet:function(t){var e,i=this.dataParameterName+"=";return 0<t.length&&(e=Rui.util.LDom.get(t[0]),i+=encodeURIComponent(e.serializeDataSetList(t)),i+="&"+this.dataTypeParameterName+"="+e.dataSetType),i},serializeByMarkedOnlyDataSet:function(t){var e,i=this.dataParameterName+"=";return 0<t.length&&(e=Rui.util.LDom.get(t[0]),i+=encodeURIComponent(e.serializeMarkedOnlyDataSetList(t)),i+="&"+this.dataTypeParameterName+"="+e.dataSetType),i},loadDataSet:function(t){var e=(a=t||{}).dataSets;a.dataSets=null,a.multi=!0;var i=this,a=Rui.applyIf(a,{method:"POST",callback:{success:function(t){i.loadDataResponse(e,t,a)},failure:function(t){i.waitPanelHide();var e=new Error(t.responseText);if(!1!==i.fireEvent("loadException",{target:i,throwObject:e,conn:t}))throw e}},url:null,params:{},cache:this.cache||!1});this.lastOptions=a,this.lastOptions.state=0==Rui.isUndefined(this.lastOptions.state)?this.lastOptions.state:Rui.data.LRecord.STATE_NORMAL;var n="",n="object"==typeof a.params?Rui.util.LObject.serialize(a.params):a.params;this.fireEvent("beforeLoad",{target:this}),Rui.LConnect._isFormSubmit=!1,this.waitPanelShow(),a.sync&&1==a.sync?Rui.LConnect.syncRequest(a.method,a.url,a.callback,n,a):Rui.LConnect.asyncRequest(a.method,a.url,a.callback,n,a)},loadDataResponse:function(t,e,i){try{this.fireEvent("beforeLoadData");var a=!1;if(this.loadCache&&this.oldResponseText==e.responseText&&(a=!0),!1===a){for(var n=null,s=0;s<t.length;s++){var r=t[s];1===t.length&&(i.multi=!1),n=r.getReadResponseData(e),r._cachedData=n;var o=r.getReadData(e,i);r.loadData(o,i),delete r._cachedData}this.oldResponseText=n}this.waitPanelHide(),this.fireEvent("load",{target:this,conn:e})}catch(t){if(this.waitPanelHide(),!1!==this.fireEvent("loadException",{target:this,throwObject:t,conn:e}))throw t}},doSuccess:function(t){if(this.waitPanelHide(),this.transaction=null,t.argument.form&&t.argument.reset)try{t.argument.form.reset()}catch(t){}(t.target=this).fireEvent("success",t),"function"==typeof t.argument.callback&&t.argument.callback(this,!0)},doFailure:function(t){this.waitPanelHide(),this.transaction=null,(t.target=this).fireEvent("failure",t),"function"==typeof t.argument.callback&&t.argument.callback(this,!1)},doUpload:function(t){this.waitPanelHide(),this.transaction=null,(t.target=this).fireEvent("upload",t),"function"==typeof t.argument.callback&&t.argument.callback(this,!1)},onSuccess:function(){for(var t=0;null!=this.dataSets&&t<this.dataSets.length;t++){this.dataSets[t].commit()}this.dataSets=null},abort:function(){this.transaction&&Rui.LConnect.abort(this.transaction)},isUpdating:function(){return!!this.transaction&&Rui.LConnect.isCallInProgress(this.transaction)},waitPanelShow:function(){var t=Rui.data.LDataSetManager;t.waitPanel&&this.useWaitPanel&&(t.waitPanelCount||(t.waitPanelCount=0),t.waitPanelCount++,t.waitPanel.show())},waitPanelHide:function(){var t=Rui.data.LDataSetManager;t.waitPanel&&this.useWaitPanel&&(t.waitPanelCount&&t.waitPanelCount--,t.waitPanelCount<1&&t.waitPanel.hide())},toString:function(){return"Rui.data.LDataSetManager "+this.id}}),Rui.namespace("Rui.validate"),Rui.validate.LValidator=function(t,e){e=e||{},Rui.applyObject(this,e,!0),this.id=t},Rui.validate.LValidator.prototype={id:null,itemName:null,fn:null,otype:"Rui.util.LValidator",validate:function(t){return!0},toString:function(){return(this.otype||"Rui.validate.LValidator")+" "+this.id}},Rui.validate.LValidatorManager=function(t){t=t||{};this.selector=t.selector||"input,select,textarea",this.validators=new Rui.util.LCollection,t.validators&&this.parse(t.validators)},Rui.validate.LValidatorManager.prototype={validators:null,invalidList:null,parse:function(t){for(var e=0;e<t.length;e++){var i,a=t[e],n=a.id,s=a.validExp,r=Rui.util.LString.advancedSplit(s,":","it"),o=r[0],u="true"==r[1];if(u&&((i=new Rui.validate.LRequiredValidator(n)).required=u,i.label=o,this.add(n,i)),Rui.isNull(r[2]))return;for(var l=Rui.util.LString.advancedSplit(r[2],"&","it"),d=0;d<l.length;d++)if(!Rui.isNull(l[d])){var h=l[d].indexOf("="),c=[],c=[];if(-1==h?c.push(l[d]):(c.push(l[d].substring(0,h)),c.push(l[d].substring(h+1))),Rui.isNull(c[0]))throw new Rui.LException(o+" : "+Rui.getMessageManager().get("$.base.msg050",l[d]));if(1<c.length&&""==Rui.util.LString.trim(c[1]))throw new Rui.LException(o+" : "+Rui.getMessageManager().get("$.base.msg050",l[d]));var g=Rui.util.LString.firstUpperCase(c[0]);if(!Rui.validate["L"+g+"Validator"])throw new Rui.LException(o+" : "+Rui.getMessageManager().get("$.base.msg051",l[d]));try{var f=null;(f=c[1]?new Rui.validate["L"+g+"Validator"](n,c[1]):new Rui.validate["L"+g+"Validator"](n)).required=u,f.fn=a.fn,f.label=o,this.add(n,f)}catch(t){throw t instanceof Rui.LException&&(t.message=o+" : "+Rui.getMessageManager().get("$.base.msg050",l[d])),t}}}},add:function(t,e){return this.validators.add(t,e),this},validate:function(t,e){var i,a,n=!0,s=[],r=[];for(var o in t)i=t[o],0==(a=this.validateField(o,i,e)).isValid&&(s.push({row:e,id:a.id,value:a.value,label:a.label,message:a.message}),!Rui.util.LArray.indexOf(r,a.message)<=0&&(r=r.concat(a.message)),n=!1);return this.invalidList=s,this.messageList=r,n},validateGroup:function(t){var r=!0,o=[];this.invalidList=[],t=Rui.get(t);var e=Rui.util.LDomSelector.query(this.selector,t.dom),u=null;return Rui.util.LArray.each(e,function(t){var e,i,a=Rui.get(t),n=t.name||t.id,s=this.validators.get(n);s&&0==this.validateEl(a)&&(e=null!=s?s.label:n,r=!1,this.invalidList.push({id:n,label:e,value:a.getValue(),messageList:this.messageList}),(i=e+" : "+this.messageList+"\r\n")!=u&&(o=o.concat(i)),u=i)},this),this.messageList=o,r},validateField:function(t,e,i){for(var a=!0,n=t,s=[],r=this.getValidatorList(t),o=0;o<r.length;o++){var u,l=r[o];l&&(u=!0,l.fn?u=l.fn.call(l,e,i):!1===l.required&&Rui.isEmpty(e)||(u=l.validate(e)),0==u&&(n=l.label||t,a=u,s.push(l.message)))}return{isValid:a,id:t,label:n,message:s.join("\r\n"),messages:s}},validateEl:function(t){var e,i,a,n,s,r,o=!0,u='<ul style="margin:0px;padding-left:20px">';if(t.gridFieldId)e=(a=t).gridFieldId;else if(1==t.fieldObject)e=(a=t).id;else{if(null==(t=Rui.get(t)))throw new Rui.LException("Unknown element");e=(i=t.dom.instance)&&!0===i.fieldObject?(a=i).name||i.id:(a=t).dom.name||t.dom.id}n=a.getValue(),s=[],r=this.getValidatorList(e);for(var l=0;l<r.length;l++){var d,h=r[l];h&&(d=!0,h.fn?d=h.fn.call(h,n):t.dom&&"radio"==t.dom.type?h instanceof Rui.validate.LRequiredValidator?(t.dom.name&&(d=!1,t.parentDepth(3).select("input[name="+t.dom.name+"]").each(function(t,e){if(!0===t.dom.checked)return!(d=!0)})),!1===d&&(h.message=Rui.getMessageManager().get("$.base.msg001"))):d=h.validate(n):!1===h.required&&Rui.isEmpty(n)||(d=h.validate(n)),0==d&&!Rui.util.LArray.indexOf(s,h.message)<=0?(u+="<li>"+h.message+"</li>",s.push(h.message),o=!1):a.valid())}return u+="</ul>",o?a.valid():a.invalid(u),this.messageList=s,o},validateDataSet:function(t,e){if(t.getCount()<1)return!0;var i=!0,a=[],n=!!Rui.isUndefined(e);e=!Rui.isUndefined(e)&&e<0?0:e;for(var s=Rui.isUndefined(e)?t.getCount():e+1,r=!1,o=e||0;o<s;o++){var u=t.getAt(o);if(t.isRowModified(o))for(var l=0,d=t.fields.length;u&&l<d;l++){var h,c=t.fields[l].id,g=u.get(c);!0===t.remainRemoved&&t.isRowDeleted(o)||(0==(h=this.validateField(c,g,o)).isValid?(i=!1,t.invalid(o,u.id,l,h.id,h.message,h.value,n),a.push("["+(o+1)+" row : "+h.label+"] => "+h.message)):t.valid(o,u.id,l,h.id,n))}else for(l=0,d=t.fields.length;u&&l<d;l++){c=t.fields[l].id;n?n&&0==r&&(t.valid(o,u.id,l,c,n),r=!0):t.valid(o,u.id,l,c,n)}}return this.messageList=a,i},validateGrid:function(t){for(var e=t.getView(),i=e.dataSet,a=!0,n=[],s=0;s<i.getCount();s++)if(i.isRowModified(s))for(var r=i.getAt(s),o=this.validate(r.getValues(),s),a=a?o:a,u=this.getInvalidList(),l={},d=0;d<u.length;d++){var h,c,g=e.columnModel.getColumnById(u[d].id),f=u[d].id,m=this.validators.get(f);colLabel=null!=m?m.label:null!=g?g.getLabel():colLabel,null!=g&&(h=e.columnModel.getIndexById(f,!0),e.addCellClass(s,h,"L-invalid"),l[f]||e.removeCellAlt(s,h),c=e.getCellAlt(s,h),e.addCellAlt(s,h,(c?c+"/":c)+u[d].message),l[f]=h);var R=u[d].message;n.push("["+(s+1)+" row : "+colLabel+"] => "+R)}return this.messageList=n,a},clearInvalids:function(){var t=this.getInvalidList();if(t){for(var e,i=0,a=t.length;i<a;i++){(e=Rui.get(t[i].id))&&e.valid()}this.invalidList=null}},getValidatorList:function(t){for(var e=[],i=0;i<this.validators.length;i++){var a=this.validators.getAt(i);t==a.id&&e.push(a)}return e},getValidator:function(t,e){for(var i=Rui.util.LString.firstUpperCase(e),a=this.getValidatorList(t),n=0;n<a.length;n++)if(a[n]instanceof Rui.validate["L"+i+"Validator"])return a[n];return null},getInvalidList:function(){return this.invalidList},getMessageList:function(){return this.messageList},toString:function(){return"Rui.validate.LValidatorManager "+this.id}},Rui.validate.LLengthValidator=function(t,e,i){Rui.validate.LLengthValidator.superclass.constructor.call(this,t,i),this.length=parseInt(e,10),this.msgId="$.base.msg003"},Rui.extend(Rui.validate.LLengthValidator,Rui.validate.LValidator,{otype:"Rui.validate.LLengthValidator",validate:function(t){return!(!Rui.isNull(t)&&!Rui.isUndefined(t))||(t+="",!!this.checkCondition(t,this.length)||(this.message=Rui.getMessageManager().get(this.msgId,[this.length]),!1))},checkCondition:function(t,e){return t.length==e}}),Rui.validate.LDateValidator=function(t,e,i){Rui.validate.LDateValidator.superclass.constructor.call(this,t,i),this.dateExp=e,this.lastDateExp=this.dateExp,this.year=null,this.month=null,this.value=null},Rui.extend(Rui.validate.LDateValidator,Rui.validate.LValidator,{otype:"Rui.validate.LDateValidator",validate:function(t){return t instanceof Date||(this.value=t,this.dateExp=this.lastDateExp,!!Rui.isEmpty(t)||this.checkLength(t)&&this.checkYear(t)&&this.checkMonth(t)&&this.checkDay(t)&&this.checkHour(t)&&this.checkMin(t)&&this.checkSec(t)&&this.checkRest(t))},checkLength:function(){return this.value.length==this.dateExp.length||(this.message=Rui.getMessageManager().get("$.base.msg037",[this.dateExp]),!1)},checkYear:function(){var t=-1;return-1!=(t=this.dateExp.indexOf("YYYY"))?(subValue=this.value.substr(t,4),!isNaN(subValue)&&0<subValue?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,4),this.value=Rui.util.LString.cut(this.value,t,4),this.year=subValue,!0):(this.message=Rui.getMessageManager().get("$.base.msg013"),!1)):-1==(t=this.dateExp.indexOf("YY"))||(subValue="20"+this.value.substr(t,2),!isNaN(subValue)&&0<subValue?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),this.year=subValue,!0):(this.message=Rui.getMessageManager().get("$.base.msg013"),!1))},checkMonth:function(){var t;return-1==(t=this.dateExp.indexOf("MM"))||(subValue=this.value.substr(t,2),!isNaN(subValue)&&0<subValue&&subValue<=12?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),this.month=subValue,!0):(this.message=Rui.getMessageManager().get("$.base.msg017"),!1))},checkDay:function(){var t,e=0;return-1==(t=this.dateExp.indexOf("DD"))||(e=this.year&&this.month?2!=this.month?Rui.util.LDate.getDayInMonth(this.month-1):this.year%4==0&&this.year%100!=0||this.year%400==0?29:28:31,subValue=this.value.substr(t,2),!isNaN(subValue)&&0<subValue&&subValue<=e?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),!0):(this.message=Rui.getMessageManager().get("$.base.msg018"),!1))},checkHour:function(){var t=-1;return-1!=(t=this.dateExp.indexOf("hh"))?(subValue=this.value.substr(t,2),!isNaN(subValue)&&0<=(subValue=Number(subValue))&&subValue<=12?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),!0):(this.message=Rui.getMessageManager().get("$.base.msg019"),!1)):-1==(t=this.dateExp.indexOf("HH"))||(subValue=this.value.substr(t,2),!isNaN(subValue)&&0<=(subValue=Number(subValue))&&subValue<24?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),!0):(this.message=Rui.getMessageManager().get("$.base.msg019"),!1))},checkMin:function(){var t;return-1==(t=this.dateExp.indexOf("mm"))||(subValue=this.value.substr(t,2),!isNaN(subValue)&&0<=(subValue=Number(subValue))&&subValue<60?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),this.month=subValue,!0):(this.message=Rui.getMessageManager().get("$.base.msg020"),!1))},checkSec:function(){var t;return-1==(t=this.dateExp.indexOf("ss"))||(subValue=this.value.substr(t,2),!isNaN(subValue)&&0<=(subValue=Number(subValue))&&subValue<60?(this.dateExp=Rui.util.LString.cut(this.dateExp,t,2),this.value=Rui.util.LString.cut(this.value,t,2),this.month=subValue,!0):(this.message=Rui.getMessageManager().get("$.base.msg021"),!1))},checkRest:function(){return this.value==this.dateExp}}),Rui.validate.LFormatValidator=function(t,e,i){Rui.validate.LFormatValidator.superclass.constructor.call(this,t,i),this.format=e},Rui.extend(Rui.validate.LFormatValidator,Rui.validate.LValidator,{otype:"Rui.validate.LFormatValidator",validate:function(t){if(Rui.isEmpty(t))return!0;if(t.length!=this.format.length)return this.message=Rui.getMessageManager().get("$.base.msg024",[this.format]),!1;for(var e=!1,i=0;i<this.format.length;i++){var a=t.charAt(i),n=t.charCodeAt(i);switch(this.format.charAt(i)){case"h":" "!=a&&(44032<=n&&n<=55203||12593<=n&&n<=12686)||(e=!0);break;case"H":n=t.charCodeAt(i);" "==a||44032<=n&&n<=55203||12593<=n&&n<=12686||(e=!0);break;case"0":!isNaN(a)&&" "!=a||(e=!0);break;case"9":isNaN(a)&&" "!=a&&(e=!0);break;case"A":" "!=a&&isNaN(a)||(e=!0);break;case"Z":" "==a||isNaN(a)||(e=!0);break;case"#":break;default:a!=this.format.charAt(i)&&(e=!0)}if(e)return this.message=Rui.getMessageManager().get("$.base.msg024",[this.format]),!1}}}),Rui.namespace("Rui.validate"),Rui.validate.LNumberValidator=function(t,e,i){var a;Rui.validate.LNumberValidator.superclass.constructor.call(this,t,i),e&&((a=e.match(Rui.validate.LNumberValidator.re))?(this.iLength=Number(a[1]),this.dLength=Number(a[2])):(this.iLength=null,this.dLength=null))},Rui.extend(Rui.validate.LNumberValidator,Rui.validate.LValidator,{otype:"Rui.validate.LNumberValidator",validate:function(t){if(isNaN(t))return this.message=Rui.getMessageManager().get("$.base.msg005"),!1;try{if(parseFloat(t),0<String(t).length&&0<String(t).indexOf("-"))throw new Error}catch(t){return this.message=Rui.getMessageManager().get("$.base.msg005"),!1}if(Rui.isNull(this.iLength)||Rui.isUndefined(this.iLength))return!0;var e=String(t),i=e.indexOf(".");if(-1==i)return this.message=Rui.getMessageManager().get("$.base.msg036",[this.dLength]),!1;var a=e.substr(0,i),n=e.substr(i+1);return a.length>this.iLength?(this.message=Rui.getMessageManager().get("$.base.msg035",[this.iLength]),!1):n.length==this.dLength||(this.message=Rui.getMessageManager().get("$.base.msg036",[this.dLength]),!1)}}),Rui.validate.LNumberValidator.re=/\s*(\d+)\s*.\s*(\d+)\s*/,Rui.validate.LRequiredValidator=function(t,e){Rui.validate.LRequiredValidator.superclass.constructor.call(this,t,e),this.msgId="$.base.msg001"},Rui.extend(Rui.validate.LRequiredValidator,Rui.validate.LValidator,{otype:"Rui.validate.LRequiredValidator",validate:function(t){return!Rui.isEmpty(t)||(this.message=Rui.getMessageManager().get(this.msgId),!1)}}),Rui.validate.LByteLengthValidator=function(t,e,i){Rui.validate.LByteLengthValidator.superclass.constructor.call(this,t,i),this.length=parseInt(e,10),this.msgId="$.base.msg029"},Rui.extend(Rui.validate.LByteLengthValidator,Rui.validate.LValidator,{otype:"Rui.validate.LByteLengthValidator",validate:function(t){return!(!Rui.isNull(t)&&!Rui.isUndefined(t))||(t+="",!!this.checkCondition(this.getByteLength(t),this.length)||(this.message=Rui.getMessageManager().get(this.msgId,[this.length,Math.round(this.length/3)]),!1))},getByteLength:function(t){for(var e,i=0,a=0;a<t.length;a++)1==(e=escape(t.charAt(a))).length?i++:-1!=e.indexOf("%u")?i+=3:-1!=e.indexOf("%")&&(i+=e.length/3);return i},checkCondition:function(t,e){return t==e}}),Rui.validate.LFilterValidator=function(t,e,i){Rui.validate.LFilterValidator.superclass.constructor.call(this,t,i),this.exprs=Rui.util.LString.advancedSplit(e,";","i");for(var a=0;a<this.exprs.length;a++)"\\h"==this.exprs[a]?this.exprs[a]="한글":"\\a"==this.exprs[a]?this.exprs[a]="영문":"\\n"==this.exprs[a]&&(this.exprs[a]="숫자");this.msgId="$.base.msg033"},Rui.extend(Rui.validate.LFilterValidator,Rui.validate.LValidator,{otype:"Rui.validate.LFilterValidator",validate:function(t){for(var e=0;e<this.exprs.length;e++){var i=this.exprs[e];if(("한글"==i||"영문"==i||"숫자"==i)&&!this.checkWildChr(t,i)||t&&-1!=t.indexOf(i))return this.message=Rui.getMessageManager().get(this.msgId,[i]),!1}return!0},checkWildChr:function(t,e){for(var i=0;i<t.length;i++){var a=t.charAt(i),n=a.charCodeAt(0);if("한글"==e&&(44032<=n&&n<=55203||12593<=n&&n<=12686)||"영문"==e&&(97<=n&&n<=122||65<=n&&n<=90)||"숫자"==e&&!isNaN(a))return!1}return!0}}),Rui.validate.LInNumberValidator=function(t,e,i){var a=e.indexOf("~");if(this.minNumber=e.substring(0,a),this.maxNumber=e.substr(a+1),isNaN(this.minNumber)||isNaN(this.maxNumber))throw new Rui.LException;Rui.validate.LInNumberValidator.superclass.constructor.call(this,t,i),this.minNumber=Number(this.minNumber),this.maxNumber=Number(this.maxNumber)},Rui.extend(Rui.validate.LInNumberValidator,Rui.validate.LValidator,{otype:"Rui.validate.LInNumberValidator",validate:function(t){return isNaN(t)?(this.message=Rui.getMessageManager().get("$.base.msg005"),!1):!((t=Number(t))<this.minNumber||t>this.maxNumber)||(this.message=Rui.getMessageManager().get("$.base.msg004",[this.minNumber,this.maxNumber]),!1)}}),Rui.namespace("Rui.validate"),Rui.validate.LMinByteLengthValidator=function(t,e,i){Rui.validate.LMinByteLengthValidator.superclass.constructor.call(this,t,i),this.length=parseInt(e,10),this.msgId="$.base.msg030"},Rui.extend(Rui.validate.LMinByteLengthValidator,Rui.validate.LByteLengthValidator,{otype:"Rui.validate.LMinByteLengthValidator",checkCondition:function(t,e){return e<=t}}),Rui.validate.LMinDateValidator=function(t,e,i){var a=e.indexOf("(");if(this.format="YYYYMMDD",this.minDate=e,-1!=a&&(this.minDate=e.substring(0,a),this.format=e.substring(a+1,e.length-1)),!new Rui.validate.LDateValidator(t,this.format).validate(this.minDate))throw new Rui.LException;Rui.validate.LMinDateValidator.superclass.constructor.call(this,t,i),this.msgId="$.base.msg022"},Rui.extend(Rui.validate.LMinDateValidator,Rui.validate.LValidator,{otype:"Rui.validate.LMinDateValidator",validate:function(t){if(Rui.isEmpty(t))return!0;if(!new Rui.validate.LDateValidator(this.id,this.format).validate(t))return this.message=Rui.getMessageManager().get(this.msgId),!1;var e=Rui.util.LString;if(t instanceof Date&&(t=t.getFullYear()+e.lPad(t.getMonth()+1,"0",2)+e.lPad(t.getDate(),"0",2)),this.checkCondition(t,this.minDate))return!0;var i=new Array(4);return i[0]=this.minDate.substring(0,4),i[1]="0"==this.minDate.substring(4,5)?this.minDate.substring(5,6):this.minDate.substring(4,6),i[2]="0"==this.minDate.substring(6,7)?this.minDate.substring(7,8):this.minDate.substring(6,8),this.message=Rui.getMessageManager().get(this.msgId,i),!1},checkCondition:function(t,e){return e<=t}}),Rui.namespace("Rui.validate"),Rui.validate.LMinLengthValidator=function(t,e,i){Rui.validate.LMinLengthValidator.superclass.constructor.call(this,t,i),this.length=parseInt(e,10),this.msgId="$.base.msg009"},Rui.extend(Rui.validate.LMinLengthValidator,Rui.validate.LValidator,{otype:"Rui.validate.LMinLengthValidator",validate:function(t){return!(!Rui.isNull(t)&&!Rui.isUndefined(t))||(t+="",!!this.checkCondition(t,this.length)||(this.message=Rui.getMessageManager().get(this.msgId,[this.length]),!1))},checkCondition:function(t,e){return t.length>=e}}),Rui.validate.LMinNumberValidator=function(t,e,i){if(isNaN(e))throw new Rui.LException;Rui.validate.LMinNumberValidator.superclass.constructor.call(this,t,i),this.minNumber=Number(e)},Rui.extend(Rui.validate.LMinNumberValidator,Rui.validate.LValidator,{otype:"Rui.validate.LMinNumberValidator",validate:function(t){return isNaN(t)?(this.message=Rui.getMessageManager().get("$.base.msg005"),!1):(this.minNumber=Number(this.minNumber),!((t=Number(t))<this.minNumber)||(this.message=Rui.getMessageManager().get("$.base.msg011",[this.minNumber]),!1))}}),Rui.validate.LMaxByteLengthValidator=function(t,e,i){Rui.validate.LMaxByteLengthValidator.superclass.constructor.call(this,t,e,i),this.msgId="$.base.msg031"},Rui.extend(Rui.validate.LMaxByteLengthValidator,Rui.validate.LByteLengthValidator,{otype:"Rui.validate.LMaxByteLengthValidator",checkCondition:function(t,e){return t<=e}}),Rui.validate.LMaxDateValidator=function(t,e,i){Rui.validate.LMaxDateValidator.superclass.constructor.call(this,t,e,i),this.msgId="$.base.msg023"},Rui.extend(Rui.validate.LMaxDateValidator,Rui.validate.LMinDateValidator,{otype:"Rui.validate.LMaxDateValidator",checkCondition:function(t,e){return t<=e}}),Rui.validate.LMaxLengthValidator=function(t,e,i){Rui.validate.LMaxLengthValidator.superclass.constructor.call(this,t,e,i),this.msgId="$.base.msg010",this.length=parseInt(e,10)},Rui.extend(Rui.validate.LMaxLengthValidator,Rui.validate.LValidator,{otype:"Rui.validate.LMaxLengthValidator",validate:function(t){return!(!Rui.isNull(t)&&!Rui.isUndefined(t))||(t+="",!!this.checkCondition(t,this.length)||(this.message=Rui.getMessageManager().get(this.msgId,[this.length]),!1))},checkCondition:function(t,e){return(t+"").length<=e}}),Rui.validate.LMaxNumberValidator=function(t,e,i){if(isNaN(e))throw new Rui.LException;Rui.validate.LMaxNumberValidator.superclass.constructor.call(this,t,i),this.maxNumber=Number(e)},Rui.extend(Rui.validate.LMaxNumberValidator,Rui.validate.LValidator,{otype:"Rui.validate.LMaxNumberValidator",validate:function(t){return isNaN(t)?(this.message=Rui.getMessageManager().get("$.base.msg005"),!1):(this.maxNumber=Number(this.maxNumber),!((t=Number(t))>this.maxNumber)||(this.message=Rui.getMessageManager().get("$.base.msg012",[this.maxNumber]),!1))}}),Rui.validate.LSsnValidator=function(t,e){Rui.validate.LSsnValidator.superclass.constructor.call(this,t,e)},Rui.extend(Rui.validate.LSsnValidator,Rui.validate.LValidator,{otype:"Rui.validate.LSsnValidator",validate:function(t){if(Rui.isEmpty(t))return!0;if(!t||13!=(t+"").length||isNaN(t))return this.message=Rui.getMessageManager().get("$.base.msg014"),!1;var e=(t+="").substr(0,6),i=t.substr(6);if(bYear=i.charAt(0)<="2"?"19":"20",bYear+=e.substr(0,2),bMonth=e.substr(2,2)-1,bDate=e.substr(4,2),bSum=new Date(bYear,bMonth,bDate),bSum.getYear()%100!=e.substr(0,2)||bSum.getMonth()!=bMonth||bSum.getDate()!=bDate)return this.message=Rui.getMessageManager().get("$.base.msg014"),!1;total=0,temp=new Array(13);for(var a=1;a<=6;a++)temp[a]=e.charAt(a-1);for(a=7;a<=13;a++)temp[a]=i.charAt(a-7);for(a=1;a<=12;a++)k=a+1,10<=k&&(k=k%10+2),total+=temp[a]*k;return last_num=(11-total%11)%10,last_num==temp[13]||(this.message=Rui.getMessageManager().get("$.base.msg014"),!1)}}),Rui.validate.LCsnValidator=function(t,e){Rui.validate.LCsnValidator.superclass.constructor.call(this,t,e)},Rui.extend(Rui.validate.LCsnValidator,Rui.validate.LValidator,{otype:"Rui.validate.LCsnValidator",validate:function(t){return!!Rui.isEmpty(t)||(t&&10==(t+"").length&&!isNaN(t)&&0!=Rui.util.LString.isCsn(t)||(this.message=Rui.getMessageManager().get("$.base.msg015"),!1))}}),Rui.validate.LEmailValidator=function(t,e){Rui.validate.LEmailValidator.superclass.constructor.call(this,t,e)},Rui.extend(Rui.validate.LEmailValidator,Rui.validate.LValidator,{otype:"Rui.validate.LEmailValidator",validate:function(t){return!!Rui.isEmpty(t)||(0!=Rui.util.LString.isEmail(t)||(this.message=Rui.getMessageManager().get("$.base.msg034"),!1))}}),Rui.validate.LAllowValidator=function(t,e,i){Rui.validate.LAllowValidator.superclass.constructor.call(this,t,i),this.exprs=Rui.util.LString.advancedSplit(e,";","i"),this.msgId="$.base.msg038";for(var a=e.split(";"),n=0;n<a.length;n++)"\\h"==a[n]||"h"==a[n]?a[n]=Rui.getMessageManager().get("$.core.kor"):"\\a"==a[n]||"a"==a[n]?a[n]=Rui.getMessageManager().get("$.core.eng"):"\\n"!=a[n]&&"\n"!=a[n]||(a[n]=Rui.getMessageManager().get("$.core.num"));this.message=Rui.getMessageManager().get(this.msgId,[a.join(",")])},Rui.extend(Rui.validate.LAllowValidator,Rui.validate.LValidator,{otype:"Rui.validate.LAllowValidator",validate:function(t){t+="";for(var e=0;e<t.length;e++){var i=t.charAt(e),a=i.charCodeAt(0);if(44032<=a&&a<=55203||12593<=a&&a<=12686){if(-1==Rui.util.LArray.indexOf(this.exprs,"\\h")&&-1==Rui.util.LArray.indexOf(this.exprs,"h"))return!1}else if(97<=a&&a<=122||65<=a&&a<=90){if(-1==Rui.util.LArray.indexOf(this.exprs,"\\a")&&-1==Rui.util.LArray.indexOf(this.exprs,"a"))return!1}else if(isNaN(parseInt(i,10))){for(var n=!1,s=0;s<this.exprs.length;s++)if("\\h"!=this.exprs[s]&&"\\a"!=this.exprs[s]&&"\\n"!=this.exprs[s]&&"h"!=this.exprs[s]&&"a"!=this.exprs[s]&&"\n"!=this.exprs[s]&&(n=!0,this.exprs[s].indexOf(i)<0)){n=!1;break}if(0==n)return!1}else if(-1==Rui.util.LArray.indexOf(this.exprs,"\\n")&&-1==Rui.util.LArray.indexOf(this.exprs,"\n"))return!1}return!0}}),Rui.validate.LGroupRequireValidator=function(t,e,i){Rui.validate.LGroupRequireValidator.superclass.constructor.call(this,t,i),this.groupName=e,this.message=Rui.getMessageManager().get("$.base.msg039",[1])},Rui.extend(Rui.validate.LGroupRequireValidator,Rui.validate.LValidator,{otype:"Rui.validate.LGroupRequireValidator",validate:function(t){return 0!=Rui.select('input[name="'+this.groupName+'"]:checked').length}});